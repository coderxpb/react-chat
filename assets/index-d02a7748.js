function MM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $M(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fu={},UM={get exports(){return fu},set exports(t){fu=t}},sf={},z={},bM={get exports(){return z},set exports(t){z=t}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qu=Symbol.for("react.element"),FM=Symbol.for("react.portal"),BM=Symbol.for("react.fragment"),VM=Symbol.for("react.strict_mode"),zM=Symbol.for("react.profiler"),WM=Symbol.for("react.provider"),HM=Symbol.for("react.context"),jM=Symbol.for("react.forward_ref"),qM=Symbol.for("react.suspense"),KM=Symbol.for("react.memo"),GM=Symbol.for("react.lazy"),$w=Symbol.iterator;function QM(t){return t===null||typeof t!="object"?null:(t=$w&&t[$w]||t["@@iterator"],typeof t=="function"?t:null)}var SS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IS=Object.assign,TS={};function Wo(t,e,n){this.props=t,this.context=e,this.refs=TS,this.updater=n||SS}Wo.prototype.isReactComponent={};Wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CS(){}CS.prototype=Wo.prototype;function Xm(t,e,n){this.props=t,this.context=e,this.refs=TS,this.updater=n||SS}var Jm=Xm.prototype=new CS;Jm.constructor=Xm;IS(Jm,Wo.prototype);Jm.isPureReactComponent=!0;var Uw=Array.isArray,kS=Object.prototype.hasOwnProperty,Zm={current:null},AS={key:!0,ref:!0,__self:!0,__source:!0};function xS(t,e,n){var r,i={},o=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(o=""+e.key),e)kS.call(e,r)&&!AS.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var h=Array(c),d=0;d<c;d++)h[d]=arguments[d+2];i.children=h}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:qu,type:t,key:o,ref:u,props:i,_owner:Zm.current}}function YM(t,e){return{$$typeof:qu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===qu}function XM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bw=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XM(""+t.key):e.toString(36)}function zc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case qu:case FM:u=!0}}if(u)return u=t,i=i(u),t=r===""?"."+Ap(u,0):r,Uw(i)?(n="",t!=null&&(n=t.replace(bw,"$&/")+"/"),zc(i,e,n,"",function(d){return d})):i!=null&&(ev(i)&&(i=YM(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(bw,"$&/")+"/")+t)),e.push(i)),1;if(u=0,r=r===""?".":r+":",Uw(t))for(var c=0;c<t.length;c++){o=t[c];var h=r+Ap(o,c);u+=zc(o,e,n,h,i)}else if(h=QM(t),typeof h=="function")for(t=h.call(t),c=0;!(o=t.next()).done;)o=o.value,h=r+Ap(o,c++),u+=zc(o,e,n,h,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function gc(t,e,n){if(t==null)return t;var r=[],i=0;return zc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function JM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Wc={transition:null},ZM={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Zm};_e.Children={map:gc,forEach:function(t,e,n){gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gc(t,function(){e++}),e},toArray:function(t){return gc(t,function(e){return e})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Wo;_e.Fragment=BM;_e.Profiler=zM;_e.PureComponent=Xm;_e.StrictMode=VM;_e.Suspense=qM;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IS({},t.props),i=t.key,o=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,u=Zm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)kS.call(e,h)&&!AS.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){c=Array(h);for(var d=0;d<h;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:qu,type:t.type,key:i,ref:o,props:r,_owner:u}};_e.createContext=function(t){return t={$$typeof:HM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WM,_context:t},t.Consumer=t};_e.createElement=xS;_e.createFactory=function(t){var e=xS.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:jM,render:t}};_e.isValidElement=ev;_e.lazy=function(t){return{$$typeof:GM,_payload:{_status:-1,_result:t},_init:JM}};_e.memo=function(t,e){return{$$typeof:KM,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(t,e){return Qt.current.useCallback(t,e)};_e.useContext=function(t){return Qt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Qt.current.useEffect(t,e)};_e.useId=function(){return Qt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Qt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};_e.useRef=function(t){return Qt.current.useRef(t)};_e.useState=function(t){return Qt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Qt.current.useTransition()};_e.version="18.2.0";(function(t){t.exports=_e})(bM);const Ur=$M(z),wg=MM({__proto__:null,default:Ur},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2=z,t2=Symbol.for("react.element"),n2=Symbol.for("react.fragment"),r2=Object.prototype.hasOwnProperty,i2=e2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s2={key:!0,ref:!0,__self:!0,__source:!0};function NS(t,e,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)r2.call(e,r)&&!s2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t2,type:t,key:o,ref:u,props:i,_owner:i2.current}}sf.Fragment=n2;sf.jsx=NS;sf.jsxs=NS;(function(t){t.exports=sf})(UM);const uh=fu.Fragment,Y=fu.jsx,Me=fu.jsxs;var _g={},Eg={},o2={get exports(){return Eg},set exports(t){Eg=t}},En={},Sg={},a2={get exports(){return Sg},set exports(t){Sg=t}},RS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ue){var le=H.length;H.push(ue);e:for(;0<le;){var Ce=le-1>>>1,tt=H[Ce];if(0<i(tt,ue))H[Ce]=ue,H[le]=tt,le=Ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ue=H[0],le=H.pop();if(le!==ue){H[0]=le;e:for(var Ce=0,tt=H.length,Os=tt>>>1;Ce<Os;){var yr=2*(Ce+1)-1,rr=H[yr],In=yr+1,Ps=H[In];if(0>i(rr,le))In<tt&&0>i(Ps,rr)?(H[Ce]=Ps,H[In]=le,Ce=In):(H[Ce]=rr,H[yr]=le,Ce=yr);else if(In<tt&&0>i(Ps,le))H[Ce]=Ps,H[In]=le,Ce=In;else break e}}return ue}function i(H,ue){var le=H.sortIndex-ue.sortIndex;return le!==0?le:H.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var h=[],d=[],g=1,y=null,w=3,A=!1,x=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=H)r(d),ue.sortIndex=ue.expirationTime,e(h,ue);else break;ue=n(d)}}function L(H){if(N=!1,T(H),!x)if(n(h)!==null)x=!0,sa(B);else{var ue=n(d);ue!==null&&Bn(L,ue.startTime-H)}}function B(H,ue){x=!1,N&&(N=!1,I(Q),Q=-1),A=!0;var le=w;try{for(T(ue),y=n(h);y!==null&&(!(y.expirationTime>ue)||H&&!un());){var Ce=y.callback;if(typeof Ce=="function"){y.callback=null,w=y.priorityLevel;var tt=Ce(y.expirationTime<=ue);ue=t.unstable_now(),typeof tt=="function"?y.callback=tt:y===n(h)&&r(h),T(ue)}else r(h);y=n(h)}if(y!==null)var Os=!0;else{var yr=n(d);yr!==null&&Bn(L,yr.startTime-ue),Os=!1}return Os}finally{y=null,w=le,A=!1}}var j=!1,W=null,Q=-1,Re=5,ge=-1;function un(){return!(t.unstable_now()-ge<Re)}function Hi(){if(W!==null){var H=t.unstable_now();ge=H;var ue=!0;try{ue=W(!0,H)}finally{ue?ji():(j=!1,W=null)}}else j=!1}var ji;if(typeof E=="function")ji=function(){E(Hi)};else if(typeof MessageChannel<"u"){var ia=new MessageChannel,sd=ia.port2;ia.port1.onmessage=Hi,ji=function(){sd.postMessage(null)}}else ji=function(){U(Hi,0)};function sa(H){W=H,j||(j=!0,ji())}function Bn(H,ue){Q=U(function(){H(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){x||A||(x=!0,sa(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ue=3;break;default:ue=w}var le=w;w=ue;try{return H()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ue){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var le=w;w=H;try{return ue()}finally{w=le}},t.unstable_scheduleCallback=function(H,ue,le){var Ce=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ce+le:Ce):le=Ce,H){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=le+tt,H={id:g++,callback:ue,priorityLevel:H,startTime:le,expirationTime:tt,sortIndex:-1},le>Ce?(H.sortIndex=le,e(d,H),n(h)===null&&H===n(d)&&(N?(I(Q),Q=-1):N=!0,Bn(L,le-Ce))):(H.sortIndex=tt,e(h,H),x||A||(x=!0,sa(B))),H},t.unstable_shouldYield=un,t.unstable_wrapCallback=function(H){var ue=w;return function(){var le=w;w=ue;try{return H.apply(this,arguments)}finally{w=le}}}})(RS);(function(t){t.exports=RS})(a2);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=z,wn=Sg;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LS=new Set,du={};function As(t,e){Co(t,e),Co(t+"Capture",e)}function Co(t,e){for(du[t]=e,t=0;t<e.length;t++)LS.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ig=Object.prototype.hasOwnProperty,u2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fw={},Bw={};function l2(t){return Ig.call(Bw,t)?!0:Ig.call(Fw,t)?!1:u2.test(t)?Bw[t]=!0:(Fw[t]=!0,!1)}function c2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h2(t,e,n,r){if(e===null||typeof e>"u"||c2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,o,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tv=/[\-:]([a-z])/g;function nv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tv,nv);kt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tv,nv);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tv,nv);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rv(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h2(e,n,i,r)&&(n=null),r||i===null?l2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=DS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),iv=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),PS=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),Cg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),MS=Symbol.for("react.offscreen"),Vw=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=Vw&&t[Vw]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,xp;function Ba(t){if(xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xp=e&&e[1]||""}return`
`+xp+t}var Np=!1;function Rp(t,e){if(!t||Np)return"";Np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,c=o.length-1;1<=u&&0<=c&&i[u]!==o[c];)c--;for(;1<=u&&0<=c;u--,c--)if(i[u]!==o[c]){if(u!==1||c!==1)do if(u--,c--,0>c||i[u]!==o[c]){var h=`
`+i[u].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=u&&0<=c);break}}}finally{Np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ba(t):""}function f2(t){switch(t.tag){case 5:return Ba(t.type);case 16:return Ba("Lazy");case 13:return Ba("Suspense");case 19:return Ba("SuspenseList");case 0:case 2:case 15:return t=Rp(t.type,!1),t;case 11:return t=Rp(t.type.render,!1),t;case 1:return t=Rp(t.type,!0),t;default:return""}}function Ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case Tg:return"Profiler";case iv:return"StrictMode";case Cg:return"Suspense";case kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ov:return e=t.displayName||null,e!==null?e:Ag(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Ag(t(e))}catch{}}return null}function d2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(e);case 8:return e===iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $S(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p2(t){var e=$S(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vc(t){t._valueTracker||(t._valueTracker=p2(t))}function US(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$S(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xg(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bS(t,e){e=e.checked,e!=null&&rv(t,"checked",e,!1)}function Ng(t,e){bS(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rg(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ww(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rg(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Va(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function FS(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yc,VS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yc=yc||document.createElement("div"),yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g2=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){g2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function zS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function WS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var m2=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Og(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mg=null;function av(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $g=null,mo=null,vo=null;function qw(t){if(t=Qu(t)){if(typeof $g!="function")throw Error(b(280));var e=t.stateNode;e&&(e=cf(e),$g(t.stateNode,t.type,e))}}function HS(t){mo?vo?vo.push(t):vo=[t]:mo=t}function jS(){if(mo){var t=mo,e=vo;if(vo=mo=null,qw(t),e)for(t=0;t<e.length;t++)qw(e[t])}}function qS(t,e){return t(e)}function KS(){}var Dp=!1;function GS(t,e,n){if(Dp)return t(e,n);Dp=!0;try{return qS(t,e,n)}finally{Dp=!1,(mo!==null||vo!==null)&&(KS(),jS())}}function gu(t,e){var n=t.stateNode;if(n===null)return null;var r=cf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Ug=!1;if(Br)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Ug=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Ug=!1}function v2(t,e,n,r,i,o,u,c,h){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(g){this.onError(g)}}var Xa=!1,ch=null,hh=!1,bg=null,y2={onError:function(t){Xa=!0,ch=t}};function w2(t,e,n,r,i,o,u,c,h){Xa=!1,ch=null,v2.apply(y2,arguments)}function _2(t,e,n,r,i,o,u,c,h){if(w2.apply(this,arguments),Xa){if(Xa){var d=ch;Xa=!1,ch=null}else throw Error(b(198));hh||(hh=!0,bg=d)}}function xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kw(t){if(xs(t)!==t)throw Error(b(188))}function E2(t){var e=t.alternate;if(!e){if(e=xs(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kw(i),t;if(o===r)return Kw(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,c=i.child;c;){if(c===n){u=!0,n=i,r=o;break}if(c===r){u=!0,r=i,n=o;break}c=c.sibling}if(!u){for(c=o.child;c;){if(c===n){u=!0,n=o,r=i;break}if(c===r){u=!0,r=o,n=i;break}c=c.sibling}if(!u)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function YS(t){return t=E2(t),t!==null?XS(t):null}function XS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=XS(t);if(e!==null)return e;t=t.sibling}return null}var JS=wn.unstable_scheduleCallback,Gw=wn.unstable_cancelCallback,S2=wn.unstable_shouldYield,I2=wn.unstable_requestPaint,et=wn.unstable_now,T2=wn.unstable_getCurrentPriorityLevel,uv=wn.unstable_ImmediatePriority,ZS=wn.unstable_UserBlockingPriority,fh=wn.unstable_NormalPriority,C2=wn.unstable_LowPriority,eI=wn.unstable_IdlePriority,of=null,hr=null;function k2(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(of,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:N2,A2=Math.log,x2=Math.LN2;function N2(t){return t>>>=0,t===0?32:31-(A2(t)/x2|0)|0}var wc=64,_c=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,u=n&268435455;if(u!==0){var c=u&~i;c!==0?r=za(c):(o&=u,o!==0&&(r=za(o)))}else u=n&~i,u!==0?r=za(u):o!==0&&(r=za(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function R2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-Jn(o),c=1<<u,h=i[u];h===-1?(!(c&n)||c&r)&&(i[u]=R2(c,e)):h<=e&&(t.expiredLanes|=c),o&=~c}}function Fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tI(){var t=wc;return wc<<=1,!(wc&4194240)&&(wc=64),t}function Lp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function L2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Le=0;function nI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rI,cv,iI,sI,oI,Bg=!1,Ec=[],wi=null,_i=null,Ei=null,mu=new Map,vu=new Map,ci=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qw(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(e.pointerId)}}function Da(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qu(e),e!==null&&cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function P2(t,e,n,r,i){switch(e){case"focusin":return wi=Da(wi,t,e,n,r,i),!0;case"dragenter":return _i=Da(_i,t,e,n,r,i),!0;case"mouseover":return Ei=Da(Ei,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return mu.set(o,Da(mu.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,vu.set(o,Da(vu.get(o)||null,t,e,n,r,i)),!0}return!1}function aI(t){var e=is(t.target);if(e!==null){var n=xs(e);if(n!==null){if(e=n.tag,e===13){if(e=QS(n),e!==null){t.blockedOn=e,oI(t.priority,function(){iI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mg=r,n.target.dispatchEvent(r),Mg=null}else return e=Qu(n),e!==null&&cv(e),t.blockedOn=n,!1;e.shift()}return!0}function Yw(t,e,n){Hc(t)&&n.delete(e)}function M2(){Bg=!1,wi!==null&&Hc(wi)&&(wi=null),_i!==null&&Hc(_i)&&(_i=null),Ei!==null&&Hc(Ei)&&(Ei=null),mu.forEach(Yw),vu.forEach(Yw)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,Bg||(Bg=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,M2)))}function yu(t){function e(i){return La(i,t)}if(0<Ec.length){La(Ec[0],t);for(var n=1;n<Ec.length;n++){var r=Ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&La(wi,t),_i!==null&&La(_i,t),Ei!==null&&La(Ei,t),mu.forEach(e),vu.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)aI(n),n.blockedOn===null&&ci.shift()}var yo=Qr.ReactCurrentBatchConfig,ph=!0;function $2(t,e,n,r){var i=Le,o=yo.transition;yo.transition=null;try{Le=1,hv(t,e,n,r)}finally{Le=i,yo.transition=o}}function U2(t,e,n,r){var i=Le,o=yo.transition;yo.transition=null;try{Le=4,hv(t,e,n,r)}finally{Le=i,yo.transition=o}}function hv(t,e,n,r){if(ph){var i=Vg(t,e,n,r);if(i===null)zp(t,e,r,gh,n),Qw(t,r);else if(P2(i,t,e,n,r))r.stopPropagation();else if(Qw(t,r),e&4&&-1<O2.indexOf(t)){for(;i!==null;){var o=Qu(i);if(o!==null&&rI(o),o=Vg(t,e,n,r),o===null&&zp(t,e,r,gh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zp(t,e,r,null,n)}}var gh=null;function Vg(t,e,n,r){if(gh=null,t=av(r),t=is(t),t!==null)if(e=xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gh=t,null}function uI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case uv:return 1;case ZS:return 4;case fh:case C2:return 16;case eI:return 536870912;default:return 16}default:return 16}}var mi=null,fv=null,jc=null;function lI(){if(jc)return jc;var t,e=fv,n=e.length,r,i="value"in mi?mi.value:mi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===i[o-r];r++);return jc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function Xw(){return!1}function Sn(t){function e(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sc:Xw,this.isPropagationStopped=Xw,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var Ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=Sn(Ho),Gu=Ge({},Ho,{view:0,detail:0}),b2=Sn(Gu),Op,Pp,Oa,af=Ge({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Op=t.screenX-Oa.screenX,Pp=t.screenY-Oa.screenY):Pp=Op=0,Oa=t),Op)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),Jw=Sn(af),F2=Ge({},af,{dataTransfer:0}),B2=Sn(F2),V2=Ge({},Gu,{relatedTarget:0}),Mp=Sn(V2),z2=Ge({},Ho,{animationName:0,elapsedTime:0,pseudoElement:0}),W2=Sn(z2),H2=Ge({},Ho,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j2=Sn(H2),q2=Ge({},Ho,{data:0}),Zw=Sn(q2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q2[t])?!!e[t]:!1}function pv(){return Y2}var X2=Ge({},Gu,{key:function(t){if(t.key){var e=K2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pv,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J2=Sn(X2),Z2=Ge({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=Sn(Z2),e$=Ge({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pv}),t$=Sn(e$),n$=Ge({},Ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=Sn(n$),i$=Ge({},af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s$=Sn(i$),o$=[9,13,27,32],gv=Br&&"CompositionEvent"in window,Ja=null;Br&&"documentMode"in document&&(Ja=document.documentMode);var a$=Br&&"TextEvent"in window&&!Ja,cI=Br&&(!gv||Ja&&8<Ja&&11>=Ja),t_=String.fromCharCode(32),n_=!1;function hI(t,e){switch(t){case"keyup":return o$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function u$(t,e){switch(t){case"compositionend":return fI(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function l$(t,e){if(no)return t==="compositionend"||!gv&&hI(t,e)?(t=lI(),jc=fv=mi=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cI&&e.locale!=="ko"?null:e.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c$[t.type]:e==="textarea"}function dI(t,e,n,r){HS(r),e=mh(e,"onChange"),0<e.length&&(n=new dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,wu=null;function h$(t){TI(t,0)}function uf(t){var e=so(t);if(US(e))return t}function f$(t,e){if(t==="change")return e}var pI=!1;if(Br){var $p;if(Br){var Up="oninput"in document;if(!Up){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),Up=typeof i_.oninput=="function"}$p=Up}else $p=!1;pI=$p&&(!document.documentMode||9<document.documentMode)}function s_(){Za&&(Za.detachEvent("onpropertychange",gI),wu=Za=null)}function gI(t){if(t.propertyName==="value"&&uf(wu)){var e=[];dI(e,wu,t,av(t)),GS(h$,e)}}function d$(t,e,n){t==="focusin"?(s_(),Za=e,wu=n,Za.attachEvent("onpropertychange",gI)):t==="focusout"&&s_()}function p$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uf(wu)}function g$(t,e){if(t==="click")return uf(e)}function m$(t,e){if(t==="input"||t==="change")return uf(e)}function v$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:v$;function _u(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ig.call(e,i)||!er(t[i],e[i]))return!1}return!0}function o_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=o_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o_(n)}}function mI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vI(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y$(t){var e=vI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mI(n.ownerDocument.documentElement,n)){if(r!==null&&mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=a_(n,o);var u=a_(n,r);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w$=Br&&"documentMode"in document&&11>=document.documentMode,ro=null,zg=null,eu=null,Wg=!1;function u_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wg||ro==null||ro!==lh(r)||(r=ro,"selectionStart"in r&&mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),eu&&_u(eu,r)||(eu=r,r=mh(zg,"onSelect"),0<r.length&&(e=new dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function Ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},bp={},yI={};Br&&(yI=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function lf(t){if(bp[t])return bp[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yI)return bp[t]=e[n];return t}var wI=lf("animationend"),_I=lf("animationiteration"),EI=lf("animationstart"),SI=lf("transitionend"),II=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){II.set(t,e),As(e,[t])}for(var Fp=0;Fp<l_.length;Fp++){var Bp=l_[Fp],_$=Bp.toLowerCase(),E$=Bp[0].toUpperCase()+Bp.slice(1);bi(_$,"on"+E$)}bi(wI,"onAnimationEnd");bi(_I,"onAnimationIteration");bi(EI,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(SI,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_2(r,e,void 0,t),t.currentTarget=null}function TI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var u=r.length-1;0<=u;u--){var c=r[u],h=c.instance,d=c.currentTarget;if(c=c.listener,h!==o&&i.isPropagationStopped())break e;c_(i,c,d),o=h}else for(u=0;u<r.length;u++){if(c=r[u],h=c.instance,d=c.currentTarget,c=c.listener,h!==o&&i.isPropagationStopped())break e;c_(i,c,d),o=h}}}if(hh)throw t=bg,hh=!1,bg=null,t}function Fe(t,e){var n=e[Gg];n===void 0&&(n=e[Gg]=new Set);var r=t+"__bubble";n.has(r)||(CI(e,t,2,!1),n.add(r))}function Vp(t,e,n){var r=0;e&&(r|=4),CI(n,t,r,e)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[Tc]){t[Tc]=!0,LS.forEach(function(n){n!=="selectionchange"&&(S$.has(n)||Vp(n,!1,t),Vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tc]||(e[Tc]=!0,Vp("selectionchange",!1,e))}}function CI(t,e,n,r){switch(uI(e)){case 1:var i=$2;break;case 4:i=U2;break;default:i=hv}n=i.bind(null,e,n,t),i=void 0,!Ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zp(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;u=u.return}for(;c!==null;){if(u=is(c),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}c=c.parentNode}}r=r.return}GS(function(){var d=o,g=av(n),y=[];e:{var w=II.get(t);if(w!==void 0){var A=dv,x=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":A=J2;break;case"focusin":x="focus",A=Mp;break;case"focusout":x="blur",A=Mp;break;case"beforeblur":case"afterblur":A=Mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=B2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=t$;break;case wI:case _I:case EI:A=W2;break;case SI:A=r$;break;case"scroll":A=b2;break;case"wheel":A=s$;break;case"copy":case"cut":case"paste":A=j2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=e_}var N=(e&4)!==0,U=!N&&t==="scroll",I=N?w!==null?w+"Capture":null:w;N=[];for(var E=d,T;E!==null;){T=E;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,I!==null&&(L=gu(E,I),L!=null&&N.push(Su(E,L,T)))),U)break;E=E.return}0<N.length&&(w=new A(w,x,null,n,g),y.push({event:w,listeners:N}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",w&&n!==Mg&&(x=n.relatedTarget||n.fromElement)&&(is(x)||x[Vr]))break e;if((A||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,A?(x=n.relatedTarget||n.toElement,A=d,x=x?is(x):null,x!==null&&(U=xs(x),x!==U||x.tag!==5&&x.tag!==6)&&(x=null)):(A=null,x=d),A!==x)){if(N=Jw,L="onMouseLeave",I="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(N=e_,L="onPointerLeave",I="onPointerEnter",E="pointer"),U=A==null?w:so(A),T=x==null?w:so(x),w=new N(L,E+"leave",A,n,g),w.target=U,w.relatedTarget=T,L=null,is(g)===d&&(N=new N(I,E+"enter",x,n,g),N.target=T,N.relatedTarget=U,L=N),U=L,A&&x)t:{for(N=A,I=x,E=0,T=N;T;T=Ys(T))E++;for(T=0,L=I;L;L=Ys(L))T++;for(;0<E-T;)N=Ys(N),E--;for(;0<T-E;)I=Ys(I),T--;for(;E--;){if(N===I||I!==null&&N===I.alternate)break t;N=Ys(N),I=Ys(I)}N=null}else N=null;A!==null&&h_(y,w,A,N,!1),x!==null&&U!==null&&h_(y,U,x,N,!0)}}e:{if(w=d?so(d):window,A=w.nodeName&&w.nodeName.toLowerCase(),A==="select"||A==="input"&&w.type==="file")var B=f$;else if(r_(w))if(pI)B=m$;else{B=p$;var j=d$}else(A=w.nodeName)&&A.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(B=g$);if(B&&(B=B(t,d))){dI(y,B,n,g);break e}j&&j(t,w,d),t==="focusout"&&(j=w._wrapperState)&&j.controlled&&w.type==="number"&&Rg(w,"number",w.value)}switch(j=d?so(d):window,t){case"focusin":(r_(j)||j.contentEditable==="true")&&(ro=j,zg=d,eu=null);break;case"focusout":eu=zg=ro=null;break;case"mousedown":Wg=!0;break;case"contextmenu":case"mouseup":case"dragend":Wg=!1,u_(y,n,g);break;case"selectionchange":if(w$)break;case"keydown":case"keyup":u_(y,n,g)}var W;if(gv)e:{switch(t){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else no?hI(t,n)&&(Q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Q="onCompositionStart");Q&&(cI&&n.locale!=="ko"&&(no||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&no&&(W=lI()):(mi=g,fv="value"in mi?mi.value:mi.textContent,no=!0)),j=mh(d,Q),0<j.length&&(Q=new Zw(Q,t,null,n,g),y.push({event:Q,listeners:j}),W?Q.data=W:(W=fI(n),W!==null&&(Q.data=W)))),(W=a$?u$(t,n):l$(t,n))&&(d=mh(d,"onBeforeInput"),0<d.length&&(g=new Zw("onBeforeInput","beforeinput",null,n,g),y.push({event:g,listeners:d}),g.data=W))}TI(y,e)})}function Su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gu(t,n),o!=null&&r.unshift(Su(t,o,i)),o=gu(t,e),o!=null&&r.push(Su(t,o,i))),t=t.return}return r}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h_(t,e,n,r,i){for(var o=e._reactName,u=[];n!==null&&n!==r;){var c=n,h=c.alternate,d=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&d!==null&&(c=d,i?(h=gu(n,o),h!=null&&u.unshift(Su(n,h,c))):i||(h=gu(n,o),h!=null&&u.push(Su(n,h,c)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var I$=/\r\n?/g,T$=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(I$,`
`).replace(T$,"")}function Cc(t,e,n){if(e=f_(e),f_(t)!==e&&n)throw Error(b(425))}function vh(){}var Hg=null,jg=null;function qg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,C$=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,k$=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(A$)}:Kg;function A$(t){setTimeout(function(){throw t})}function Wp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yu(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),lr="__reactFiber$"+jo,Iu="__reactProps$"+jo,Vr="__reactContainer$"+jo,Gg="__reactEvents$"+jo,x$="__reactListeners$"+jo,N$="__reactHandles$"+jo;function is(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p_(t);t!==null;){if(n=t[lr])return n;t=p_(t)}return e}t=n,n=t.parentNode}return null}function Qu(t){return t=t[lr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function cf(t){return t[Iu]||null}var Qg=[],oo=-1;function Fi(t){return{current:t}}function Ve(t){0>oo||(t.current=Qg[oo],Qg[oo]=null,oo--)}function $e(t,e){oo++,Qg[oo]=t.current,t.current=e}var Pi={},Bt=Fi(Pi),sn=Fi(!1),gs=Pi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function yh(){Ve(sn),Ve(Bt)}function g_(t,e,n){if(Bt.current!==Pi)throw Error(b(168));$e(Bt,e),$e(sn,n)}function kI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,d2(t)||"Unknown",i));return Ge({},n,r)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,gs=Bt.current,$e(Bt,t),$e(sn,sn.current),!0}function m_(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=kI(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,Ve(sn),Ve(Bt),$e(Bt,t)):Ve(sn),$e(sn,n)}var Rr=null,hf=!1,Hp=!1;function AI(t){Rr===null?Rr=[t]:Rr.push(t)}function R$(t){hf=!0,AI(t)}function Bi(){if(!Hp&&Rr!==null){Hp=!0;var t=0,e=Le;try{var n=Rr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,hf=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),JS(uv,Bi),i}finally{Le=e,Hp=!1}}return null}var ao=[],uo=0,_h=null,Eh=0,Ln=[],On=0,ms=null,Lr=1,Or="";function ts(t,e){ao[uo++]=Eh,ao[uo++]=_h,_h=t,Eh=e}function xI(t,e,n){Ln[On++]=Lr,Ln[On++]=Or,Ln[On++]=ms,ms=t;var r=Lr;t=Or;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var o=32-Jn(e)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Lr=1<<32-Jn(e)+i|n<<i|r,Or=o+t}else Lr=1<<o|n<<i|r,Or=t}function vv(t){t.return!==null&&(ts(t,1),xI(t,1,0))}function yv(t){for(;t===_h;)_h=ao[--uo],ao[uo]=null,Eh=ao[--uo],ao[uo]=null;for(;t===ms;)ms=Ln[--On],Ln[On]=null,Or=Ln[--On],Ln[On]=null,Lr=Ln[--On],Ln[On]=null}var yn=null,mn=null,We=!1,Yn=null;function NI(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yn=t,mn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ms!==null?{id:Lr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yn=t,mn=null,!0):!1;default:return!1}}function Yg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xg(t){if(We){var e=mn;if(e){var n=e;if(!v_(t,e)){if(Yg(t))throw Error(b(418));e=Si(n.nextSibling);var r=yn;e&&v_(t,e)?NI(r,n):(t.flags=t.flags&-4097|2,We=!1,yn=t)}}else{if(Yg(t))throw Error(b(418));t.flags=t.flags&-4097|2,We=!1,yn=t}}}function y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yn=t}function kc(t){if(t!==yn)return!1;if(!We)return y_(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qg(t.type,t.memoizedProps)),e&&(e=mn)){if(Yg(t))throw RI(),Error(b(418));for(;e;)NI(t,e),e=Si(e.nextSibling)}if(y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=yn?Si(t.stateNode.nextSibling):null;return!0}function RI(){for(var t=mn;t;)t=Si(t.nextSibling)}function Ao(){mn=yn=null,We=!1}function wv(t){Yn===null?Yn=[t]:Yn.push(t)}var D$=Qr.ReactCurrentBatchConfig;function Gn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Sh=Fi(null),Ih=null,lo=null,_v=null;function Ev(){_v=lo=Ih=null}function Sv(t){var e=Sh.current;Ve(Sh),t._currentValue=e}function Jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Ih=t,_v=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function bn(t){var e=t._currentValue;if(_v!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(Ih===null)throw Error(b(308));lo=t,Ih.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var ss=null;function Iv(t){ss===null?ss=[t]:ss.push(t)}function DI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Iv(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function Tv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Iv(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function Kc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}function w_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Th(t,e,n,r){var i=t.updateQueue;li=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,d=h.next;h.next=null,u===null?o=d:u.next=d,u=h;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==u&&(c===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=h))}if(o!==null){var y=i.baseState;u=0,g=d=h=null,c=o;do{var w=c.lane,A=c.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:A,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,N=c;switch(w=e,A=n,N.tag){case 1:if(x=N.payload,typeof x=="function"){y=x.call(A,y,w);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,w=typeof x=="function"?x.call(A,y,w):x,w==null)break e;y=Ge({},y,w);break e;case 2:li=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[c]:w.push(c))}else A={eventTime:A,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(d=g=A,h=y):g=g.next=A,u|=w;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;w=c,c=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(1);if(g===null&&(h=y),i.baseState=h,i.firstBaseUpdate=d,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ys|=u,t.lanes=u,t.memoizedState=y}}function __(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var OI=new DS.Component().refs;function Zg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ff={isMounted:function(t){return(t=t._reactInternals)?xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ci(t),o=br(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(Zn(e,t,i,r),Kc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ci(t),o=br(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ii(t,o,i),e!==null&&(Zn(e,t,i,r),Kc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Ci(t),i=br(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(Zn(e,t,r,n),Kc(e,t,r))}};function E_(t,e,n,r,i,o,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,u):e.prototype&&e.prototype.isPureReactComponent?!_u(n,r)||!_u(i,o):!0}function PI(t,e,n){var r=!1,i=Pi,o=e.contextType;return typeof o=="object"&&o!==null?o=bn(o):(i=on(e)?gs:Bt.current,r=e.contextTypes,o=(r=r!=null)?ko(t,i):Pi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ff,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function S_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ff.enqueueReplaceState(e,e.state,null)}function em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=OI,Tv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bn(o):(o=on(e)?gs:Bt.current,i.context=ko(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ff.enqueueReplaceState(i,i.state,null),Th(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(u){var c=i.refs;c===OI&&(c=i.refs={}),u===null?delete c[o]:c[o]=u},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I_(t){var e=t._init;return e(t._payload)}function MI(t){function e(I,E){if(t){var T=I.deletions;T===null?(I.deletions=[E],I.flags|=16):T.push(E)}}function n(I,E){if(!t)return null;for(;E!==null;)e(I,E),E=E.sibling;return null}function r(I,E){for(I=new Map;E!==null;)E.key!==null?I.set(E.key,E):I.set(E.index,E),E=E.sibling;return I}function i(I,E){return I=ki(I,E),I.index=0,I.sibling=null,I}function o(I,E,T){return I.index=T,t?(T=I.alternate,T!==null?(T=T.index,T<E?(I.flags|=2,E):T):(I.flags|=2,E)):(I.flags|=1048576,E)}function u(I){return t&&I.alternate===null&&(I.flags|=2),I}function c(I,E,T,L){return E===null||E.tag!==6?(E=Xp(T,I.mode,L),E.return=I,E):(E=i(E,T),E.return=I,E)}function h(I,E,T,L){var B=T.type;return B===to?g(I,E,T.props.children,L,T.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ui&&I_(B)===E.type)?(L=i(E,T.props),L.ref=Pa(I,E,T),L.return=I,L):(L=Zc(T.type,T.key,T.props,null,I.mode,L),L.ref=Pa(I,E,T),L.return=I,L)}function d(I,E,T,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Jp(T,I.mode,L),E.return=I,E):(E=i(E,T.children||[]),E.return=I,E)}function g(I,E,T,L,B){return E===null||E.tag!==7?(E=hs(T,I.mode,L,B),E.return=I,E):(E=i(E,T),E.return=I,E)}function y(I,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Xp(""+E,I.mode,T),E.return=I,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mc:return T=Zc(E.type,E.key,E.props,null,I.mode,T),T.ref=Pa(I,null,E),T.return=I,T;case eo:return E=Jp(E,I.mode,T),E.return=I,E;case ui:var L=E._init;return y(I,L(E._payload),T)}if(Va(E)||Na(E))return E=hs(E,I.mode,T,null),E.return=I,E;Ac(I,E)}return null}function w(I,E,T,L){var B=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return B!==null?null:c(I,E,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mc:return T.key===B?h(I,E,T,L):null;case eo:return T.key===B?d(I,E,T,L):null;case ui:return B=T._init,w(I,E,B(T._payload),L)}if(Va(T)||Na(T))return B!==null?null:g(I,E,T,L,null);Ac(I,T)}return null}function A(I,E,T,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return I=I.get(T)||null,c(E,I,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case mc:return I=I.get(L.key===null?T:L.key)||null,h(E,I,L,B);case eo:return I=I.get(L.key===null?T:L.key)||null,d(E,I,L,B);case ui:var j=L._init;return A(I,E,T,j(L._payload),B)}if(Va(L)||Na(L))return I=I.get(T)||null,g(E,I,L,B,null);Ac(E,L)}return null}function x(I,E,T,L){for(var B=null,j=null,W=E,Q=E=0,Re=null;W!==null&&Q<T.length;Q++){W.index>Q?(Re=W,W=null):Re=W.sibling;var ge=w(I,W,T[Q],L);if(ge===null){W===null&&(W=Re);break}t&&W&&ge.alternate===null&&e(I,W),E=o(ge,E,Q),j===null?B=ge:j.sibling=ge,j=ge,W=Re}if(Q===T.length)return n(I,W),We&&ts(I,Q),B;if(W===null){for(;Q<T.length;Q++)W=y(I,T[Q],L),W!==null&&(E=o(W,E,Q),j===null?B=W:j.sibling=W,j=W);return We&&ts(I,Q),B}for(W=r(I,W);Q<T.length;Q++)Re=A(W,I,Q,T[Q],L),Re!==null&&(t&&Re.alternate!==null&&W.delete(Re.key===null?Q:Re.key),E=o(Re,E,Q),j===null?B=Re:j.sibling=Re,j=Re);return t&&W.forEach(function(un){return e(I,un)}),We&&ts(I,Q),B}function N(I,E,T,L){var B=Na(T);if(typeof B!="function")throw Error(b(150));if(T=B.call(T),T==null)throw Error(b(151));for(var j=B=null,W=E,Q=E=0,Re=null,ge=T.next();W!==null&&!ge.done;Q++,ge=T.next()){W.index>Q?(Re=W,W=null):Re=W.sibling;var un=w(I,W,ge.value,L);if(un===null){W===null&&(W=Re);break}t&&W&&un.alternate===null&&e(I,W),E=o(un,E,Q),j===null?B=un:j.sibling=un,j=un,W=Re}if(ge.done)return n(I,W),We&&ts(I,Q),B;if(W===null){for(;!ge.done;Q++,ge=T.next())ge=y(I,ge.value,L),ge!==null&&(E=o(ge,E,Q),j===null?B=ge:j.sibling=ge,j=ge);return We&&ts(I,Q),B}for(W=r(I,W);!ge.done;Q++,ge=T.next())ge=A(W,I,Q,ge.value,L),ge!==null&&(t&&ge.alternate!==null&&W.delete(ge.key===null?Q:ge.key),E=o(ge,E,Q),j===null?B=ge:j.sibling=ge,j=ge);return t&&W.forEach(function(Hi){return e(I,Hi)}),We&&ts(I,Q),B}function U(I,E,T,L){if(typeof T=="object"&&T!==null&&T.type===to&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case mc:e:{for(var B=T.key,j=E;j!==null;){if(j.key===B){if(B=T.type,B===to){if(j.tag===7){n(I,j.sibling),E=i(j,T.props.children),E.return=I,I=E;break e}}else if(j.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===ui&&I_(B)===j.type){n(I,j.sibling),E=i(j,T.props),E.ref=Pa(I,j,T),E.return=I,I=E;break e}n(I,j);break}else e(I,j);j=j.sibling}T.type===to?(E=hs(T.props.children,I.mode,L,T.key),E.return=I,I=E):(L=Zc(T.type,T.key,T.props,null,I.mode,L),L.ref=Pa(I,E,T),L.return=I,I=L)}return u(I);case eo:e:{for(j=T.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(I,E.sibling),E=i(E,T.children||[]),E.return=I,I=E;break e}else{n(I,E);break}else e(I,E);E=E.sibling}E=Jp(T,I.mode,L),E.return=I,I=E}return u(I);case ui:return j=T._init,U(I,E,j(T._payload),L)}if(Va(T))return x(I,E,T,L);if(Na(T))return N(I,E,T,L);Ac(I,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(I,E.sibling),E=i(E,T),E.return=I,I=E):(n(I,E),E=Xp(T,I.mode,L),E.return=I,I=E),u(I)):n(I,E)}return U}var xo=MI(!0),$I=MI(!1),Yu={},fr=Fi(Yu),Tu=Fi(Yu),Cu=Fi(Yu);function os(t){if(t===Yu)throw Error(b(174));return t}function Cv(t,e){switch($e(Cu,e),$e(Tu,t),$e(fr,Yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lg(e,t)}Ve(fr),$e(fr,e)}function No(){Ve(fr),Ve(Tu),Ve(Cu)}function UI(t){os(Cu.current);var e=os(fr.current),n=Lg(e,t.type);e!==n&&($e(Tu,t),$e(fr,n))}function kv(t){Tu.current===t&&(Ve(fr),Ve(Tu))}var qe=Fi(0);function Ch(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jp=[];function Av(){for(var t=0;t<jp.length;t++)jp[t]._workInProgressVersionPrimary=null;jp.length=0}var Gc=Qr.ReactCurrentDispatcher,qp=Qr.ReactCurrentBatchConfig,vs=0,Ke=null,ct=null,mt=null,kh=!1,tu=!1,ku=0,L$=0;function Rt(){throw Error(b(321))}function xv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Nv(t,e,n,r,i,o){if(vs=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gc.current=t===null||t.memoizedState===null?$$:U$,t=n(r,i),tu){o=0;do{if(tu=!1,ku=0,25<=o)throw Error(b(301));o+=1,mt=ct=null,e.updateQueue=null,Gc.current=b$,t=n(r,i)}while(tu)}if(Gc.current=Ah,e=ct!==null&&ct.next!==null,vs=0,mt=ct=Ke=null,kh=!1,e)throw Error(b(300));return t}function Rv(){var t=ku!==0;return ku=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ke.memoizedState=mt=t:mt=mt.next=t,mt}function Fn(){if(ct===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=mt===null?Ke.memoizedState:mt.next;if(e!==null)mt=e,ct=t;else{if(t===null)throw Error(b(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?Ke.memoizedState=mt=t:mt=mt.next=t}return mt}function Au(t,e){return typeof e=="function"?e(t):e}function Kp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=ct,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=u=null,h=null,d=o;do{var g=d.lane;if((vs&g)===g)h!==null&&(h=h.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var y={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};h===null?(c=h=y,u=r):h=h.next=y,Ke.lanes|=g,ys|=g}d=d.next}while(d!==null&&d!==o);h===null?u=r:h.next=c,er(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=h,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ke.lanes|=o,ys|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=t(o,u.action),u=u.next;while(u!==i);er(o,e.memoizedState)||(rn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function bI(){}function FI(t,e){var n=Ke,r=Fn(),i=e(),o=!er(r.memoizedState,i);if(o&&(r.memoizedState=i,rn=!0),r=r.queue,Dv(zI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,xu(9,VI.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(b(349));vs&30||BI(n,e,i)}return i}function BI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function VI(t,e,n,r){e.value=n,e.getSnapshot=r,WI(e)&&HI(t)}function zI(t,e,n){return n(function(){WI(e)&&HI(t)})}function WI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function HI(t){var e=zr(t,1);e!==null&&Zn(e,t,1,-1)}function T_(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Au,lastRenderedState:t},e.queue=t,t=t.dispatch=M$.bind(null,Ke,t),[e.memoizedState,t]}function xu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jI(){return Fn().memoizedState}function Qc(t,e,n,r){var i=ur();Ke.flags|=t,i.memoizedState=xu(1|e,n,void 0,r===void 0?null:r)}function df(t,e,n,r){var i=Fn();r=r===void 0?null:r;var o=void 0;if(ct!==null){var u=ct.memoizedState;if(o=u.destroy,r!==null&&xv(r,u.deps)){i.memoizedState=xu(e,n,o,r);return}}Ke.flags|=t,i.memoizedState=xu(1|e,n,o,r)}function C_(t,e){return Qc(8390656,8,t,e)}function Dv(t,e){return df(2048,8,t,e)}function qI(t,e){return df(4,2,t,e)}function KI(t,e){return df(4,4,t,e)}function GI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QI(t,e,n){return n=n!=null?n.concat([t]):null,df(4,4,GI.bind(null,e,t),n)}function Lv(){}function YI(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XI(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JI(t,e,n){return vs&21?(er(n,e)||(n=tI(),Ke.lanes|=n,ys|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function O$(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{Le=n,qp.transition=r}}function ZI(){return Fn().memoizedState}function P$(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eT(t))tT(e,n);else if(n=DI(t,e,n,r),n!==null){var i=Gt();Zn(n,t,r,i),nT(n,e,r)}}function M$(t,e,n){var r=Ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eT(t))tT(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,c=o(u,n);if(i.hasEagerState=!0,i.eagerState=c,er(c,u)){var h=e.interleaved;h===null?(i.next=i,Iv(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}n=DI(t,e,i,r),n!==null&&(i=Gt(),Zn(n,t,r,i),nT(n,e,r))}}function eT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function tT(t,e){tu=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}var Ah={readContext:bn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},$$={readContext:bn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:bn,useEffect:C_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4194308,4,GI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qc(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=P$.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:T_,useDebugValue:Lv,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=T_(!1),e=t[0];return t=O$.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=ur();if(We){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),vt===null)throw Error(b(349));vs&30||BI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,C_(zI.bind(null,r,o,t),[t]),r.flags|=2048,xu(9,VI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ur(),e=vt.identifierPrefix;if(We){var n=Or,r=Lr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=L$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U$={readContext:bn,useCallback:YI,useContext:bn,useEffect:Dv,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:XI,useReducer:Kp,useRef:jI,useState:function(){return Kp(Au)},useDebugValue:Lv,useDeferredValue:function(t){var e=Fn();return JI(e,ct.memoizedState,t)},useTransition:function(){var t=Kp(Au)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:FI,useId:ZI,unstable_isNewReconciler:!1},b$={readContext:bn,useCallback:YI,useContext:bn,useEffect:Dv,useImperativeHandle:QI,useInsertionEffect:qI,useLayoutEffect:KI,useMemo:XI,useReducer:Gp,useRef:jI,useState:function(){return Gp(Au)},useDebugValue:Lv,useDeferredValue:function(t){var e=Fn();return ct===null?e.memoizedState=t:JI(e,ct.memoizedState,t)},useTransition:function(){var t=Gp(Au)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:bI,useSyncExternalStore:FI,useId:ZI,unstable_isNewReconciler:!1};function Ro(t,e){try{var n="",r=e;do n+=f2(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Qp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var F$=typeof WeakMap=="function"?WeakMap:Map;function rT(t,e,n){n=br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nh||(Nh=!0,hm=r),tm(t,e)},n}function iT(t,e,n){n=br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tm(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tm(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function k_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Z$.bind(null,t,e,n),e.then(t,t))}function A_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=br(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var B$=Qr.ReactCurrentOwner,rn=!1;function qt(t,e,n,r){e.child=t===null?$I(e,null,n,r):xo(e,t.child,n,r)}function N_(t,e,n,r,i){n=n.render;var o=e.ref;return wo(e,i),r=Nv(t,e,n,r,o,i),n=Rv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(We&&n&&vv(e),e.flags|=1,qt(t,e,r,i),e.child)}function R_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Bv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,sT(t,e,o,r,i)):(t=Zc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:_u,n(u,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=ki(o,r),t.ref=e.ref,t.return=e,e.child=t}function sT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_u(o,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return nm(t,e,n,r,i)}function oT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(ho,gn),gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(ho,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(ho,gn),gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,$e(ho,gn),gn|=r;return qt(t,e,i,n),e.child}function aT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nm(t,e,n,r,i){var o=on(n)?gs:Bt.current;return o=ko(e,o),wo(e,i),n=Nv(t,e,n,r,o,i),r=Rv(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(We&&r&&vv(e),e.flags|=1,qt(t,e,n,i),e.child)}function D_(t,e,n,r,i){if(on(n)){var o=!0;wh(e)}else o=!1;if(wo(e,i),e.stateNode===null)Yc(t,e),PI(e,n,r),em(e,n,r,i),r=!0;else if(t===null){var u=e.stateNode,c=e.memoizedProps;u.props=c;var h=u.context,d=n.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=on(n)?gs:Bt.current,d=ko(e,d));var g=n.getDerivedStateFromProps,y=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";y||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||h!==d)&&S_(e,u,r,d),li=!1;var w=e.memoizedState;u.state=w,Th(e,r,u,i),h=e.memoizedState,c!==r||w!==h||sn.current||li?(typeof g=="function"&&(Zg(e,n,g,r),h=e.memoizedState),(c=li||E_(e,n,c,r,w,h,d))?(y||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),u.props=r,u.state=h,u.context=d,r=c):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,LI(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Gn(e.type,c),u.props=d,y=e.pendingProps,w=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=bn(h):(h=on(n)?gs:Bt.current,h=ko(e,h));var A=n.getDerivedStateFromProps;(g=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==y||w!==h)&&S_(e,u,r,h),li=!1,w=e.memoizedState,u.state=w,Th(e,r,u,i);var x=e.memoizedState;c!==y||w!==x||sn.current||li?(typeof A=="function"&&(Zg(e,n,A,r),x=e.memoizedState),(d=li||E_(e,n,d,r,w,x,h)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,h)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),u.props=r,u.state=x,u.context=h,r=d):(typeof u.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return rm(t,e,n,r,o,i)}function rm(t,e,n,r,i,o){aT(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return i&&m_(e,n,!1),Wr(t,e,o);r=e.stateNode,B$.current=e;var c=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,c,o)):qt(t,e,c,o),e.memoizedState=r.state,i&&m_(e,n,!0),e.child}function uT(t){var e=t.stateNode;e.pendingContext?g_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&g_(t,e.context,!1),Cv(t,e.containerInfo)}function L_(t,e,n,r,i){return Ao(),wv(i),e.flags|=256,qt(t,e,n,r),e.child}var im={dehydrated:null,treeContext:null,retryLane:0};function sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function lT(t,e,n){var r=e.pendingProps,i=qe.current,o=!1,u=(e.flags&128)!==0,c;if((c=u)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(qe,i&1),t===null)return Xg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,o?(r=e.mode,o=e.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=mf(u,r,0,null),t=hs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sm(n),e.memoizedState=im,t):Ov(e,u));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return V$(t,e,u,r,c,i,n);if(o){o=r.fallback,u=e.mode,i=t.child,c=i.sibling;var h={mode:"hidden",children:r.children};return!(u&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=ki(i,h),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=ki(c,o):(o=hs(o,u,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,u=t.child.memoizedState,u=u===null?sm(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=t.childLanes&~n,e.memoizedState=im,r}return o=t.child,t=o.sibling,r=ki(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ov(t,e){return e=mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xc(t,e,n,r){return r!==null&&wv(r),xo(e,t.child,null,n),t=Ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V$(t,e,n,r,i,o,u){if(n)return e.flags&256?(e.flags&=-257,r=Qp(Error(b(422))),xc(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=mf({mode:"visible",children:r.children},i,0,null),o=hs(o,i,u,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xo(e,t.child,null,u),e.child.memoizedState=sm(u),e.memoizedState=im,o);if(!(e.mode&1))return xc(t,e,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(b(419)),r=Qp(o,r,void 0),xc(t,e,u,r)}if(c=(u&t.childLanes)!==0,rn||c){if(r=vt,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zr(t,i),Zn(r,t,i,-1))}return Fv(),r=Qp(Error(b(421))),xc(t,e,u,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,mn=Si(i.nextSibling),yn=e,We=!0,Yn=null,t!==null&&(Ln[On++]=Lr,Ln[On++]=Or,Ln[On++]=ms,Lr=t.id,Or=t.overflow,ms=e),e=Ov(e,r.children),e.flags|=4096,e)}function O_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jg(t.return,e,n)}function Yp(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function cT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O_(t,n,e);else if(t.tag===19)O_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ch(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yp(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ch(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yp(e,!0,n,null,o);break;case"together":Yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ys|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z$(t,e,n){switch(e.tag){case 3:uT(e),Ao();break;case 5:UI(e);break;case 1:on(e.type)&&wh(e);break;case 4:Cv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(Sh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?lT(t,e,n):($e(qe,qe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);$e(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,oT(t,e,n)}return Wr(t,e,n)}var hT,om,fT,dT;hT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};om=function(){};fT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,os(fr.current);var o=null;switch(n){case"input":i=xg(t,i),r=xg(t,r),o=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),o=[];break;case"textarea":i=Dg(t,i),r=Dg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vh)}Og(n,r);var u;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var c=i[d];for(u in c)c.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(du.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var h=r[d];if(c=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&h!==c&&(h!=null||c!=null))if(d==="style")if(c){for(u in c)!c.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&c[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(o||(o=[]),o.push(d,n)),n=h;else d==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(o=o||[]).push(d,h)):d==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(d,""+h):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(du.hasOwnProperty(d)?(h!=null&&d==="onScroll"&&Fe("scroll",t),o||c===h||(o=[])):(o=o||[]).push(d,h))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};dT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function W$(t,e,n){var r=e.pendingProps;switch(yv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return on(e.type)&&yh(),Dt(e),null;case 3:return r=e.stateNode,No(),Ve(sn),Ve(Bt),Av(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(pm(Yn),Yn=null))),om(t,e),Dt(e),null;case 5:kv(e);var i=os(Cu.current);if(n=e.type,t!==null&&e.stateNode!=null)fT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Dt(e),null}if(t=os(fr.current),kc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lr]=e,r[Iu]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Wa.length;i++)Fe(Wa[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":zw(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":Hw(r,o),Fe("invalid",r)}Og(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var c=o[u];u==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Cc(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Cc(r.textContent,c,t),i=["children",""+c]):du.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&Fe("scroll",r)}switch(n){case"input":vc(r),Ww(r,o,!0);break;case"textarea":vc(r),jw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[lr]=e,t[Iu]=r,hT(t,e,!1,!1),e.stateNode=t;e:{switch(u=Pg(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wa.length;i++)Fe(Wa[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":zw(t,r),i=xg(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":Hw(t,r),i=Dg(t,r),Fe("invalid",t);break;default:i=r}Og(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var h=c[o];o==="style"?WS(t,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&VS(t,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&pu(t,h):typeof h=="number"&&pu(t,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(du.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Fe("scroll",t):h!=null&&rv(t,o,h,u))}switch(n){case"input":vc(t),Ww(t,r,!1);break;case"textarea":vc(t),jw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?go(t,!!r.multiple,o,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)dT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=os(Cu.current),os(fr.current),kc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(o=r.nodeValue!==n)&&(t=yn,t!==null))switch(t.tag){case 3:Cc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ve(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&mn!==null&&e.mode&1&&!(e.flags&128))RI(),Ao(),e.flags|=98560,o=!1;else if(o=kc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[lr]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),o=!1}else Yn!==null&&(pm(Yn),Yn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ht===0&&(ht=3):Fv())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return No(),om(t,e),t===null&&Eu(e.stateNode.containerInfo),Dt(e),null;case 10:return Sv(e.type._context),Dt(e),null;case 17:return on(e.type)&&yh(),Dt(e),null;case 19:if(Ve(qe),o=e.memoizedState,o===null)return Dt(e),null;if(r=(e.flags&128)!==0,u=o.rendering,u===null)if(r)Ma(o,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Ch(t),u!==null){for(e.flags|=128,Ma(o,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,t=u.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&et()>Do&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ch(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!We)return Dt(e),null}else 2*et()-o.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,Ma(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(n=o.last,n!==null?n.sibling=u:e.child=u,o.last=u)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=et(),e.sibling=null,n=qe.current,$e(qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?gn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function H$(t,e){switch(yv(e),e.tag){case 1:return on(e.type)&&yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),Ve(sn),Ve(Bt),Av(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kv(e),null;case 13:if(Ve(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(qe),null;case 4:return No(),null;case 10:return Sv(e.type._context),null;case 22:case 23:return bv(),null;case 24:return null;default:return null}}var Nc=!1,Ot=!1,j$=typeof WeakSet=="function"?WeakSet:Set,K=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function am(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var P_=!1;function q$(t,e){if(Hg=ph,t=vI(),mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,c=-1,h=-1,d=0,g=0,y=t,w=null;t:for(;;){for(var A;y!==n||i!==0&&y.nodeType!==3||(c=u+i),y!==o||r!==0&&y.nodeType!==3||(h=u+r),y.nodeType===3&&(u+=y.nodeValue.length),(A=y.firstChild)!==null;)w=y,y=A;for(;;){if(y===t)break t;if(w===n&&++d===i&&(c=u),w===o&&++g===r&&(h=u),(A=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=A}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(jg={focusedElem:t,selectionRange:n},ph=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var N=x.memoizedProps,U=x.memoizedState,I=e.stateNode,E=I.getSnapshotBeforeUpdate(e.elementType===e.type?N:Gn(e.type,N),U);I.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(L){Ye(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return x=P_,P_=!1,x}function nu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&am(e,n,o)}i=i.next}while(i!==r)}}function pf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pT(t){var e=t.alternate;e!==null&&(t.alternate=null,pT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Iu],delete e[Gg],delete e[x$],delete e[N$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gT(t){return t.tag===5||t.tag===3||t.tag===4}function M_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vh));else if(r!==4&&(t=t.child,t!==null))for(lm(t,e,n),t=t.sibling;t!==null;)lm(t,e,n),t=t.sibling}function cm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cm(t,e,n),t=t.sibling;t!==null;)cm(t,e,n),t=t.sibling}var St=null,Qn=!1;function oi(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(of,n)}catch{}switch(n.tag){case 5:Ot||co(n,e);case 6:var r=St,i=Qn;St=null,oi(t,e,n),St=r,Qn=i,St!==null&&(Qn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Qn?(t=St,n=n.stateNode,t.nodeType===8?Wp(t.parentNode,n):t.nodeType===1&&Wp(t,n),yu(t)):Wp(St,n.stateNode));break;case 4:r=St,i=Qn,St=n.stateNode.containerInfo,Qn=!0,oi(t,e,n),St=r,Qn=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&am(n,e,u),i=i.next}while(i!==r)}oi(t,e,n);break;case 1:if(!Ot&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ye(n,e,c)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,oi(t,e,n),Ot=r):oi(t,e,n);break;default:oi(t,e,n)}}function $_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j$),e.forEach(function(r){var i=tU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,u=e,c=u;e:for(;c!==null;){switch(c.tag){case 5:St=c.stateNode,Qn=!1;break e;case 3:St=c.stateNode.containerInfo,Qn=!0;break e;case 4:St=c.stateNode.containerInfo,Qn=!0;break e}c=c.return}if(St===null)throw Error(b(160));mT(o,u,i),St=null,Qn=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(d){Ye(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vT(e,t),e=e.sibling}function vT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),ar(t),r&4){try{nu(3,t,t.return),pf(3,t)}catch(N){Ye(t,t.return,N)}try{nu(5,t,t.return)}catch(N){Ye(t,t.return,N)}}break;case 1:Kn(e,t),ar(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(Kn(e,t),ar(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{pu(i,"")}catch(N){Ye(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,u=n!==null?n.memoizedProps:o,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&bS(i,o),Pg(c,u);var d=Pg(c,o);for(u=0;u<h.length;u+=2){var g=h[u],y=h[u+1];g==="style"?WS(i,y):g==="dangerouslySetInnerHTML"?VS(i,y):g==="children"?pu(i,y):rv(i,g,y,d)}switch(c){case"input":Ng(i,o);break;case"textarea":FS(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var A=o.value;A!=null?go(i,!!o.multiple,A,!1):w!==!!o.multiple&&(o.defaultValue!=null?go(i,!!o.multiple,o.defaultValue,!0):go(i,!!o.multiple,o.multiple?[]:"",!1))}i[Iu]=o}catch(N){Ye(t,t.return,N)}}break;case 6:if(Kn(e,t),ar(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(N){Ye(t,t.return,N)}}break;case 3:if(Kn(e,t),ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yu(e.containerInfo)}catch(N){Ye(t,t.return,N)}break;case 4:Kn(e,t),ar(t);break;case 13:Kn(e,t),ar(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($v=et())),r&4&&$_(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(d=Ot)||g,Kn(e,t),Ot=d):Kn(e,t),ar(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!g&&t.mode&1)for(K=t,g=t.child;g!==null;){for(y=K=g;K!==null;){switch(w=K,A=w.child,w.tag){case 0:case 11:case 14:case 15:nu(4,w,w.return);break;case 1:co(w,w.return);var x=w.stateNode;if(typeof x.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(N){Ye(r,n,N)}}break;case 5:co(w,w.return);break;case 22:if(w.memoizedState!==null){b_(y);continue}}A!==null?(A.return=w,K=A):b_(y)}g=g.sibling}e:for(g=null,y=t;;){if(y.tag===5){if(g===null){g=y;try{i=y.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=y.stateNode,h=y.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=zS("display",u))}catch(N){Ye(t,t.return,N)}}}else if(y.tag===6){if(g===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(N){Ye(t,t.return,N)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;g===y&&(g=null),y=y.return}g===y&&(g=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Kn(e,t),ar(t),r&4&&$_(t);break;case 21:break;default:Kn(e,t),ar(t)}}function ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gT(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pu(i,""),r.flags&=-33);var o=M_(t);cm(t,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,c=M_(t);lm(t,c,u);break;default:throw Error(b(161))}}catch(h){Ye(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K$(t,e,n){K=t,yT(t)}function yT(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Nc;if(!u){var c=i.alternate,h=c!==null&&c.memoizedState!==null||Ot;c=Nc;var d=Ot;if(Nc=u,(Ot=h)&&!d)for(K=i;K!==null;)u=K,h=u.child,u.tag===22&&u.memoizedState!==null?F_(i):h!==null?(h.return=u,K=h):F_(i);for(;o!==null;)K=o,yT(o),o=o.sibling;K=i,Nc=c,Ot=d}U_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):U_(t)}}function U_(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||pf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&__(e,o,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}__(e,u,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var y=g.dehydrated;y!==null&&yu(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ot||e.flags&512&&um(e)}catch(w){Ye(e,e.return,w)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function b_(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function F_(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{pf(4,e)}catch(h){Ye(e,n,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(h){Ye(e,i,h)}}var o=e.return;try{um(e)}catch(h){Ye(e,o,h)}break;case 5:var u=e.return;try{um(e)}catch(h){Ye(e,u,h)}}}catch(h){Ye(e,e.return,h)}if(e===t){K=null;break}var c=e.sibling;if(c!==null){c.return=e.return,K=c;break}K=e.return}}var G$=Math.ceil,xh=Qr.ReactCurrentDispatcher,Pv=Qr.ReactCurrentOwner,$n=Qr.ReactCurrentBatchConfig,Te=0,vt=null,it=null,Tt=0,gn=0,ho=Fi(0),ht=0,Nu=null,ys=0,gf=0,Mv=0,ru=null,tn=null,$v=0,Do=1/0,Nr=null,Nh=!1,hm=null,Ti=null,Rc=!1,vi=null,Rh=0,iu=0,fm=null,Xc=-1,Jc=0;function Gt(){return Te&6?et():Xc!==-1?Xc:Xc=et()}function Ci(t){return t.mode&1?Te&2&&Tt!==0?Tt&-Tt:D$.transition!==null?(Jc===0&&(Jc=tI()),Jc):(t=Le,t!==0||(t=window.event,t=t===void 0?16:uI(t.type)),t):1}function Zn(t,e,n,r){if(50<iu)throw iu=0,fm=null,Error(b(185));Ku(t,n,r),(!(Te&2)||t!==vt)&&(t===vt&&(!(Te&2)&&(gf|=n),ht===4&&hi(t,Tt)),an(t,r),n===1&&Te===0&&!(e.mode&1)&&(Do=et()+500,hf&&Bi()))}function an(t,e){var n=t.callbackNode;D2(t,e);var r=dh(t,t===vt?Tt:0);if(r===0)n!==null&&Gw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gw(n),e===1)t.tag===0?R$(B_.bind(null,t)):AI(B_.bind(null,t)),k$(function(){!(Te&6)&&Bi()}),n=null;else{switch(nI(r)){case 1:n=uv;break;case 4:n=ZS;break;case 16:n=fh;break;case 536870912:n=eI;break;default:n=fh}n=kT(n,wT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wT(t,e){if(Xc=-1,Jc=0,Te&6)throw Error(b(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=dh(t,t===vt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dh(t,r);else{e=r;var i=Te;Te|=2;var o=ET();(vt!==t||Tt!==e)&&(Nr=null,Do=et()+500,cs(t,e));do try{X$();break}catch(c){_T(t,c)}while(1);Ev(),xh.current=o,Te=i,it!==null?e=0:(vt=null,Tt=0,e=ht)}if(e!==0){if(e===2&&(i=Fg(t),i!==0&&(r=i,e=dm(t,i))),e===1)throw n=Nu,cs(t,0),hi(t,r),an(t,et()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Q$(i)&&(e=Dh(t,r),e===2&&(o=Fg(t),o!==0&&(r=o,e=dm(t,o))),e===1))throw n=Nu,cs(t,0),hi(t,r),an(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:ns(t,tn,Nr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=$v+500-et(),10<e)){if(dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kg(ns.bind(null,t,tn,Nr),e);break}ns(t,tn,Nr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var u=31-Jn(r);o=1<<u,u=e[u],u>i&&(i=u),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G$(r/1960))-r,10<r){t.timeoutHandle=Kg(ns.bind(null,t,tn,Nr),r);break}ns(t,tn,Nr);break;case 5:ns(t,tn,Nr);break;default:throw Error(b(329))}}}return an(t,et()),t.callbackNode===n?wT.bind(null,t):null}function dm(t,e){var n=ru;return t.current.memoizedState.isDehydrated&&(cs(t,e).flags|=256),t=Dh(t,e),t!==2&&(e=tn,tn=n,e!==null&&pm(e)),t}function pm(t){tn===null?tn=t:tn.push.apply(tn,t)}function Q$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!er(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~Mv,e&=~gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function B_(t){if(Te&6)throw Error(b(327));_o();var e=dh(t,0);if(!(e&1))return an(t,et()),null;var n=Dh(t,e);if(t.tag!==0&&n===2){var r=Fg(t);r!==0&&(e=r,n=dm(t,r))}if(n===1)throw n=Nu,cs(t,0),hi(t,e),an(t,et()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,tn,Nr),an(t,et()),null}function Uv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Do=et()+500,hf&&Bi())}}function ws(t){vi!==null&&vi.tag===0&&!(Te&6)&&_o();var e=Te;Te|=1;var n=$n.transition,r=Le;try{if($n.transition=null,Le=1,t)return t()}finally{Le=r,$n.transition=n,Te=e,!(Te&6)&&Bi()}}function bv(){gn=ho.current,Ve(ho)}function cs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C$(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(yv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yh();break;case 3:No(),Ve(sn),Ve(Bt),Av();break;case 5:kv(r);break;case 4:No();break;case 13:Ve(qe);break;case 19:Ve(qe);break;case 10:Sv(r.type._context);break;case 22:case 23:bv()}n=n.return}if(vt=t,it=t=ki(t.current,null),Tt=gn=e,ht=0,Nu=null,Mv=gf=ys=0,tn=ru=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}ss=null}return t}function _T(t,e){do{var n=it;try{if(Ev(),Gc.current=Ah,kh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(vs=0,mt=ct=Ke=null,tu=!1,ku=0,Pv.current=null,n===null||n.return===null){ht=1,Nu=e,it=null;break}e:{var o=t,u=n.return,c=n,h=e;if(e=Tt,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var d=h,g=c,y=g.tag;if(!(g.mode&1)&&(y===0||y===11||y===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var A=A_(u);if(A!==null){A.flags&=-257,x_(A,u,c,o,e),A.mode&1&&k_(o,d,e),e=A,h=d;var x=e.updateQueue;if(x===null){var N=new Set;N.add(h),e.updateQueue=N}else x.add(h);break e}else{if(!(e&1)){k_(o,d,e),Fv();break e}h=Error(b(426))}}else if(We&&c.mode&1){var U=A_(u);if(U!==null){!(U.flags&65536)&&(U.flags|=256),x_(U,u,c,o,e),wv(Ro(h,c));break e}}o=h=Ro(h,c),ht!==4&&(ht=2),ru===null?ru=[o]:ru.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=rT(o,h,e);w_(o,I);break e;case 1:c=h;var E=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ti===null||!Ti.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=iT(o,c,e);w_(o,L);break e}}o=o.return}while(o!==null)}IT(n)}catch(B){e=B,it===n&&n!==null&&(it=n=n.return);continue}break}while(1)}function ET(){var t=xh.current;return xh.current=Ah,t===null?Ah:t}function Fv(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(ys&268435455)&&!(gf&268435455)||hi(vt,Tt)}function Dh(t,e){var n=Te;Te|=2;var r=ET();(vt!==t||Tt!==e)&&(Nr=null,cs(t,e));do try{Y$();break}catch(i){_T(t,i)}while(1);if(Ev(),Te=n,xh.current=r,it!==null)throw Error(b(261));return vt=null,Tt=0,ht}function Y$(){for(;it!==null;)ST(it)}function X$(){for(;it!==null&&!S2();)ST(it)}function ST(t){var e=CT(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?IT(t):it=e,Pv.current=null}function IT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=H$(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}else if(n=W$(n,e,gn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ht===0&&(ht=5)}function ns(t,e,n){var r=Le,i=$n.transition;try{$n.transition=null,Le=1,J$(t,e,n,r)}finally{$n.transition=i,Le=r}return null}function J$(t,e,n,r){do _o();while(vi!==null);if(Te&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(L2(t,o),t===vt&&(it=vt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rc||(Rc=!0,kT(fh,function(){return _o(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var u=Le;Le=1;var c=Te;Te|=4,Pv.current=null,q$(t,n),vT(n,t),y$(jg),ph=!!Hg,jg=Hg=null,t.current=n,K$(n),I2(),Te=c,Le=u,$n.transition=o}else t.current=n;if(Rc&&(Rc=!1,vi=t,Rh=i),o=t.pendingLanes,o===0&&(Ti=null),k2(n.stateNode),an(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,t=hm,hm=null,t;return Rh&1&&t.tag!==0&&_o(),o=t.pendingLanes,o&1?t===fm?iu++:(iu=0,fm=t):iu=0,Bi(),null}function _o(){if(vi!==null){var t=nI(Rh),e=$n.transition,n=Le;try{if($n.transition=null,Le=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,Rh=0,Te&6)throw Error(b(331));var i=Te;for(Te|=4,K=t.current;K!==null;){var o=K,u=o.child;if(K.flags&16){var c=o.deletions;if(c!==null){for(var h=0;h<c.length;h++){var d=c[h];for(K=d;K!==null;){var g=K;switch(g.tag){case 0:case 11:case 15:nu(8,g,o)}var y=g.child;if(y!==null)y.return=g,K=y;else for(;K!==null;){g=K;var w=g.sibling,A=g.return;if(pT(g),g===d){K=null;break}if(w!==null){w.return=A,K=w;break}K=A}}}var x=o.alternate;if(x!==null){var N=x.child;if(N!==null){x.child=null;do{var U=N.sibling;N.sibling=null,N=U}while(N!==null)}}K=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,K=u;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,K=I;break e}K=o.return}}var E=t.current;for(K=E;K!==null;){u=K;var T=u.child;if(u.subtreeFlags&2064&&T!==null)T.return=u,K=T;else e:for(u=E;K!==null;){if(c=K,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:pf(9,c)}}catch(B){Ye(c,c.return,B)}if(c===u){K=null;break e}var L=c.sibling;if(L!==null){L.return=c.return,K=L;break e}K=c.return}}if(Te=i,Bi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(of,t)}catch{}r=!0}return r}finally{Le=n,$n.transition=e}}return!1}function V_(t,e,n){e=Ro(n,e),e=rT(t,e,1),t=Ii(t,e,1),e=Gt(),t!==null&&(Ku(t,1,e),an(t,e))}function Ye(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=Ro(n,t),t=iT(e,t,1),e=Ii(e,t,1),t=Gt(),e!==null&&(Ku(e,1,t),an(e,t));break}}e=e.return}}function Z$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Tt&n)===n&&(ht===4||ht===3&&(Tt&130023424)===Tt&&500>et()-$v?cs(t,0):Mv|=n),an(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=Gt();t=zr(t,e),t!==null&&(Ku(t,e,n),an(t,n))}function eU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function tU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),TT(t,n)}var CT;CT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,z$(t,e,n);rn=!!(t.flags&131072)}else rn=!1,We&&e.flags&1048576&&xI(e,Eh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yc(t,e),t=e.pendingProps;var i=ko(e,Bt.current);wo(e,n),i=Nv(null,e,r,t,i,n);var o=Rv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(o=!0,wh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tv(e),i.updater=ff,e.stateNode=i,i._reactInternals=e,em(e,r,t,n),e=rm(null,e,r,!0,o,n)):(e.tag=0,We&&o&&vv(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rU(r),t=Gn(r,t),i){case 0:e=nm(null,e,r,t,n);break e;case 1:e=D_(null,e,r,t,n);break e;case 11:e=N_(null,e,r,t,n);break e;case 14:e=R_(null,e,r,Gn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),nm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),D_(t,e,r,i,n);case 3:e:{if(uT(e),t===null)throw Error(b(387));r=e.pendingProps,o=e.memoizedState,i=o.element,LI(t,e),Th(e,r,null,n);var u=e.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ro(Error(b(423)),e),e=L_(t,e,r,n,i);break e}else if(r!==i){i=Ro(Error(b(424)),e),e=L_(t,e,r,n,i);break e}else for(mn=Si(e.stateNode.containerInfo.firstChild),yn=e,We=!0,Yn=null,n=$I(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),r===i){e=Wr(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return UI(e),t===null&&Xg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,u=i.children,qg(r,i)?u=null:o!==null&&qg(r,o)&&(e.flags|=32),aT(t,e),qt(t,e,u,n),e.child;case 6:return t===null&&Xg(e),null;case 13:return lT(t,e,n);case 4:return Cv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),N_(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,u=i.value,$e(Sh,r._currentValue),r._currentValue=u,o!==null)if(er(o.value,u)){if(o.children===i.children&&!sn.current){e=Wr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){u=o.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=br(-1,n&-n),h.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?h.next=h:(h.next=g.next,g.next=h),d.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),Jg(o.return,n,e),c.lanes|=n;break}h=h.next}}else if(o.tag===10)u=o.type===e.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(b(341));u.lanes|=n,c=u.alternate,c!==null&&(c.lanes|=n),Jg(u,n,e),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===e){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=bn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),R_(t,e,r,i,n);case 15:return sT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Yc(t,e),e.tag=1,on(r)?(t=!0,wh(e)):t=!1,wo(e,n),PI(e,r,i),em(e,r,i,n),rm(null,e,r,!0,t,n);case 19:return cT(t,e,n);case 22:return oT(t,e,n)}throw Error(b(156,e.tag))};function kT(t,e){return JS(t,e)}function nU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new nU(t,e,n,r)}function Bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rU(t){if(typeof t=="function")return Bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sv)return 11;if(t===ov)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zc(t,e,n,r,i,o){var u=2;if(r=t,typeof t=="function")Bv(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case to:return hs(n.children,i,o,e);case iv:u=8,i|=8;break;case Tg:return t=Mn(12,n,e,i|2),t.elementType=Tg,t.lanes=o,t;case Cg:return t=Mn(13,n,e,i),t.elementType=Cg,t.lanes=o,t;case kg:return t=Mn(19,n,e,i),t.elementType=kg,t.lanes=o,t;case MS:return mf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:u=10;break e;case PS:u=9;break e;case sv:u=11;break e;case ov:u=14;break e;case ui:u=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Mn(u,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function hs(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function mf(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=MS,t.lanes=n,t.stateNode={isHidden:!1},t}function Xp(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Jp(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iU(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vv(t,e,n,r,i,o,u,c,h){return t=new iU(t,e,n,c,h),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(o),t}function sU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AT(t){if(!t)return Pi;t=t._reactInternals;e:{if(xs(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(on(n))return kI(t,n,e)}return e}function xT(t,e,n,r,i,o,u,c,h){return t=Vv(n,r,!0,t,i,o,u,c,h),t.context=AT(null),n=t.current,r=Gt(),i=Ci(n),o=br(r,i),o.callback=e??null,Ii(n,o,i),t.current.lanes=i,Ku(t,i,r),an(t,r),t}function vf(t,e,n,r){var i=e.current,o=Gt(),u=Ci(i);return n=AT(n),e.context===null?e.context=n:e.pendingContext=n,e=br(o,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,u),t!==null&&(Zn(t,i,u,o),Kc(t,i,u)),u}function Lh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zv(t,e){z_(t,e),(t=t.alternate)&&z_(t,e)}function oU(){return null}var NT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wv(t){this._internalRoot=t}yf.prototype.render=Wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));vf(t,e,null,null)};yf.prototype.unmount=Wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){vf(null,t,null,null)}),e[Vr]=null}};function yf(t){this._internalRoot=t}yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=sI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&aI(t)}};function Hv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W_(){}function aU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Lh(u);o.call(d)}}var u=xT(e,r,t,0,null,!1,!1,"",W_);return t._reactRootContainer=u,t[Vr]=u.current,Eu(t.nodeType===8?t.parentNode:t),ws(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var d=Lh(h);c.call(d)}}var h=Vv(t,0,!1,null,null,!1,!1,"",W_);return t._reactRootContainer=h,t[Vr]=h.current,Eu(t.nodeType===8?t.parentNode:t),ws(function(){vf(e,h,n,r)}),h}function _f(t,e,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var c=i;i=function(){var h=Lh(u);c.call(h)}}vf(e,u,t,i)}else u=aU(n,e,t,i,r);return Lh(u)}rI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(lv(e,n|1),an(e,et()),!(Te&6)&&(Do=et()+500,Bi()))}break;case 13:ws(function(){var r=zr(t,1);if(r!==null){var i=Gt();Zn(r,t,1,i)}}),zv(t,1)}};cv=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=Gt();Zn(e,t,134217728,n)}zv(t,134217728)}};iI=function(t){if(t.tag===13){var e=Ci(t),n=zr(t,e);if(n!==null){var r=Gt();Zn(n,t,e,r)}zv(t,e)}};sI=function(){return Le};oI=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};$g=function(t,e,n){switch(e){case"input":if(Ng(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=cf(r);if(!i)throw Error(b(90));US(r),Ng(r,i)}}}break;case"textarea":FS(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};qS=Uv;KS=ws;var uU={usingClientEntryPoint:!1,Events:[Qu,so,cf,HS,jS,Uv]},$a={findFiberByHostInstance:is,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lU={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YS(t),t===null?null:t.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||oU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{of=Dc.inject(lU),hr=Dc}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uU;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hv(e))throw Error(b(200));return sU(t,e,null,n)};En.createRoot=function(t,e){if(!Hv(t))throw Error(b(299));var n=!1,r="",i=NT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vv(t,1,!1,null,null,n,!1,r,i),t[Vr]=e.current,Eu(t.nodeType===8?t.parentNode:t),new Wv(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=YS(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ws(t)};En.hydrate=function(t,e,n){if(!wf(e))throw Error(b(200));return _f(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!Hv(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=NT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=xT(e,null,t,1,n??null,i,!1,o,u),t[Vr]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yf(e)};En.render=function(t,e,n){if(!wf(e))throw Error(b(200));return _f(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!wf(t))throw Error(b(40));return t._reactRootContainer?(ws(function(){_f(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};En.unstable_batchedUpdates=Uv;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wf(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return _f(t,e,n,!1,r)};En.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=En})(o2);var H_=Eg;_g.createRoot=H_.createRoot,_g.hydrateRoot=H_.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}var yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yi||(yi={}));const j_="popstate";function cU(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:u,hash:c}=r.location;return gm("",{pathname:o,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Du(i)}return fU(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hU(){return Math.random().toString(36).substr(2,8)}function q_(t,e){return{usr:t.state,key:t.key,idx:e}}function gm(t,e,n,r){return n===void 0&&(n=null),Ru({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qo(e):e,{state:n,key:e&&e.key||r||hU()})}function Du(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,c=yi.Pop,h=null,d=g();d==null&&(d=0,u.replaceState(Ru({},u.state,{idx:d}),""));function g(){return(u.state||{idx:null}).idx}function y(){c=yi.Pop;let U=g(),I=U==null?null:U-d;d=U,h&&h({action:c,location:N.location,delta:I})}function w(U,I){c=yi.Push;let E=gm(N.location,U,I);n&&n(E,U),d=g()+1;let T=q_(E,d),L=N.createHref(E);try{u.pushState(T,"",L)}catch{i.location.assign(L)}o&&h&&h({action:c,location:N.location,delta:1})}function A(U,I){c=yi.Replace;let E=gm(N.location,U,I);n&&n(E,U),d=g();let T=q_(E,d),L=N.createHref(E);u.replaceState(T,"",L),o&&h&&h({action:c,location:N.location,delta:0})}function x(U){let I=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof U=="string"?U:Du(U);return $t(I,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,I)}let N={get action(){return c},get location(){return t(i,u)},listen(U){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(j_,y),h=U,()=>{i.removeEventListener(j_,y),h=null}},createHref(U){return e(i,U)},createURL:x,encodeLocation(U){let I=x(U);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:w,replace:A,go(U){return u.go(U)}};return N}var K_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K_||(K_={}));function dU(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?qo(e):e,i=LT(r.pathname||"/",n);if(i==null)return null;let o=RT(t);pU(o);let u=null;for(let c=0;u==null&&c<o.length;++c)u=IU(o[c],kU(i));return u}function RT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,u,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};h.relativePath.startsWith("/")&&($t(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let d=Ai([r,h.relativePath]),g=n.concat(h);o.children&&o.children.length>0&&($t(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),RT(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:EU(d,o.index),routesMeta:g})};return t.forEach((o,u)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,u);else for(let h of DT(o.path))i(o,u,h)}),e}function DT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=DT(r.join("/")),c=[];return c.push(...u.map(h=>h===""?o:[o,h].join("/"))),i&&c.push(...u),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function pU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gU=/^:\w+$/,mU=3,vU=2,yU=1,wU=10,_U=-2,G_=t=>t==="*";function EU(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=_U),e&&(r+=vU),n.filter(i=>!G_(i)).reduce((i,o)=>i+(gU.test(o)?mU:o===""?yU:wU),r)}function SU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IU(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let u=0;u<n.length;++u){let c=n[u],h=u===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",g=TU({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d);if(!g)return null;Object.assign(r,g.params);let y=c.route;o.push({params:r,pathname:Ai([i,g.pathname]),pathnameBase:RU(Ai([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ai([i,g.pathnameBase]))}return o}function TU(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CU(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,g,y)=>{if(g==="*"){let w=c[y]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}return d[g]=AU(c[y]||"",g),d},{}),pathname:o,pathnameBase:u,pattern:t}}function CU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(u,c)=>(r.push(c),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kU(t){try{return decodeURI(t)}catch(e){return jv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AU(t,e){try{return decodeURIComponent(t)}catch(n){return jv(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function LT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xU(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qo(t):t;return{pathname:n?n.startsWith("/")?n:NU(n,e):e,search:DU(r),hash:LU(i)}}function NU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qo(t):(i=Ru({},t),$t(!i.pathname||!i.pathname.includes("?"),Zp("?","pathname","search",i)),$t(!i.pathname||!i.pathname.includes("#"),Zp("#","pathname","hash",i)),$t(!i.search||!i.search.includes("#"),Zp("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,c;if(r||u==null)c=n;else{let y=e.length-1;if(u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let h=xU(i,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}const Ai=t=>t.join("/").replace(/\/\/+/g,"/"),RU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const PU=["post","put","patch","delete"];[...PU];/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function MU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const $U=typeof Object.is=="function"?Object.is:MU,{useState:UU,useEffect:bU,useLayoutEffect:FU,useDebugValue:BU}=wg;function VU(t,e,n){const r=e(),[{inst:i},o]=UU({inst:{value:r,getSnapshot:e}});return FU(()=>{i.value=r,i.getSnapshot=e,eg(i)&&o({inst:i})},[t,r,e]),bU(()=>(eg(i)&&o({inst:i}),t(()=>{eg(i)&&o({inst:i})})),[t]),BU(r),r}function eg(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!$U(n,r)}catch{return!0}}function zU(t,e,n){return e()}const WU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HU=!WU,jU=HU?zU:VU;"useSyncExternalStore"in wg&&(t=>t.useSyncExternalStore)(wg);const qU=z.createContext(null),MT=z.createContext(null),Ef=z.createContext(null),Sf=z.createContext(null),Ko=z.createContext({outlet:null,matches:[]}),$T=z.createContext(null);function KU(t,e){let{relative:n}=e===void 0?{}:e;Xu()||$t(!1);let{basename:r,navigator:i}=z.useContext(Ef),{hash:o,pathname:u,search:c}=UT(t,{relative:n}),h=u;return r!=="/"&&(h=u==="/"?r:Ai([r,u])),i.createHref({pathname:h,search:c,hash:o})}function Xu(){return z.useContext(Sf)!=null}function If(){return Xu()||$t(!1),z.useContext(Sf).location}function qv(){Xu()||$t(!1);let{basename:t,navigator:e}=z.useContext(Ef),{matches:n}=z.useContext(Ko),{pathname:r}=If(),i=JSON.stringify(OT(n).map(c=>c.pathnameBase)),o=z.useRef(!1);return z.useEffect(()=>{o.current=!0}),z.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){e.go(c);return}let d=PT(c,JSON.parse(i),r,h.relative==="path");t!=="/"&&(d.pathname=d.pathname==="/"?t:Ai([t,d.pathname])),(h.replace?e.replace:e.push)(d,h.state,h)},[t,e,i,r])}function UT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=z.useContext(Ko),{pathname:i}=If(),o=JSON.stringify(OT(r).map(u=>u.pathnameBase));return z.useMemo(()=>PT(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function GU(t,e){Xu()||$t(!1);let{navigator:n}=z.useContext(Ef),r=z.useContext(MT),{matches:i}=z.useContext(Ko),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=If(),d;if(e){var g;let N=typeof e=="string"?qo(e):e;c==="/"||(g=N.pathname)!=null&&g.startsWith(c)||$t(!1),d=N}else d=h;let y=d.pathname||"/",w=c==="/"?y:y.slice(c.length)||"/",A=dU(t,{pathname:w}),x=JU(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Ai([c,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:Ai([c,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r||void 0);return e&&x?z.createElement(Sf.Provider,{value:{location:mm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yi.Pop}},x):x}function QU(){let t=nb(),e=OU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,o)}class YU extends z.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?z.createElement(Ko.Provider,{value:this.props.routeContext},z.createElement($T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XU(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(qU);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Ko.Provider,{value:e},r)}function JU(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(u=>u.route.id&&(i==null?void 0:i[u.route.id]));o>=0||$t(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,u,c)=>{let h=u.route.id?i==null?void 0:i[u.route.id]:null,d=n?u.route.errorElement||z.createElement(QU,null):null,g=e.concat(r.slice(0,c+1)),y=()=>z.createElement(XU,{match:u,routeContext:{outlet:o,matches:g}},h?d:u.route.element!==void 0?u.route.element:o);return n&&(u.route.errorElement||c===0)?z.createElement(YU,{location:n.location,component:d,error:h,children:y(),routeContext:{outlet:null,matches:g}}):y()},null)}var Q_;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Q_||(Q_={}));var Oh;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Oh||(Oh={}));function ZU(t){let e=z.useContext(MT);return e||$t(!1),e}function eb(t){let e=z.useContext(Ko);return e||$t(!1),e}function tb(t){let e=eb(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function nb(){var t;let e=z.useContext($T),n=ZU(Oh.UseRouteError),r=tb(Oh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function rb(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yi.Pop,navigator:o,static:u=!1}=t;Xu()&&$t(!1);let c=e.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:o,static:u}),[c,o,u]);typeof r=="string"&&(r=qo(r));let{pathname:d="/",search:g="",hash:y="",state:w=null,key:A="default"}=r,x=z.useMemo(()=>{let N=LT(d,c);return N==null?null:{pathname:N,search:g,hash:y,state:w,key:A}},[c,d,g,y,w,A]);return x==null?null:z.createElement(Ef.Provider,{value:h},z.createElement(Sf.Provider,{children:n,value:{location:x,navigationType:i}}))}var Y_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Y_||(Y_={}));new Promise(()=>{});/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function ib(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ob(t,e){return t.button===0&&(!e||e==="_self")&&!sb(t)}const ab=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function ub(t){let{basename:e,children:n,window:r}=t,i=z.useRef();i.current==null&&(i.current=cU({window:r,v5Compat:!0}));let o=i.current,[u,c]=z.useState({action:o.action,location:o.location});return z.useLayoutEffect(()=>o.listen(c),[o]),z.createElement(rb,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o})}const lb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bT=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:c,target:h,to:d,preventScrollReset:g}=e,y=ib(e,ab),w=typeof d=="string"?d:Du(d),A=/^[a-z+]+:\/\//i.test(w)||w.startsWith("//"),x=w,N=!1;if(lb&&A){let T=new URL(window.location.href),L=w.startsWith("//")?new URL(T.protocol+w):new URL(w);L.origin===T.origin?x=L.pathname+L.search+L.hash:N=!0}let U=KU(x,{relative:i}),I=cb(x,{replace:u,state:c,target:h,preventScrollReset:g,relative:i});function E(T){r&&r(T),T.defaultPrevented||I(T)}return z.createElement("a",vm({},y,{href:A?w:U,onClick:N||o?r:E,ref:n,target:h}))});var X_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(X_||(X_={}));var J_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function cb(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:u}=e===void 0?{}:e,c=qv(),h=If(),d=UT(t,{relative:u});return z.useCallback(g=>{if(ob(g,n)){g.preventDefault();let y=r!==void 0?r:Du(h)===Du(d);c(t,{replace:y,state:i,preventScrollReset:o,relative:u})}},[h,c,d,r,i,n,t,o,u])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],c=t[n++],h=((i&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},BT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,c=u?t[i+1]:0,h=i+2<t.length,d=h?t[i+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|d>>6,A=d&63;h||(A=64,u||(w=64)),r.push(n[g],n[y],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||d==null||y==null)throw Error();const w=o<<2|c>>4;if(r.push(w),d!==64){const A=c<<4&240|d>>2;if(r.push(A),y!==64){const x=d<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fb=function(t){const e=FT(t);return BT.encodeByteArray(e,!0)},Ph=function(t){return fb(t).replace(/\./g,"")},VT=function(t){try{return BT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=()=>db().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VT(t[1]);return e&&JSON.parse(e)},Kv=()=>{try{return pb()||gb()||mb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zT=t=>{var e,n;return(n=(e=Kv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vb=t=>{const e=zT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yb=()=>{var t;return(t=Kv())===null||t===void 0?void 0:t.config},WT=t=>{var e;return(e=Kv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[Ph(JSON.stringify(n)),Ph(JSON.stringify(u)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Sb(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tb(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cb(){try{return typeof indexedDB=="object"}catch{return!1}}function kb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="FirebaseError";class Yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ab,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?xb(o,r):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new Yr(i,c,r)}}function xb(t,e){return t.replace(Nb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nb=/\{\$([^}]+)}/g;function Rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],u=e[i];if(Z_(o)&&Z_(u)){if(!Mh(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Db(t,e){const n=new Lb(t,e);return n.subscribe.bind(n)}class Lb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ob(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tg),i.error===void 0&&(i.error=tg),i.complete===void 0&&(i.complete=tg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ob(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new wb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($b(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mb(t){return t===rs?void 0:t}function $b(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const bb={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Fb=Ae.INFO,Bb={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},Vb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Bb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=Fb,this._logHandler=Vb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const zb=(t,e)=>e.some(n=>t instanceof n);let eE,tE;function Wb(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hb(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HT=new WeakMap,ym=new WeakMap,jT=new WeakMap,ng=new WeakMap,Qv=new WeakMap;function jb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(xi(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&HT.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}function qb(t){if(ym.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});ym.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ym.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kb(t){wm=t(wm)}function Gb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rg(this),e,...n);return jT.set(r,e.sort?e.sort():[e]),xi(r)}:Hb().includes(t)?function(...e){return t.apply(rg(this),e),xi(HT.get(this))}:function(...e){return xi(t.apply(rg(this),e))}}function Qb(t){return typeof t=="function"?Gb(t):(t instanceof IDBTransaction&&qb(t),zb(t,Wb())?new Proxy(t,wm):t)}function xi(t){if(t instanceof IDBRequest)return jb(t);if(ng.has(t))return ng.get(t);const e=Qb(t);return e!==t&&(ng.set(t,e),Qv.set(e,t)),e}const rg=t=>Qv.get(t);function Yb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),c=xi(u);return r&&u.addEventListener("upgradeneeded",h=>{r(xi(u.result),h.oldVersion,h.newVersion,xi(u.transaction))}),n&&u.addEventListener("blocked",()=>n()),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",()=>i())}).catch(()=>{}),c}const Xb=["get","getKey","getAll","getAllKeys","count"],Jb=["put","add","delete","clear"],ig=new Map;function nE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Jb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xb.includes(n)))return;const o=async function(u,...c){const h=this.transaction(u,i?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),i&&h.done]))[0]};return ig.set(e,o),o}Kb(t=>({...t,get:(e,n,r)=>nE(e,n)||t.get(e,n,r),has:(e,n)=>!!nE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",rE="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Gv("@firebase/app"),tF="@firebase/app-compat",nF="@firebase/analytics-compat",rF="@firebase/analytics",iF="@firebase/app-check-compat",sF="@firebase/app-check",oF="@firebase/auth",aF="@firebase/auth-compat",uF="@firebase/database",lF="@firebase/database-compat",cF="@firebase/functions",hF="@firebase/functions-compat",fF="@firebase/installations",dF="@firebase/installations-compat",pF="@firebase/messaging",gF="@firebase/messaging-compat",mF="@firebase/performance",vF="@firebase/performance-compat",yF="@firebase/remote-config",wF="@firebase/remote-config-compat",_F="@firebase/storage",EF="@firebase/storage-compat",SF="@firebase/firestore",IF="@firebase/firestore-compat",TF="firebase",CF="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",kF={[_m]:"fire-core",[tF]:"fire-core-compat",[rF]:"fire-analytics",[nF]:"fire-analytics-compat",[sF]:"fire-app-check",[iF]:"fire-app-check-compat",[oF]:"fire-auth",[aF]:"fire-auth-compat",[uF]:"fire-rtdb",[lF]:"fire-rtdb-compat",[cF]:"fire-fn",[hF]:"fire-fn-compat",[fF]:"fire-iid",[dF]:"fire-iid-compat",[pF]:"fire-fcm",[gF]:"fire-fcm-compat",[mF]:"fire-perf",[vF]:"fire-perf-compat",[yF]:"fire-rc",[wF]:"fire-rc-compat",[_F]:"fire-gcs",[EF]:"fire-gcs-compat",[SF]:"fire-fst",[IF]:"fire-fst-compat","fire-js":"fire-js",[TF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map,Sm=new Map;function AF(t,e){try{t.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(Sm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,t);for(const n of $h.values())AF(n,t);return!0}function Yv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ni=new Ju("app","Firebase",xF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=CF;function qT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=yb()),!n)throw Ni.create("no-options");const o=$h.get(i);if(o){if(Mh(n,o.options)&&Mh(r,o.config))return o;throw Ni.create("duplicate-app",{appName:i})}const u=new Ub(i);for(const h of Sm.values())u.addComponent(h);const c=new NF(n,r,u);return $h.set(i,c),c}function KT(t=Em){const e=$h.get(t);if(!e&&t===Em)return qT();if(!e)throw Ni.create("no-app",{appName:t});return e}function Ri(t,e,n){var r;let i=(r=kF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(c.join(" "));return}Lo(new _s(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-heartbeat-database",DF=1,Lu="firebase-heartbeat-store";let sg=null;function GT(){return sg||(sg=Yb(RF,DF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lu)}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),sg}async function LF(t){try{return(await GT()).transaction(Lu).objectStore(Lu).get(QT(t))}catch(e){if(e instanceof Yr)Es.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Es.warn(n.message)}}}async function iE(t,e){try{const r=(await GT()).transaction(Lu,"readwrite");return await r.objectStore(Lu).put(e,QT(t)),r.done}catch(n){if(n instanceof Yr)Es.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Es.warn(r.message)}}}function QT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=1024,PF=30*24*60*60*1e3;class MF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=PF}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:n,unsentEntries:r}=$F(this._heartbeatsCache.heartbeats),i=Ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function sE(){return new Date().toISOString().substring(0,10)}function $F(t,e=OF){const n=[];let r=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),oE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cb()?kb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await LF(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function oE(t){return Ph(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t){Lo(new _s("platform-logger",e=>new Zb(e),"PRIVATE")),Lo(new _s("heartbeat",e=>new MF(e),"PRIVATE")),Ri(_m,rE,t),Ri(_m,rE,"esm2017"),Ri("fire-js","")}bF("");var FF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,Xv=Xv||{},oe=FF||self;function Uh(){}function Tf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BF(t){return Object.prototype.hasOwnProperty.call(t,og)&&t[og]||(t[og]=++VF)}var og="closure_uid_"+(1e9*Math.random()>>>0),VF=0;function zF(t,e,n){return t.call.apply(t.bind,arguments)}function WF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=zF:Ut=WF,Ut.apply(null,arguments)}function Lc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,o){for(var u=Array(arguments.length-2),c=2;c<arguments.length;c++)u[c-2]=arguments[c];return e.prototype[i].apply(r,u)}}function Vi(){this.s=this.s,this.o=this.o}var HF=0;Vi.prototype.s=!1;Vi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),HF!=0)&&BF(this)};Vi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Jv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tf(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let u=0;u<o;u++)t[i+u]=r[u]}else t.push(r)}}function bt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var jF=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",Uh,e),oe.removeEventListener("test",Uh,e)}catch{}return t}();function bh(t){return/^[\s\xa0]*$/.test(t)}var uE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ag(t,e){return t<e?-1:t>e?1:0}function Cf(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function cr(t){return Cf().indexOf(t)!=-1}function Zv(t){return Zv[" "](t),t}Zv[" "]=Uh;function qF(t){var e=QF;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var KF=cr("Opera"),Oo=cr("Trident")||cr("MSIE"),XT=cr("Edge"),Im=XT||Oo,JT=cr("Gecko")&&!(Cf().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge"))&&!(cr("Trident")||cr("MSIE"))&&!cr("Edge"),GF=Cf().toLowerCase().indexOf("webkit")!=-1&&!cr("Edge");function ZT(){var t=oe.document;return t?t.documentMode:void 0}var Fh;e:{var ug="",lg=function(){var t=Cf();if(JT)return/rv:([^\);]+)(\)|;)/.exec(t);if(XT)return/Edge\/([\d\.]+)/.exec(t);if(Oo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(GF)return/WebKit\/(\S+)/.exec(t);if(KF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lg&&(ug=lg?lg[1]:""),Oo){var cg=ZT();if(cg!=null&&cg>parseFloat(ug)){Fh=String(cg);break e}}Fh=ug}var QF={};function YF(){return qF(function(){let t=0;const e=uE(String(Fh)).split("."),n=uE("9").split("."),r=Math.max(e.length,n.length);for(let u=0;t==0&&u<r;u++){var i=e[u]||"",o=n[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=ag(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||ag(i[2].length==0,o[2].length==0)||ag(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var Tm;if(oe.document&&Oo){var lE=ZT();Tm=lE||parseInt(Fh,10)||void 0}else Tm=void 0;var XF=Tm;function Ou(t,e){if(bt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(JT){e:{try{Zv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:JF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ou.X.h.call(this)}}At(Ou,bt);var JF={2:"touch",3:"pen",4:"mouse"};Ou.prototype.h=function(){Ou.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nl="closure_listenable_"+(1e6*Math.random()|0),ZF=0;function e3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++ZF,this.ba=this.ea=!1}function kf(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function ey(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function eC(t){const e={};for(const n in t)e[n]=t[n];return e}const cE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<cE.length;o++)n=cE[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Af(t){this.src=t,this.g={},this.h=0}Af.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var u=km(t,e,r,i);return-1<u?(e=t[u],n||(e.ea=!1)):(e=new e3(e,this.src,o,!!r,i),e.ea=n,t.push(e)),e};function Cm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=YT(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(kf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function km(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}var ty="closure_lm_"+(1e6*Math.random()|0),hg={};function nC(t,e,n,r,i){if(r&&r.once)return iC(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)nC(t,e[o],n,r,i);return null}return n=iy(n),t&&t[nl]?t.N(e,n,tl(r)?!!r.capture:!!r,i):rC(t,e,n,!1,r,i)}function rC(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var u=tl(i)?!!i.capture:!!i,c=ry(t);if(c||(t[ty]=c=new Af(t)),n=c.add(e,n,r,u,o),n.proxy)return n;if(r=t3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jF||(i=u),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(oC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function t3(){function t(n){return e.call(t.src,t.listener,n)}const e=n3;return t}function iC(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)iC(t,e[o],n,r,i);return null}return n=iy(n),t&&t[nl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):rC(t,e,n,!0,r,i)}function sC(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sC(t,e[o],n,r,i);else r=tl(r)?!!r.capture:!!r,n=iy(n),t&&t[nl]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=km(o,n,r,i),-1<n&&(kf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ry(t))&&(e=t.g[e.toString()],t=-1,e&&(t=km(e,n,r,i)),(n=-1<t?e[t]:null)&&ny(n))}function ny(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[nl])Cm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(oC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ry(e))?(Cm(n,t),n.h==0&&(n.src=null,e[ty]=null)):kf(t)}}}function oC(t){return t in hg?hg[t]:hg[t]="on"+t}function n3(t,e){if(t.ba)t=!0;else{e=new Ou(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&ny(t),t=n.call(r,e)}return t}function ry(t){return t=t[ty],t instanceof Af?t:null}var fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function iy(t){return typeof t=="function"?t:(t[fg]||(t[fg]=function(e){return t.handleEvent(e)}),t[fg])}function yt(){Vi.call(this),this.i=new Af(this),this.P=this,this.I=null}At(yt,Vi);yt.prototype[nl]=!0;yt.prototype.removeEventListener=function(t,e,n,r){sC(this,t,e,n,r)};function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new bt(e,t);else if(e instanceof bt)e.target=e.target||t;else{var i=e;e=new bt(r,t),tC(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var u=e.g=n[o];i=Oc(u,r,!0,e)&&i}if(u=e.g=t,i=Oc(u,r,!0,e)&&i,i=Oc(u,r,!1,e)&&i,n)for(o=0;o<n.length;o++)u=e.g=n[o],i=Oc(u,r,!1,e)&&i}yt.prototype.M=function(){if(yt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.I=null};yt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};yt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ba&&u.capture==n){var c=u.listener,h=u.ha||u.src;u.ea&&Cm(t.i,u),i=c.call(h,r)!==!1&&i}}return i&&!r.defaultPrevented}var sy=oe.JSON.stringify;function r3(){var t=lC;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class i3{constructor(){this.h=this.g=null}add(e,n){const r=aC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var aC=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new s3,t=>t.reset());class s3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function o3(t){oe.setTimeout(()=>{throw t},0)}function uC(t,e){Am||a3(),xm||(Am(),xm=!0),lC.add(t,e)}var Am;function a3(){var t=oe.Promise.resolve(void 0);Am=function(){t.then(u3)}}var xm=!1,lC=new i3;function u3(){for(var t;t=r3();){try{t.h.call(t.g)}catch(n){o3(n)}var e=aC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xm=!1}function xf(t,e){yt.call(this),this.h=t||1,this.g=e||oe,this.j=Ut(this.lb,this),this.l=Date.now()}At(xf,yt);J=xf.prototype;J.ca=!1;J.R=null;J.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ct(this,"tick"),this.ca&&(oy(this),this.start()))}};J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function oy(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}J.M=function(){xf.X.M.call(this),oy(this),delete this.g};function ay(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function cC(t){t.g=ay(()=>{t.g=null,t.i&&(t.i=!1,cC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class l3 extends Vi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cC(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pu(t){Vi.call(this),this.h=t,this.g={}}At(Pu,Vi);var hE=[];function hC(t,e,n,r){Array.isArray(n)||(n&&(hE[0]=n.toString()),n=hE);for(var i=0;i<n.length;i++){var o=nC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function fC(t){ey(t.g,function(e,n){this.g.hasOwnProperty(n)&&ny(e)},t),t.g={}}Pu.prototype.M=function(){Pu.X.M.call(this),fC(this)};Pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Nf(){this.g=!0}Nf.prototype.Aa=function(){this.g=!1};function c3(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var u="",c=o.split("&"),h=0;h<c.length;h++){var d=c[h].split("=");if(1<d.length){var g=d[0];d=d[1];var y=g.split("_");u=2<=y.length&&y[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+u})}function h3(t,e,n,r,i,o,u){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+u})}function fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+d3(t,n)+(r?" "+r:"")})}function f3(t,e){t.info(function(){return"TIMEOUT: "+e})}Nf.prototype.info=function(){};function d3(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var u=1;u<i.length;u++)i[u]=""}}}}return sy(n)}catch{return e}}var Ns={},fE=null;function Rf(){return fE=fE||new yt}Ns.Pa="serverreachability";function dC(t){bt.call(this,Ns.Pa,t)}At(dC,bt);function Mu(t){const e=Rf();Ct(e,new dC(e))}Ns.STAT_EVENT="statevent";function pC(t,e){bt.call(this,Ns.STAT_EVENT,t),this.stat=e}At(pC,bt);function Kt(t){const e=Rf();Ct(e,new pC(e,t))}Ns.Qa="timingevent";function gC(t,e){bt.call(this,Ns.Qa,t),this.size=e}At(gC,bt);function rl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Df={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mC={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function uy(){}uy.prototype.h=null;function dE(t){return t.h||(t.h=t.i())}function vC(){}var il={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ly(){bt.call(this,"d")}At(ly,bt);function cy(){bt.call(this,"c")}At(cy,bt);var Nm;function Lf(){}At(Lf,uy);Lf.prototype.g=function(){return new XMLHttpRequest};Lf.prototype.i=function(){return{}};Nm=new Lf;function sl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Pu(this),this.O=p3,t=Im?125:void 0,this.T=new xf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new yC}function yC(){this.i=null,this.g="",this.h=!1}var p3=45e3,Rm={},Bh={};J=sl.prototype;J.setTimeout=function(t){this.O=t};function Dm(t,e,n){t.K=1,t.v=Pf(Hr(e)),t.s=n,t.P=!0,wC(t,null)}function wC(t,e){t.F=Date.now(),ol(t),t.A=Hr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),AC(n.i,"t",r),t.C=0,n=t.l.H,t.h=new yC,t.g=GC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new l3(Ut(t.La,t,t.g),t.N)),hC(t.S,t.g,"readystatechange",t.ib),e=t.H?eC(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Mu(),c3(t.j,t.u,t.A,t.m,t.U,t.s)}J.ib=function(t){t=t.target;const e=this.L;e&&Pr(t)==3?e.l():this.La(t)};J.La=function(t){try{if(t==this.g)e:{const g=Pr(this.g);var e=this.g.Ea();const y=this.g.aa();if(!(3>g)&&(g!=3||Im||this.g&&(this.h.h||this.g.fa()||vE(this.g)))){this.I||g!=4||e==7||(e==8||0>=y?Mu(3):Mu(2)),Of(this);var n=this.g.aa();this.Y=n;t:if(_C(this)){var r=vE(this.g);t="";var i=r.length,o=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),su(this);var u="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=n==200,h3(this.j,this.u,this.A,this.m,this.U,g,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,h=this.g;if((c=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(c)){var d=c;break t}}d=null}if(n=d)fo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lm(this,n);else{this.i=!1,this.o=3,Kt(12),as(this),su(this);break e}}this.P?(EC(this,g,u),Im&&this.i&&g==3&&(hC(this.S,this.T,"tick",this.hb),this.T.start())):(fo(this.j,this.m,u,null),Lm(this,u)),g==4&&as(this),this.i&&!this.I&&(g==4?HC(this.l,this):(this.i=!1,ol(this)))}else n==400&&0<u.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),as(this),su(this)}}}catch{}finally{}};function _C(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function EC(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=g3(t,n),i==Bh){e==4&&(t.o=4,Kt(14),r=!1),fo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Rm){t.o=4,Kt(15),fo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fo(t.j,t.m,i,null),Lm(t,i);_C(t)&&i!=Bh&&i!=Rm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Kt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),vy(e),e.K=!0,Kt(11))):(fo(t.j,t.m,n,"[Invalid Chunked Response]"),as(t),su(t))}J.hb=function(){if(this.g){var t=Pr(this.g),e=this.g.fa();this.C<e.length&&(Of(this),EC(this,t,e),this.i&&t!=4&&ol(this))}};function g3(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Bh:(n=Number(e.substring(n,r)),isNaN(n)?Rm:(r+=1,r+n>e.length?Bh:(e=e.substr(r,n),t.C=r+n,e)))}J.cancel=function(){this.I=!0,as(this)};function ol(t){t.V=Date.now()+t.O,SC(t,t.O)}function SC(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=rl(Ut(t.gb,t),e)}function Of(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}J.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(f3(this.j,this.A),this.K!=2&&(Mu(),Kt(17)),as(this),this.o=2,su(this)):SC(this,this.V-t)};function su(t){t.l.G==0||t.I||HC(t.l,t)}function as(t){Of(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,oy(t.T),fC(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lm(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Om(n.h,t))){if(!t.J&&Om(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Wh(n),Uf(n);else break e;my(n),Kt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=rl(Ut(n.cb,n),6e3));if(1>=RC(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else us(n,11)}else if((t.J||n.g==t)&&Wh(n),!bh(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.T=d[0],d=d[1],n.G==2)if(d[0]=="c"){n.I=d[1],n.ka=d[2];const g=d[3];g!=null&&(n.ma=g,n.j.info("VER="+n.ma));const y=d[4];y!=null&&(n.Ca=y,n.j.info("SVER="+n.Ca));const w=d[5];w!=null&&typeof w=="number"&&0<w&&(r=1.5*w,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=t.g;if(A){const x=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(x){var o=r.h;o.g||x.indexOf("spdy")==-1&&x.indexOf("quic")==-1&&x.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(hy(o,o.h),o.h=null))}if(r.D){const N=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.za=N,He(r.F,r.D,N))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var u=t;if(r.sa=KC(r,r.H?r.ka:null,r.V),u.J){DC(r.h,u);var c=u,h=r.J;h&&c.setTimeout(h),c.B&&(Of(c),ol(c)),r.g=u}else zC(r);0<n.i.length&&bf(n)}else d[0]!="stop"&&d[0]!="close"||us(n,7);else n.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?us(n,7):gy(n):d[0]!="noop"&&n.l&&n.l.wa(d),n.A=0)}}Mu(4)}catch{}}function m3(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function v3(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=v3(t),r=m3(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var TC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y3(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function fs(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fs){this.h=e!==void 0?e:t.h,Vh(this,t.j),this.s=t.s,this.g=t.g,zh(this,t.m),this.l=t.l,e=t.i;var n=new $u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pE(this,n),this.o=t.o}else t&&(n=String(t).match(TC))?(this.h=!!e,Vh(this,n[1]||"",!0),this.s=qa(n[2]||""),this.g=qa(n[3]||"",!0),zh(this,n[4]),this.l=qa(n[5]||"",!0),pE(this,n[6]||"",!0),this.o=qa(n[7]||"")):(this.h=!!e,this.i=new $u(null,this.h))}fs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ka(e,gE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ka(e,gE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ka(n,n.charAt(0)=="/"?E3:_3,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ka(n,I3)),t.join("")};function Hr(t){return new fs(t)}function Vh(t,e,n){t.j=n?qa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function zh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pE(t,e,n){e instanceof $u?(t.i=e,T3(t.i,t.h)):(n||(e=Ka(e,S3)),t.i=new $u(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Pf(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ka(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,w3),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function w3(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gE=/[#\/\?@]/g,_3=/[#\?:]/g,E3=/[#\?]/g,S3=/[#\?@]/g,I3=/#/g;function $u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zi(t){t.g||(t.g=new Map,t.h=0,t.i&&y3(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=$u.prototype;J.add=function(t,e){zi(this),this.i=null,t=Go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function CC(t,e){zi(t),e=Go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kC(t,e){return zi(t),e=Go(t,e),t.g.has(e)}J.forEach=function(t,e){zi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.oa=function(){zi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};J.W=function(t){zi(this);let e=[];if(typeof t=="string")kC(this,t)&&(e=e.concat(this.g.get(Go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return zi(this),this.i=null,t=Go(this,t),kC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function AC(t,e,n){CC(t,e),0<n.length&&(t.i=null,t.g.set(Go(t,e),Jv(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=o;u[r]!==""&&(i+="="+encodeURIComponent(String(u[r]))),t.push(i)}}return this.i=t.join("&")};function Go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T3(t,e){e&&!t.j&&(zi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(CC(this,r),AC(this,i,n))},t)),t.j=e}var C3=class{constructor(e,n){this.h=e,this.g=n}};function xC(t){this.l=t||k3,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var k3=10;function NC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function RC(t){return t.h?1:t.g?t.g.size:0}function Om(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hy(t,e){t.g?t.g.add(e):t.h=e}function DC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}xC.prototype.cancel=function(){if(this.i=LC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function LC(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Jv(t.i)}function fy(){}fy.prototype.stringify=function(t){return oe.JSON.stringify(t,void 0)};fy.prototype.parse=function(t){return oe.JSON.parse(t,void 0)};function A3(){this.g=new fy}function x3(t,e,n){const r=n||"";try{IC(t,function(i,o){let u=i;tl(i)&&(u=sy(i)),e.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function N3(t,e){const n=new Nf;if(oe.Image){const r=new Image;r.onload=Lc(Pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lc(Pc,n,r,"TestLoadImage: error",!1,e),r.onabort=Lc(Pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lc(Pc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function al(t){this.l=t.ac||null,this.j=t.jb||!1}At(al,uy);al.prototype.g=function(){return new Mf(this.l,this.j)};al.prototype.i=function(t){return function(){return t}}({});function Mf(t,e){yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Mf,yt);var dy=0;J=Mf.prototype;J.open=function(t,e){if(this.readyState!=dy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uu(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=dy};J.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uu(this)),this.g&&(this.readyState=3,Uu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;OC(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function OC(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}J.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ul(this):Uu(this),this.readyState==3&&OC(this)}};J.Va=function(t){this.g&&(this.response=this.responseText=t,ul(this))};J.Ua=function(t){this.g&&(this.response=t,ul(this))};J.ga=function(){this.g&&ul(this)};function ul(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uu(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Uu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var R3=oe.JSON.parse;function Xe(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=PC,this.K=this.L=!1}At(Xe,yt);var PC="",D3=/^https?$/i,L3=["POST","PUT"];J=Xe.prototype;J.Ka=function(t){this.L=t};J.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Nm.g(),this.C=this.u?dE(this.u):dE(Nm),this.g.onreadystatechange=Ut(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){mE(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=YT(L3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of n)this.g.setRequestHeader(o,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{UC(this),0<this.B&&((this.K=O3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.qa,this)):this.A=ay(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){mE(this,o)}};function O3(t){return Oo&&YF()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.qa=function(){typeof Xv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))};function mE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,MC(t),$f(t)}function MC(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),$f(this))};J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$f(this,!0)),Xe.X.M.call(this)};J.Ha=function(){this.s||(this.F||this.v||this.l?$C(this):this.fb())};J.fb=function(){$C(this)};function $C(t){if(t.h&&typeof Xv<"u"&&(!t.C[1]||Pr(t)!=4||t.aa()!=2)){if(t.v&&Pr(t)==4)ay(t.Ha,0,t);else if(Ct(t,"readystatechange"),Pr(t)==4){t.h=!1;try{const c=t.aa();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=c===0){var i=String(t.H).match(TC)[1]||null;if(!i&&oe.self&&oe.self.location){var o=oe.self.location.protocol;i=o.substr(0,o.length-1)}r=!D3.test(i?i.toLowerCase():"")}n=r}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var u=2<Pr(t)?t.g.statusText:""}catch{u=""}t.j=u+" ["+t.aa()+"]",MC(t)}}finally{$f(t)}}}}function $f(t,e){if(t.g){UC(t);const n=t.g,r=t.C[0]?Uh:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch{}}}function UC(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function Pr(t){return t.g?t.g.readyState:0}J.aa=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}};J.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),R3(e)}};function vE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case PC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}J.Ea=function(){return this.m};J.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bC(t){let e="";return ey(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function py(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function Ua(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FC(t){this.Ca=0,this.i=[],this.j=new Nf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ua("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ua("baseRetryDelayMs",5e3,t),this.bb=Ua("retryDelaySeedMs",1e4,t),this.$a=Ua("forwardChannelMaxRetries",2,t),this.ta=Ua("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new xC(t&&t.concurrentRequestLimit),this.Fa=new A3,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}J=FC.prototype;J.ma=8;J.G=1;function gy(t){if(BC(t),t.G==3){var e=t.U++,n=Hr(t.F);He(n,"SID",t.I),He(n,"RID",e),He(n,"TYPE","terminate"),ll(t,n),e=new sl(t,t.j,e,void 0),e.K=2,e.v=Pf(Hr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(e.v.toString(),"")),!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=GC(e.l,null),e.g.da(e.v)),e.F=Date.now(),ol(e)}qC(t)}function Uf(t){t.g&&(vy(t),t.g.cancel(),t.g=null)}function BC(t){Uf(t),t.u&&(oe.clearTimeout(t.u),t.u=null),Wh(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function bf(t){NC(t.h)||t.m||(t.m=!0,uC(t.Ja,t),t.C=0)}function P3(t,e){return RC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=rl(Ut(t.Ja,t,e),jC(t,t.C)),t.C++,!0)}J.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new sl(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=eC(o),tC(o,this.S)):o=this.S),this.o!==null||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=VC(this,i,e),n=Hr(this.F),He(n,"RID",t),He(n,"CVER",22),this.D&&He(n,"X-HTTP-Session-Id",this.D),ll(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(bC(o)))+"&"+e:this.o&&py(n,this.o,o)),hy(this.h,i),this.Ya&&He(n,"TYPE","init"),this.O?(He(n,"$req",e),He(n,"SID","null"),i.Z=!0,Dm(i,n,null)):Dm(i,n,e),this.G=2}}else this.G==3&&(t?yE(this,t):this.i.length==0||NC(this.h)||yE(this))};function yE(t,e){var n;e?n=e.m:n=t.U++;const r=Hr(t.F);He(r,"SID",t.I),He(r,"RID",n),He(r,"AID",t.T),ll(t,r),t.o&&t.s&&py(r,t.o,t.s),n=new sl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=VC(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),hy(t.h,n),Dm(n,r,e)}function ll(t,e){t.ia&&ey(t.ia,function(n,r){He(e,r,n)}),t.l&&IC({},function(n,r){He(e,r,n)})}function VC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ut(t.l.Ra,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const u=["count="+n];o==-1?0<n?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let c=!0;for(let h=0;h<n;h++){let d=i[h].h;const g=i[h].g;if(d-=o,0>d)o=Math.max(0,i[h].h-100),c=!1;else try{x3(g,u,"req"+d+"_")}catch{r&&r(g)}}if(c){r=u.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function zC(t){t.g||t.u||(t.Z=1,uC(t.Ia,t),t.A=0)}function my(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=rl(Ut(t.Ia,t),jC(t,t.A)),t.A++,!0)}J.Ia=function(){if(this.u=null,WC(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=rl(Ut(this.eb,this),t)}};J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Kt(10),Uf(this),WC(this))};function vy(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function WC(t){t.g=new sl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Hr(t.sa);He(e,"RID","rpc"),He(e,"SID",t.I),He(e,"CI",t.L?"0":"1"),He(e,"AID",t.T),He(e,"TYPE","xmlhttp"),ll(t,e),t.o&&t.s&&py(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Pf(Hr(e)),n.s=null,n.P=!0,wC(n,t)}J.cb=function(){this.v!=null&&(this.v=null,Uf(this),my(this),Kt(19))};function Wh(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function HC(t,e){var n=null;if(t.g==e){Wh(t),vy(t),t.g=null;var r=2}else if(Om(t.h,e))n=e.D,DC(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Rf(),Ct(r,new gC(r,n)),bf(t)}else zC(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&P3(t,e)||r==2&&my(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}}function jC(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function us(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ut(t.kb,t);n||(n=new fs("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||Vh(n,"https"),Pf(n)),N3(n.toString(),r)}else Kt(2);t.G=0,t.l&&t.l.va(e),qC(t),BC(t)}J.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Kt(2)):(this.j.info("Failed to ping google.com"),Kt(1))};function qC(t){if(t.G=0,t.la=[],t.l){const e=LC(t.h);(e.length!=0||t.i.length!=0)&&(aE(t.la,e),aE(t.la,t.i),t.h.i.length=0,Jv(t.i),t.i.length=0),t.l.ua()}}function KC(t,e,n){var r=n instanceof fs?Hr(n):new fs(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),zh(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new fs(null,void 0);r&&Vh(o,r),e&&(o.g=e),i&&zh(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&He(r,n,e),He(r,"VER",t.ma),ll(t,r),r}function GC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Xe(new al({jb:!0})):new Xe(t.ra),e.Ka(t.H),e}function QC(){}J=QC.prototype;J.xa=function(){};J.wa=function(){};J.va=function(){};J.ua=function(){};J.Ra=function(){};function Hh(){if(Oo&&!(10<=Number(XF)))throw Error("Environmental error: no available transport.")}Hh.prototype.g=function(t,e){return new _n(t,e)};function _n(t,e){yt.call(this),this.g=new FC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!bh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qo(this)}At(_n,yt);_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Kt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=KC(t,null,t.V),bf(t)};_n.prototype.close=function(){gy(this.g)};_n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=sy(t),t=n);e.i.push(new C3(e.ab++,t)),e.G==3&&bf(e)};_n.prototype.M=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,_n.X.M.call(this)};function YC(t){ly.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(YC,ly);function XC(){cy.call(this),this.status=1}At(XC,cy);function Qo(t){this.g=t}At(Qo,QC);Qo.prototype.xa=function(){Ct(this.g,"a")};Qo.prototype.wa=function(t){Ct(this.g,new YC(t))};Qo.prototype.va=function(t){Ct(this.g,new XC)};Qo.prototype.ua=function(){Ct(this.g,"b")};Hh.prototype.createWebChannel=Hh.prototype.g;_n.prototype.send=_n.prototype.u;_n.prototype.open=_n.prototype.m;_n.prototype.close=_n.prototype.close;Df.NO_ERROR=0;Df.TIMEOUT=8;Df.HTTP_ERROR=6;mC.COMPLETE="complete";vC.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";yt.prototype.listen=yt.prototype.N;Xe.prototype.listenOnce=Xe.prototype.O;Xe.prototype.getLastError=Xe.prototype.Oa;Xe.prototype.getLastErrorCode=Xe.prototype.Ea;Xe.prototype.getStatus=Xe.prototype.aa;Xe.prototype.getResponseJson=Xe.prototype.Sa;Xe.prototype.getResponseText=Xe.prototype.fa;Xe.prototype.send=Xe.prototype.da;Xe.prototype.setWithCredentials=Xe.prototype.Ka;var M3=function(){return new Hh},$3=function(){return Rf()},dg=Df,U3=mC,b3=Ns,wE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},F3=al,Mc=vC,B3=Xe;const _E="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Gv("@firebase/firestore");function EE(){return Ss.logLevel}function Z(t,...e){if(Ss.logLevel<=Ae.DEBUG){const n=e.map(yy);Ss.debug(`Firestore (${Yo}): ${t}`,...n)}}function jr(t,...e){if(Ss.logLevel<=Ae.ERROR){const n=e.map(yy);Ss.error(`Firestore (${Yo}): ${t}`,...n)}}function Pm(t,...e){if(Ss.logLevel<=Ae.WARN){const n=e.map(yy);Ss.warn(`Firestore (${Yo}): ${t}`,...n)}}function yy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Ue(t,e){t||se()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class z3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W3{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let o=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fr,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new JC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Lt(e)}}class H3{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ue(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class j3{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new H3(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K3{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.A;return this.A=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.A=n.token,new q3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=G3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new ot(0,0))}static max(){return new he(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),u=n.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends bu{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const Q3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends bu{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return Q3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new G(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(r+=c,i++):(o(),i++)}if(o(),u)throw new G(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Be.fromString(e))}static fromName(e){return new ee(Be.fromString(e).popFirst(5))}static empty(){return new ee(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Be(e.slice()))}}function Y3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Mi(i,ee.empty(),e)}function X3(t){return new Mi(t.readTime,t.key,-1)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(he.min(),ee.empty(),-1)}static max(){return new Mi(he.max(),ee.empty(),-1)}}function J3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==Z3)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++o,u&&o===i&&n()},h=>r(h))}),u=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,u=new Array(o);let c=0;for(let h=0;h<o;h++){const d=h;n(e[d]).next(g=>{u[d]=g,++c,c===o&&r(u)},g=>i(g))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function hl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}wy.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e,n,r,i,o,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.useFetchStreams=h}}class Fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ek(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function nB(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new zt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const rB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=rB.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nk(t){const e=t.mapValue.fields.__previous_value__;return tk(e)?nk(e):e}function Bu(t){const e=$i(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tk(t)?4:iB(t)?9007199254740991:10:se()}function vr(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=$i(r.timestampValue),u=$i(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Mo(r.bytesValue).isEqual(Mo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=rt(r.doubleValue),u=rt(i.doubleValue);return o===u?jh(o)===jh(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(SE(o)!==SE(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!vr(o[c],u[c])))return!1;return!0}(t,e);default:return se()}}function Vu(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=rt(i.integerValue||i.doubleValue),c=rt(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return IE(t.timestampValue,e.timestampValue);case 4:return IE(Bu(t),Bu(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(i,o){const u=Mo(i),c=Mo(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),c=o.split("/");for(let h=0;h<u.length&&h<c.length;h++){const d=Ne(u[h],c[h]);if(d!==0)return d}return Ne(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=Ne(rt(i.latitude),rt(o.latitude));return u!==0?u:Ne(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const u=i.values||[],c=o.values||[];for(let h=0;h<u.length&&h<c.length;++h){const d=$o(u[h],c[h]);if(d)return d}return Ne(u.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===$c.mapValue&&o===$c.mapValue)return 0;if(i===$c.mapValue)return 1;if(o===$c.mapValue)return-1;const u=i.fields||{},c=Object.keys(u),h=o.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let g=0;g<c.length&&g<d.length;++g){const y=Ne(c[g],d[g]);if(y!==0)return y;const w=$o(u[c[g]],h[d[g]]);if(w!==0)return w}return Ne(c.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function IE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=$i(t),r=$i(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function Uo(t){return Mm(t)}function Mm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=$i(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Mo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=Mm(u);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const c of i)u?u=!1:o+=",",o+=`${c}:${Mm(r.fields[c])}`;return o+"}"}(t.mapValue):se();var e,n}function TE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $m(t){return!!t&&"integerValue"in t}function _y(t){return!!t&&"arrayValue"in t}function CE(t){return!!t&&"nullValue"in t}function kE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ou(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(u.referenceValue),n.key):r=$o(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{}class st extends rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oB(e,n,r):n==="array-contains"?new lB(e,r):n==="in"?new cB(e,r):n==="not-in"?new hB(e,r):n==="array-contains-any"?new fB(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aB(e,r):new uB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tr extends rk{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new tr(e,n)}matches(e){return ik(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ik(t){return t.op==="and"}function sk(t){return sB(t)&&ik(t)}function sB(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function Um(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Uo(t.value);if(sk(t))return t.filters.map(e=>Um(e)).join(",");{const e=t.filters.map(n=>Um(n)).join(",");return`${t.op}(${e})`}}function ok(t,e){return t instanceof st?function(n,r){return r instanceof st&&n.op===r.op&&n.field.isEqual(r.field)&&vr(n.value,r.value)}(t,e):t instanceof tr?function(n,r){return r instanceof tr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,u)=>i&&ok(o,r.filters[u]),!0):!1}(t,e):void se()}function ak(t){return t instanceof st?function(e){return`${e.field.canonicalString()} ${e.op} ${Uo(e.value)}`}(t):t instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(ak).join(" ,")+"}"}(t):"Filter"}class oB extends st{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class aB extends st{constructor(e,n){super(e,"in",n),this.keys=uk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uB extends st{constructor(e,n){super(e,"not-in",n),this.keys=uk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class lB extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _y(n)&&Vu(n.arrayValue,this.value)}}class cB extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class hB extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class fB extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function dB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||It.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??It.RED,this.left=i??It.EMPTY,this.right=o??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new It(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return It.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(t,e,n,r,i){return this}insert(t,e,n){return new It(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new ft(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((u,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=c.popLast()}u?r[c.lastSegment()]=ou(u):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Rs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nn(ou(this.value))}}function lk(t){const e=[];return Rs(t.fields,(n,r)=>{const i=new Mt([n]);if(eh(r)){const o=lk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,o,u,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Pt(e,0,he.min(),he.min(),he.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,he.min(),he.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,he.min(),he.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(e,n=null,r=[],i=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=c,this.ft=null}}function RE(t,e=null,n=[],r=[],i=null,o=null,u=null){return new pB(t,e,n,r,i,o,u)}function Ey(t){const e=fe(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ft=n}return e.ft}function Sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ok(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function bm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],o=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=h,this.dt=null,this._t=null,this.startAt,this.endAt}}function gB(t,e,n,r,i,o,u,c){return new fl(t,e,n,r,i,o,u,c)}function Bf(t){return new fl(t)}function DE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ck(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Iy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function hk(t){return t.collectionGroup!==null}function Eo(t){const e=fe(t);if(e.dt===null){e.dt=[];const n=Iy(e),r=ck(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new au(n)),e.dt.push(new au(Mt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new au(Mt.keyField(),o))}}}return e.dt}function qr(t){const e=fe(t);if(!e._t)if(e.limitType==="F")e._t=RE(e.path,e.collectionGroup,Eo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Eo(e)){const u=o.dir==="desc"?"asc":"desc";n.push(new au(o.field,u))}const r=e.endAt?new qh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qh(e.startAt.position,e.startAt.inclusive):null;e._t=RE(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Fm(t,e){e.getFirstInequalityField(),Iy(t);const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vf(t,e){return Sy(qr(t),qr(e))&&t.limitType===e.limitType}function fk(t){return`${Ey(qr(t))}|lt:${t.limitType}`}function Vm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ak(r)).join(", ")}]`),Ff(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),`Target(${n})`}(qr(t))}; limitType=${t.limitType})`}function Ty(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Eo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,u){const c=AE(i,o,u);return i.inclusive?c<=0:c<0}(n.startAt,Eo(n),r)||n.endAt&&!function(i,o,u){const c=AE(i,o,u);return i.inclusive?c>=0:c>0}(n.endAt,Eo(n),r))}(t,e)}function mB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dk(t){return(e,n)=>{let r=!1;for(const i of Eo(t)){const o=vB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vB(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,u){const c=o.data.field(i),h=u.data.field(i);return c!==null&&h!==null?$o(c,h):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function gk(t){return{integerValue:""+t}}function yB(t,e){return nB(e)?gk(e):pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function wB(t,e,n){return t instanceof zu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof bo?vk(t,e):t instanceof Wu?yk(t,e):function(r,i){const o=mk(r,i),u=LE(o)+LE(r.gt);return $m(o)&&$m(r.gt)?gk(u):pk(r.yt,u)}(t,e)}function _B(t,e,n){return t instanceof bo?vk(t,e):t instanceof Wu?yk(t,e):n}function mk(t,e){return t instanceof Kh?$m(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class zu extends zf{}class bo extends zf{constructor(e){super(),this.elements=e}}function vk(t,e){const n=wk(e);for(const r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wu extends zf{constructor(e){super(),this.elements=e}}function yk(t,e){let n=wk(e);for(const r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}class Kh extends zf{constructor(e,n){super(),this.yt=e,this.gt=n}}function LE(t){return rt(t.integerValue||t.doubleValue)}function wk(t){return _y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.field=e,this.transform=n}}function EB(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof bo&&r instanceof bo||n instanceof Wu&&r instanceof Wu?Po(n.elements,r.elements,vr):n instanceof Kh&&r instanceof Kh?vr(n.gt,r.gt):n instanceof zu&&r instanceof zu}(t.transform,e.transform)}class SB{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function Ek(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ik(t.key,dr.none()):new dl(t.key,t.data,dr.none());{const n=t.data,r=nn.empty();let i=new ft(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Wi(t.key,r,new vn(i.toArray()),dr.none())}}function IB(t,e,n){t instanceof dl?function(r,i,o){const u=r.value.clone(),c=PE(r.fieldTransforms,i,o.transformResults);u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(r,i,o){if(!th(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=PE(r.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Sk(r)),c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function uu(t,e,n,r){return t instanceof dl?function(i,o,u,c){if(!th(i.precondition,o))return u;const h=i.value.clone(),d=ME(i.fieldTransforms,c,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(i,o,u,c){if(!th(i.precondition,o))return u;const h=ME(i.fieldTransforms,c,o),d=o.data;return d.setAll(Sk(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,o,u){return th(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function TB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mk(r.transform,i||null);o!=null&&(n===null&&(n=nn.empty()),n.set(r.field,o))}return n||null}function OE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Po(n,r,(i,o)=>EB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends Wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends Wf{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PE(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,c=e.data.field(o.field);r.set(o.field,_B(u,c,n[i]))}return r}function ME(t,e,n){const r=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);r.set(i.field,wB(o,u,e))}return r}class Ik extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CB extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,Se;function AB(t){switch(t){default:return se();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Tk(t){if(t===void 0)return jr("GRPC error has no .code"),M.UNKNOWN;switch(t){case nt.OK:return M.OK;case nt.CANCELLED:return M.CANCELLED;case nt.UNKNOWN:return M.UNKNOWN;case nt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case nt.INTERNAL:return M.INTERNAL;case nt.UNAVAILABLE:return M.UNAVAILABLE;case nt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case nt.NOT_FOUND:return M.NOT_FOUND;case nt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case nt.ABORTED:return M.ABORTED;case nt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case nt.DATA_LOSS:return M.DATA_LOSS;default:return se()}}(Se=nt||(nt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ek(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new dt(ee.comparator);function Kr(){return xB}const Ck=new dt(ee.comparator);function Ga(...t){let e=Ck;for(const n of t)e=e.insert(n.key,n);return e}function kk(t){let e=Ck;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ls(){return lu()}function Ak(){return lu()}function lu(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const NB=new dt(ee.comparator),RB=new ft(ee.comparator);function we(...t){let e=RB;for(const n of t)e=e.add(n);return e}const DB=new ft(Ne);function xk(){return DB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(he.min(),i,xk(),Kr(),we())}}class pl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Nk{constructor(e,n){this.targetId=e,this.Et=n}}class Rk{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $E{constructor(){this.At=0,this.Rt=bE(),this.bt=zt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=we(),n=we(),r=we();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new pl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=bE()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class LB{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Kr(),this.qt=UE(),this.Ut=new ft(Ne)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const o=i.target;if(bm(o))if(r===0){const u=new ee(o.path);this.Qt(n,u,Pt.newNoDocument(u,he.min()))}else Ue(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((o,u)=>{const c=this.Yt(u);if(c){if(o.current&&bm(c.target)){const h=new ee(c.target.path);this.Lt.get(h)!==null||this.te(u,h)||this.Qt(u,h,Pt.newNoDocument(h,e))}o.St&&(n.set(u,o.Ct()),o.xt())}});let r=we();this.qt.forEach((o,u)=>{let c=!0;u.forEachWhile(h=>{const d=this.Yt(h);return!d||d.purpose===2||(c=!1,!1)}),c&&(r=r.add(o))}),this.Lt.forEach((o,u)=>u.setReadTime(e));const i=new Hf(e,n,this.Ut,this.Lt,r);return this.Lt=Kr(),this.qt=UE(),this.Ut=new ft(Ne),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new $E,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new ft(Ne),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $E),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function UE(){return new dt(ee.comparator)}function bE(){return new dt(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),PB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),MB=(()=>({and:"AND",or:"OR"}))();class $B{constructor(e,n){this.databaseId=e,this.wt=n}}function Gh(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dk(t,e){return t.wt?e.toBase64():e.toUint8Array()}function UB(t,e){return Gh(t,e.toTimestamp())}function pr(t){return Ue(!!t),he.fromTimestamp(function(e){const n=$i(e);return new ot(n.seconds,n.nanos)}(t))}function Cy(t,e){return function(n){return new Be(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Lk(t){const e=Be.fromString(t);return Ue($k(e)),e}function zm(t,e){return Cy(t.databaseId,e.path)}function pg(t,e){const n=Lk(e);if(n.get(1)!==t.databaseId.projectId)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Ok(n))}function Wm(t,e){return Cy(t.databaseId,e)}function bB(t){const e=Lk(t);return e.length===4?Be.emptyPath():Ok(e)}function Hm(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ok(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function FE(t,e,n){return{name:zm(t,e),fields:n.value.mapValue.fields}}function FB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.wt?(Ue(d===void 0||typeof d=="string"),zt.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Uint8Array),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(h){const d=h.code===void 0?M.UNKNOWN:Tk(h.code);return new G(d,h.message||"")}(u);n=new Rk(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pg(t,r.document.name),o=pr(r.document.updateTime),u=r.document.createTime?pr(r.document.createTime):he.min(),c=new nn({mapValue:{fields:r.document.fields}}),h=Pt.newFoundDocument(i,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];n=new nh(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pg(t,r.document),o=r.readTime?pr(r.readTime):he.min(),u=Pt.newNoDocument(i,o),c=r.removedTargetIds||[];n=new nh([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pg(t,r.document),o=r.removedTargetIds||[];n=new nh([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,o=new kB(i),u=r.targetId;n=new Nk(u,o)}}return n}function BB(t,e){let n;if(e instanceof dl)n={update:FE(t,e.key,e.value)};else if(e instanceof Ik)n={delete:zm(t,e.key)};else if(e instanceof Wi)n={update:FE(t,e.key,e.data),updateMask:QB(e.fieldMask)};else{if(!(e instanceof CB))return se();n={verify:zm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Kh)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:UB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function VB(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?pr(r.updateTime):pr(i);return o.isEqual(he.min())&&(o=pr(i)),new SB(o,r.transformResults||[])}(n,e))):[]}function zB(t,e){return{documents:[Wm(t,e.path)]}}function WB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Wm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(h){if(h.length!==0)return Mk(tr.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(d=>function(g){return{field:Js(g.field),direction:qB(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=function(h,d){return h.wt||Ff(d)?d:{value:d}}(t,e.limit);var c;return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),n}function HB(t){let e=bB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(g){const y=Pk(g);return y instanceof tr&&sk(y)?y.getFilters():[y]}(n.where));let u=[];n.orderBy&&(u=n.orderBy.map(g=>function(y){return new au(Zs(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,Ff(y)?null:y}(n.limit));let h=null;n.startAt&&(h=function(g){const y=!!g.before,w=g.values||[];return new qh(w,y)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const y=!g.before,w=g.values||[];return new qh(w,y)}(n.endAt)),gB(e,i,u,o,c,"F",h,d)}function jB(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return se()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Zs(e.unaryFilter.field);return st.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Zs(e.unaryFilter.field);return st.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zs(e.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(e.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(e){return st.create(Zs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return tr.create(e.compositeFilter.filters.map(n=>Pk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return se()}}(e.compositeFilter.op))}(t):se()}function qB(t){return OB[t]}function KB(t){return PB[t]}function GB(t){return MB[t]}function Js(t){return{fieldPath:t.canonicalString()}}function Zs(t){return Mt.fromServerFormat(t.fieldPath)}function Mk(t){return t instanceof st?function(e){if(e.op==="=="){if(kE(e.value))return{unaryFilter:{field:Js(e.field),op:"IS_NAN"}};if(CE(e.value))return{unaryFilter:{field:Js(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(kE(e.value))return{unaryFilter:{field:Js(e.field),op:"IS_NOT_NAN"}};if(CE(e.value))return{unaryFilter:{field:Js(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(e.field),op:KB(e.op),value:e.value}}}(t):t instanceof tr?function(e){const n=e.getFilters().map(r=>Mk(r));return n.length===1?n[0]:{compositeFilter:{op:GB(e.op),filters:n}}}(t):se()}function QB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ak();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=n.has(i.key)?null:c;const h=Ek(u,c);h!==null&&r.set(i.key,h),u.isValidDocument()||u.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,r)=>OE(n,r))&&Po(this.baseMutations,e.baseMutations,(n,r)=>OE(n,r))}}class ky{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=NB;const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new ky(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r,i,o=he.min(),u=he.min(),c=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.ie=e}}function ZB(t){const e=HB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.Je=new tV}addToCollectionParentIndex(e,n){return this.Je.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Mi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class tV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Fo(0)}static vn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&uu(r.mutation,i,vn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let u=Ga();return o.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,c)=>{n.set(u,c)})})}computeViews(e,n,r,i){let o=Kr();const u=lu(),c=lu();return n.forEach((h,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Wi)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),uu(g.mutation,d,g.mutation.getFieldMask(),ot.now())):u.set(d.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,g)=>u.set(d,g)),n.forEach((d,g)=>{var y;return c.set(d,new rV(g,(y=u.get(d))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=lu();let i=new dt((u,c)=>u-c),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const c of u)c.keys().forEach(h=>{const d=n.get(h);if(d===null)return;let g=r.get(h)||vn.empty();g=c.applyToLocalView(d,g),r.set(h,g);const y=(i.get(c.batchId)||we()).add(h);i=i.insert(c.batchId,y)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,g=h.value,y=Ak();g.forEach(w=>{if(!o.has(w)){const A=Ek(n.get(w),r.get(w));A!==null&&y.set(w,A),o=o.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,y))}return F.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(ls());let c=-1,h=o;return u.next(d=>F.forEach(d,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?F.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,we())).next(g=>({batchId:c,changes:kk(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Ga();return this.indexManager.getCollectionParents(e,i).next(u=>F.forEach(u,c=>{const h=function(d,g){return new fl(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r).next(d=>{d.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(o=>{o.forEach((c,h)=>{const d=h.getKey();i.get(d)===null&&(i=i.insert(d,Pt.newInvalidDocument(d)))});let u=Ga();return i.forEach((c,h)=>{const d=o.get(c);d!==void 0&&uu(d.mutation,h,vn.empty(),ot.now()),Ty(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return F.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:pr(r.createTime)}),F.resolve()}getNamedQuery(e,n){return F.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:ZB(r.bundledQuery),readTime:pr(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.overlays=new dt(ee.comparator),this.es=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ls();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.oe(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ls(),o=n.length+1,u=new ee(n.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((d,g)=>d-g);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=ls(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=ls(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>c.set(d,g)),!(c.size()>=i)););return F.resolve(c)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new XB(n,r));let o=this.es.get(n);o===void 0&&(o=we(),this.es.set(n,o)),this.es.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.ns=new ft(gt.ss),this.rs=new ft(gt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new gt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new gt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ee(new Be([])),r=new gt(n,e),i=new gt(n,e+1),o=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),o.push(u.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ee(new Be([])),r=new gt(n,e),i=new gt(n,e+1);let o=we();return this.rs.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new gt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ee.comparator(e.key,n.key)||Ne(e._s,n._s)}static os(e,n){return Ne(e._s,n._s)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ft(gt.ss)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YB(o,n,r,i);this.mutationQueue.push(u);for(const c of i)this.gs=this.gs.add(new gt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(u)}lookupMutationBatch(e,n){return F.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],u=>{const c=this.ys(u._s);o.push(c)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(Ne);return n.forEach(i=>{const o=new gt(i,0),u=new gt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,u],c=>{r=r.add(c._s)})}),F.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const u=new gt(new ee(o),0);let c=new ft(Ne);return this.gs.forEachWhile(h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(h._s)),!0)},u),F.resolve(this.Is(c))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return F.forEach(n.mutations,i=>{const o=new gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new gt(n,0),i=this.gs.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.Es=e,this.docs=new dt(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,u=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Kr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pt.newInvalidDocument(i))}),F.resolve(r)}getAllFromCollection(e,n,r){let i=Kr();const o=new ee(n.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!n.isPrefixOf(c.path))break;c.path.length>n.length+1||J3(X3(h),r)<=0||(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,i){se()}As(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lV(this)}getSize(e){return F.resolve(this.size)}}class lV extends nV{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.persistence=e,this.Rs=new Xo(n=>Ey(n),Sy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Ay,this.targetCount=0,this.vs=Fo.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),F.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Dn(n),F.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Rs.forEach((u,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Rs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new wy(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new cV(this),this.indexManager=new eV,this.remoteDocumentCache=function(r){return new uV(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new JB(n),this.Ns=new sV(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new aV(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new fV(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,n){return F.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class fV extends eB{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.Fs=new Ay,this.$s=null}static Bs(e){return new xy(e)}get Ls(){if(this.$s)return this.$s;throw se()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),F.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Ls,r=>{const i=ee.fromPath(r);return this.qs(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return F.or([()=>F.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=we(),i=we();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ny(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(o=>o||this.Oi(e,n,i,r)).next(o=>o||this.Mi(e,n))}ki(e,n){if(DE(n))return F.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bm(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=we(...o);return this.Ni.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const d=this.Fi(n,c);return this.$i(n,d,u,h.readTime)?this.ki(e,Bm(n,null,"F")):this.Bi(e,d,n,h)}))})))}Oi(e,n,r,i){return DE(n)||i.isEqual(he.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(o=>{const u=this.Fi(n,o);return this.$i(n,u,r,i)?this.Mi(e,n):(EE()<=Ae.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vm(n)),this.Bi(e,u,n,Y3(i,-1)))})}Fi(e,n){let r=new ft(dk(e));return n.forEach((i,o)=>{Ty(e,o)&&(r=r.add(o))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,n){return EE()<=Ae.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Vm(n)),this.Ni.getDocumentsMatchingQuery(e,n,Mi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new dt(Ne),this.Ui=new Xo(o=>Ey(o),Sy),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function gV(t,e,n,r){return new pV(t,e,n,r)}async function Uk(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],c=[];let h=we();for(const d of i){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(d=>({ji:d,removedBatchIds:u,addedBatchIds:c}))})})}function mV(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Gi.newChangeBuffer({trackRemovals:!0});return function(u,c,h,d){const g=h.batch,y=g.keys();let w=F.resolve();return y.forEach(A=>{w=w.next(()=>d.getEntry(c,A)).next(x=>{const N=h.docVersions.get(A);Ue(N!==null),x.version.compareTo(N)<0&&(g.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))})}),w.next(()=>u.mutationQueue.removeMutationBatch(c,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=we();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function bk(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function vV(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const c=[];e.targetChanges.forEach((g,y)=>{const w=i.get(y);if(!w)return;c.push(n.Cs.removeMatchingKeys(o,g.removedDocuments,y).next(()=>n.Cs.addMatchingKeys(o,g.addedDocuments,y)));let A=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.has(y)?A=A.withResumeToken(zt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,r)),i=i.insert(y,A),function(x,N,U){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(w,A,g)&&c.push(n.Cs.updateTargetData(o,A))});let h=Kr(),d=we();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(yV(o,u,e.documentUpdates).next(g=>{h=g.Wi,d=g.zi})),!r.isEqual(he.min())){const g=n.Cs.getLastRemoteSnapshotVersion(o).next(y=>n.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return F.waitFor(c).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(n.qi=i,o))}function yV(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Kr();return n.forEach((c,h)=>{const d=o.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(he.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Z("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{Wi:u,zi:i}})}function wV(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _V(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Cs.allocateTargetId(r).next(u=>(i=new ds(e,u,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function jm(t,e,n){const r=fe(t),i=r.qi.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!hl(u))throw u;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function BE(t,e,n){const r=fe(t);let i=he.min(),o=we();return r.persistence.runTransaction("Execute query","readonly",u=>function(c,h,d){const g=fe(c),y=g.Ui.get(d);return y!==void 0?F.resolve(g.qi.get(y)):g.Cs.getTargetData(h,d)}(r,u,qr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,c.targetId).next(h=>{o=h})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,n?i:he.min(),n?o:we())).next(c=>(EV(r,mB(e),c),{documents:c,Hi:o})))}function EV(t,e,n){let r=t.Ki.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ki.set(e,r)}class VE{constructor(){this.activeTargetIds=xk()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SV{constructor(){this.Lr=new VE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,o){const u=this.ho(e,n);Z("RestConnection","Sending: ",u,r);const c={};return this.lo(c,i,o),this.fo(e,u,c,r).then(h=>(Z("RestConnection","Received: ",h),h),h=>{throw Pm("RestConnection",`${e} failed with error: `,h,"url: ",u,"request:",r),h})}_o(e,n,r,i,o,u){return this.ao(e,n,r,i,o)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,n){const r=TV[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((o,u)=>{const c=new B3;c.setWithCredentials(!0),c.listenOnce(U3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dg.NO_ERROR:const d=c.getResponseJson();Z("Connection","XHR received:",JSON.stringify(d)),o(d);break;case dg.TIMEOUT:Z("Connection",'RPC "'+e+'" timed out'),u(new G(M.DEADLINE_EXCEEDED,"Request time out"));break;case dg.HTTP_ERROR:const g=c.getStatus();if(Z("Connection",'RPC "'+e+'" failed with status:',g,"response text:",c.getResponseText()),g>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const A=function(x){const N=x.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(N)>=0?N:M.UNKNOWN}(w.status);u(new G(A,w.message))}else u(new G(M.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(M.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Z("Connection",'RPC "'+e+'" completed.')}});const h=JSON.stringify(i);c.send(n,"POST",h,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=M3(),u=$3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new F3({})),this.lo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z("Connection","Creating WebChannel: "+h,c);const d=o.createWebChannel(h,c);let g=!1,y=!1;const w=new CV({Hr:x=>{y?Z("Connection","Not sending because WebChannel is closed:",x):(g||(Z("Connection","Opening WebChannel transport."),d.open(),g=!0),Z("Connection","WebChannel sending:",x),d.send(x))},Jr:()=>d.close()}),A=(x,N,U)=>{x.listen(N,I=>{try{U(I)}catch(E){setTimeout(()=>{throw E},0)}})};return A(d,Mc.EventType.OPEN,()=>{y||Z("Connection","WebChannel transport opened.")}),A(d,Mc.EventType.CLOSE,()=>{y||(y=!0,Z("Connection","WebChannel transport closed"),w.io())}),A(d,Mc.EventType.ERROR,x=>{y||(y=!0,Pm("Connection","WebChannel transport errored:",x),w.io(new G(M.UNAVAILABLE,"The operation could not be completed")))}),A(d,Mc.EventType.MESSAGE,x=>{var N;if(!y){const U=x.data[0];Ue(!!U);const I=U,E=I.error||((N=I[0])===null||N===void 0?void 0:N.error);if(E){Z("Connection","WebChannel received error:",E);const T=E.status;let L=function(j){const W=nt[j];if(W!==void 0)return Tk(W)}(T),B=E.message;L===void 0&&(L=M.INTERNAL,B="Unknown error status: "+T+" with message "+E.message),y=!0,w.io(new G(L,B)),d.close()}else Z("Connection","WebChannel received:",U),w.ro(U)}}),A(u,b3.STAT_EVENT,x=>{x.stat===wE.PROXY?Z("Connection","Detected buffering proxy"):x.stat===wE.NOPROXY&&Z("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.so()},0),w}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return new $B(t,!0)}class Fk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i,o,u,c,h){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Fk(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new G(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AV extends Bk{constructor(e,n,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.yt=o}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=FB(this.yt,e),r=function(i){if(!("targetChange"in i))return he.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?he.min():o.readTime?pr(o.readTime):he.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Hm(this.yt),n.addTarget=function(i,o){let u;const c=o.target;return u=bm(c)?{documents:zB(i,c)}:{query:WB(i,c)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=Dk(i,o.resumeToken):o.snapshotVersion.compareTo(he.min())>0&&(u.readTime=Gh(i,o.snapshotVersion.toTimestamp())),u}(this.yt,e);const r=jB(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Hm(this.yt),n.removeTarget=e,this.Bo(n)}}class xV extends Bk{constructor(e,n,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=VB(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.Zo(r,n)}return Ue(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Hm(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BB(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(M.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection._o(e,n,r,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(M.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class RV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(jr(n),this.ou=!1):Z("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(u=>{r.enqueueAndForget(async()=>{Ds(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=fe(c);h._u.add(4),await gl(h),h.gu.set("Unknown"),h._u.delete(4),await qf(h)}(this))})}),this.gu=new RV(r,i)}}async function qf(t){if(Ds(t))for(const e of t.wu)await e(!0)}async function gl(t){for(const e of t.wu)await e(!1)}function Vk(t,e){const n=fe(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Ly(n)?Dy(n):Jo(n).ko()&&Ry(n,e))}function zk(t,e){const n=fe(t),r=Jo(n);n.du.delete(e),r.ko()&&Wk(n,e),n.du.size===0&&(r.ko()?r.Fo():Ds(n)&&n.gu.set("Unknown"))}function Ry(t,e){t.yu.Ot(e.targetId),Jo(t).zo(e)}function Wk(t,e){t.yu.Ot(e),Jo(t).Ho(e)}function Dy(t){t.yu=new LB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Jo(t).start(),t.gu.uu()}function Ly(t){return Ds(t)&&!Jo(t).No()&&t.du.size>0}function Ds(t){return fe(t)._u.size===0}function Hk(t){t.yu=void 0}async function LV(t){t.du.forEach((e,n)=>{Ry(t,e)})}async function OV(t,e){Hk(t),Ly(t)?(t.gu.hu(e),Dy(t)):t.gu.set("Unknown")}async function PV(t,e,n){if(t.gu.set("Online"),e instanceof Rk&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const u of i.targetIds)r.du.has(u)&&(await r.remoteSyncer.rejectListen(u,o),r.du.delete(u),r.yu.removeTarget(u))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof nh?t.yu.Kt(e):e instanceof Nk?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(he.min()))try{const r=await bk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.yu.Zt(o);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.du.get(h);d&&i.du.set(h,d.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach(c=>{const h=i.du.get(c);if(!h)return;i.du.set(c,h.withResumeToken(zt.EMPTY_BYTE_STRING,h.snapshotVersion)),Wk(i,c);const d=new ds(h.target,c,1,h.sequenceNumber);Ry(i,d)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!hl(e))throw e;t._u.add(1),await gl(t),t.gu.set("Offline"),n||(n=()=>bk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await qf(t)})}function jk(t,e){return e().catch(n=>Qh(t,n,e))}async function Kf(t){const e=fe(t),n=Ui(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;MV(e);)try{const i=await wV(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,$V(e,i)}catch(i){await Qh(e,i)}qk(e)&&Kk(e)}function MV(t){return Ds(t)&&t.fu.length<10}function $V(t,e){t.fu.push(e);const n=Ui(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function qk(t){return Ds(t)&&!Ui(t).No()&&t.fu.length>0}function Kk(t){Ui(t).start()}async function UV(t){Ui(t).eu()}async function bV(t){const e=Ui(t);for(const n of t.fu)e.Xo(n.mutations)}async function FV(t,e,n){const r=t.fu.shift(),i=ky.from(r,e,n);await jk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kf(t)}async function BV(t,e){e&&Ui(t).Yo&&await async function(n,r){if(i=r.code,AB(i)&&i!==M.ABORTED){const o=n.fu.shift();Ui(n).Mo(),await jk(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Kf(n)}var i}(t,e),qk(t)&&Kk(t)}async function WE(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Ds(n);n._u.add(3),await gl(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await qf(n)}async function VV(t,e){const n=fe(t);e?(n._u.delete(2),await qf(n)):e||(n._u.add(2),await gl(n),n.gu.set("Unknown"))}function Jo(t){return t.pu||(t.pu=function(e,n,r){const i=fe(e);return i.su(),new AV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:LV.bind(null,t),Zr:OV.bind(null,t),Wo:PV.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),Ly(t)?Dy(t):t.gu.set("Unknown")):(await t.pu.stop(),Hk(t))})),t.pu}function Ui(t){return t.Iu||(t.Iu=function(e,n,r){const i=fe(e);return i.su(),new xV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:UV.bind(null,t),Zr:BV.bind(null,t),tu:bV.bind(null,t),Zo:FV.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Kf(t)):(await t.Iu.stop(),t.fu.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,n,r,i,o){const u=Date.now()+r,c=new Oy(e,n,u,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if(jr("AsyncQueue",`${e}: ${t}`),hl(t))return new G(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.Tu=new dt(ee.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):se():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,o,u,c,h,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const u=[];return n.forEach(c=>{u.push({type:0,doc:c})}),new Bo(e,n,So.emptySet(n),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Au=void 0,this.listeners=[]}}class WV{constructor(){this.queries=new Xo(e=>fk(e),Vf),this.onlineState="Unknown",this.Ru=new Set}}async function My(t,e){const n=fe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new zV),i)try{o.Au=await n.onListen(r)}catch(u){const c=Py(u,`Initialization of query '${Vm(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&Uy(n)}async function $y(t,e){const n=fe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function HV(t,e){const n=fe(t);let r=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const c of u.listeners)c.Pu(i)&&(r=!0);u.Au=i}}r&&Uy(n)}function jV(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Uy(t){t.Ru.forEach(e=>{e.next()})}class by{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.key=e}}class Qk{constructor(e){this.key=e}}class qV{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=we(),this.mutatedKeys=we(),this.Gu=dk(e),this.Qu=new So(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new HE,i=n?n.Qu:this.Qu;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{const w=i.get(g),A=Ty(this.query,y)?y:null,x=!!w&&this.mutatedKeys.has(w.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let U=!1;w&&A?w.data.isEqual(A.data)?x!==N&&(r.track({type:3,doc:A}),U=!0):this.Hu(w,A)||(r.track({type:2,doc:A}),U=!0,(h&&this.Gu(A,h)>0||d&&this.Gu(A,d)<0)&&(c=!0)):!w&&A?(r.track({type:0,doc:A}),U=!0):w&&!A&&(r.track({type:1,doc:w}),U=!0,(h||d)&&(c=!0)),U&&(A?(u=u.add(A),o=N?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Qu:u,zu:r,$i:c,mutatedKeys:o}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((d,g)=>function(y,w){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return A(y)-A(w)}(d.type,g.type)||this.Gu(d.doc,g.doc)),this.Ju(r);const u=n?this.Yu():[],c=this.Ku.size===0&&this.current?1:0,h=c!==this.Uu;return this.Uu=c,o.length!==0||h?{snapshot:new Bo(this.query,e.Qu,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new HE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=we(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new Qk(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new Gk(r))}),n}tc(e){this.qu=e.Hi,this.Ku=we();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Bo.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class KV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GV{constructor(e){this.key=e,this.nc=!1}}class QV{constructor(e,n,r,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Xo(c=>fk(c),Vf),this.rc=new Map,this.oc=new Set,this.uc=new dt(ee.comparator),this.cc=new Map,this.ac=new Ay,this.hc={},this.lc=new Map,this.fc=Fo.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function YV(t,e){const n=oz(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const u=await _V(n.localStore,qr(e));n.isPrimaryClient&&Vk(n.remoteStore,u);const c=n.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=await XV(n,e,r,c==="current",u.resumeToken)}return i}async function XV(t,e,n,r,i){t._c=(y,w,A)=>async function(x,N,U,I){let E=N.view.Wu(U);E.$i&&(E=await BE(x.localStore,N.query,!1).then(({documents:B})=>N.view.Wu(B,E)));const T=I&&I.targetChanges.get(N.targetId),L=N.view.applyChanges(E,x.isPrimaryClient,T);return qE(x,N.targetId,L.Xu),L.snapshot}(t,y,w,A);const o=await BE(t.localStore,e,!0),u=new qV(e,o.Hi),c=u.Wu(o.documents),h=pl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=u.applyChanges(c,t.isPrimaryClient,h);qE(t,n,d.Xu);const g=new KV(e,n,u);return t.ic.set(e,g),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),d.snapshot}async function JV(t,e){const n=fe(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(o=>!Vf(o,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zk(n.remoteStore,r.targetId),qm(n,r.targetId)}).catch(cl)):(qm(n,r.targetId),await jm(n.localStore,r.targetId,!0))}async function ZV(t,e,n){const r=az(t);try{const i=await function(o,u){const c=fe(o),h=ot.now(),d=u.reduce((w,A)=>w.add(A.key),we());let g,y;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Kr(),x=we();return c.Gi.getEntries(w,d).next(N=>{A=N,A.forEach((U,I)=>{I.isValidDocument()||(x=x.add(U))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,A)).next(N=>{g=N;const U=[];for(const I of u){const E=TB(I,g.get(I.key).overlayedDocument);E!=null&&U.push(new Wi(I.key,E,lk(E.value.mapValue),dr.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,U,u)}).next(N=>{y=N;const U=N.applyToLocalDocumentSet(g,x);return c.documentOverlayCache.saveOverlays(w,N.batchId,U)})}).then(()=>({batchId:y.batchId,changes:kk(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let h=o.hc[o.currentUser.toKey()];h||(h=new dt(Ne)),h=h.insert(u,c),o.hc[o.currentUser.toKey()]=h}(r,i.batchId,n),await ml(r,i.changes),await Kf(r.remoteStore)}catch(i){const o=Py(i,"Failed to persist write");n.reject(o)}}async function Yk(t,e){const n=fe(t);try{const r=await vV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const u=n.cc.get(o);u&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Ue(u.nc):i.removedDocuments.size>0&&(Ue(u.nc),u.nc=!1))}),await ml(n,r,e)}catch(r){await cl(r)}}function jE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((o,u)=>{const c=u.view.bu(e);c.snapshot&&i.push(c.snapshot)}),function(o,u){const c=fe(o);c.onlineState=u;let h=!1;c.queries.forEach((d,g)=>{for(const y of g.listeners)y.bu(u)&&(h=!0)}),h&&Uy(c)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ez(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let u=new dt(ee.comparator);u=u.insert(o,Pt.newNoDocument(o,he.min()));const c=we().add(o),h=new Hf(he.min(),new Map,new ft(Ne),u,c);await Yk(r,h),r.uc=r.uc.remove(o),r.cc.delete(e),Fy(r)}else await jm(r.localStore,e,!1).then(()=>qm(r,e,n)).catch(cl)}async function tz(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await mV(n.localStore,e);Jk(n,r,null),Xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ml(n,i)}catch(i){await cl(i)}}async function nz(t,e,n){const r=fe(t);try{const i=await function(o,u){const c=fe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,u).next(g=>(Ue(g!==null),d=g.keys(),c.mutationQueue.removeMutationBatch(h,g))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(r.localStore,e);Jk(r,e,n),Xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ml(r,i)}catch(i){await cl(i)}}function Xk(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Jk(t,e,n){const r=fe(t);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||Zk(t,r)})}function Zk(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(zk(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Fy(t))}function qE(t,e,n){for(const r of n)r instanceof Gk?(t.ac.addReference(r.key,e),rz(t,r)):r instanceof Qk?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||Zk(t,r.key)):se()}function rz(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.oc.add(r),Fy(t))}function Fy(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ee(Be.fromString(e)),r=t.fc.next();t.cc.set(r,new GV(n)),t.uc=t.uc.insert(n,r),Vk(t.remoteStore,new ds(qr(Bf(n.path)),r,2,wy.at))}}async function ml(t,e,n){const r=fe(t),i=[],o=[],u=[];r.ic.isEmpty()||(r.ic.forEach((c,h)=>{u.push(r._c(h,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const g=Ny.Ci(h.targetId,d);o.push(g)}}))}),await Promise.all(u),r.sc.Wo(i),await async function(c,h){const d=fe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>F.forEach(h,y=>F.forEach(y.Si,w=>d.persistence.referenceDelegate.addReference(g,y.targetId,w)).next(()=>F.forEach(y.Di,w=>d.persistence.referenceDelegate.removeReference(g,y.targetId,w)))))}catch(g){if(!hl(g))throw g;Z("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const w=d.qi.get(y),A=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(A);d.qi=d.qi.insert(y,x)}}}(r.localStore,o))}async function iz(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await Uk(n.localStore,e);n.currentUser=e,function(i,o){i.lc.forEach(u=>{u.forEach(c=>{c.reject(new G(M.CANCELLED,o))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ml(n,r.ji)}}function sz(t,e){const n=fe(t),r=n.cc.get(e);if(r&&r.nc)return we().add(r.key);{let i=we();const o=n.rc.get(e);if(!o)return i;for(const u of o){const c=n.ic.get(u);i=i.unionWith(c.view.ju)}return i}}function oz(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ez.bind(null,e),e.sc.Wo=HV.bind(null,e.eventManager),e.sc.wc=jV.bind(null,e.eventManager),e}function az(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nz.bind(null,e),e}class uz{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=jf(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return gV(this.persistence,new dV,e.initialUser,this.yt)}yc(e){return new hV(xy.Bs,this.yt)}gc(e){return new SV}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lz{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iz.bind(null,this.syncEngine),await VV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new WV}createDatastore(e){const n=jf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new kV(i));var i;return function(o,u,c,h){return new NV(o,u,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=c=>jE(this.syncEngine,c,0),u=zE.C()?new zE:new IV,new DV(n,r,i,o,u);var n,r,i,o,u}createSyncEngine(e,n){return function(r,i,o,u,c,h,d){const g=new QV(r,i,o,u,c,h);return d&&(g.dc=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);Z("RemoteStore","RemoteStore shutting down."),n._u.add(5),await gl(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e,n){if(!n)throw new G(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cz(t,e,n,r){if(e===!0&&r===!0)throw new G(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KE(t){if(!ee.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GE(t){if(ee.isDocumentKey(t))throw new G(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(t);throw new G(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;class YE{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new V3;switch(n.type){case"gapi":const r=n.client;return new j3(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=QE.get(e);n&&(Z("ComponentProvider","Removing Datastore"),QE.delete(e),n.terminate())}(this),Promise.resolve()}}function hz(t,e,n,r={}){var i;const o=(t=Un(t,Qf))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Pm("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Lt.MOCK_USER;else{u=_b(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new G(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Lt(h)}t._authCredentials=new z3(new JC(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Ls{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class Di extends Ls{constructor(e,n,r){super(e,n,Bf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ee(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function fz(t,e,...n){if(t=at(t),eA("collection","path",e),t instanceof Qf){const r=Be.fromString(e,...n);return GE(r),new Di(t,null,r)}{if(!(t instanceof Ft||t instanceof Di))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return GE(r),new Di(t.firestore,null,r)}}function Xn(t,e,...n){if(t=at(t),arguments.length===1&&(e=ZC.R()),eA("doc","path",e),t instanceof Qf){const r=Be.fromString(e,...n);return KE(r),new Ft(t,null,new ee(r))}{if(!(t instanceof Ft||t instanceof Di))throw new G(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return KE(r),new Ft(t.firestore,t instanceof Di?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=ZC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Py(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pz(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Uk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function gz(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mz(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>WE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>WE(e.remoteStore,o)),t.onlineComponents=e}async function mz(t){return t.offlineComponents||(Z("FirestoreClient","Using default OfflineComponentProvider"),await pz(t,new uz)),t.offlineComponents}async function tA(t){return t.onlineComponents||(Z("FirestoreClient","Using default OnlineComponentProvider"),await gz(t,new lz)),t.onlineComponents}function vz(t){return tA(t).then(e=>e.syncEngine)}async function Yh(t){const e=await tA(t),n=e.eventManager;return n.onListen=YV.bind(null,e.syncEngine),n.onUnlisten=JV.bind(null,e.syncEngine),n}function yz(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,h){const d=new By({next:y=>{o.enqueueAndForget(()=>$y(i,g));const w=y.docs.has(u);!w&&y.fromCache?h.reject(new G(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&y.fromCache&&c&&c.source==="server"?h.reject(new G(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new by(Bf(u.path),d,{includeMetadataChanges:!0,Nu:!0});return My(i,g)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}function wz(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,h){const d=new By({next:y=>{o.enqueueAndForget(()=>$y(i,g)),y.fromCache&&c.source==="server"?h.reject(new G(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new by(u,d,{includeMetadataChanges:!0,Nu:!0});return My(i,g)}(await Yh(t),t.asyncQueue,e,n,r)),r.promise}class _z{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Fk(this,"async_queue_retry"),this.Wc=()=>{const n=gg();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=gg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Fr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!hl(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=Oy.createAndSchedule(this,e,n,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&se()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function XE(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ts extends Qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _z,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()}}function Ez(t,e){const n=typeof t=="object"?t:KT(),r=typeof t=="string"?t:e||"(default)",i=Yv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=vb("firestore");o&&hz(i,...o)}return i}function Yf(t){return t._firestoreClient||nA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nA(t){var e;const n=t._freezeSettings(),r=function(i,o,u,c){return new tB(i,o,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new dz(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(zt.fromBase64String(e))}catch(n){throw new G(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=/^__.*__$/;class Iz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}class rA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Jf{constructor(e,n,r,i,o,u){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,o===void 0&&this.na(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Jf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Xh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(iA(this.sa)&&Sz.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Tz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||jf(e)}da(e,n,r,i=!1){return new Jf({sa:e,methodName:n,fa:r,path:Mt.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function zy(t){const e=t._freezeSettings(),n=jf(t._databaseId);return new Tz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Cz(t,e,n,r,i,o={}){const u=t.da(o.merge||o.mergeFields?2:0,e,n,i);Hy("Data must be an object, but it was:",u,r);const c=sA(r,u);let h,d;if(o.merge)h=new vn(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const w=Km(e,y,n);if(!u.contains(w))throw new G(M.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);aA(g,w)||g.push(w)}h=new vn(g),d=u.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,d=u.fieldTransforms;return new Iz(new nn(c),h,d)}class Zf extends vl{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}function kz(t,e,n){return new Jf({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class Wy extends vl{_toFieldTransform(e){return new _k(e.path,new zu)}isEqual(e){return e instanceof Wy}}class Az extends vl{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=kz(this,e,!0),r=this._a.map(o=>Zo(o,n)),i=new bo(r);return new _k(e.path,i)}isEqual(e){return this===e}}function xz(t,e,n,r){const i=t.da(1,e,n);Hy("Data must be an object, but it was:",i,r);const o=[],u=nn.empty();Rs(r,(h,d)=>{const g=jy(e,h,n);d=at(d);const y=i.ca(g);if(d instanceof Zf)o.push(g);else{const w=Zo(d,y);w!=null&&(o.push(g),u.set(g,w))}});const c=new vn(o);return new rA(u,c,i.fieldTransforms)}function Nz(t,e,n,r,i,o){const u=t.da(1,e,n),c=[Km(e,r,n)],h=[i];if(o.length%2!=0)throw new G(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(Km(e,o[w])),h.push(o[w+1]);const d=[],g=nn.empty();for(let w=c.length-1;w>=0;--w)if(!aA(d,c[w])){const A=c[w];let x=h[w];x=at(x);const N=u.ca(A);if(x instanceof Zf)d.push(A);else{const U=Zo(x,N);U!=null&&(d.push(A),g.set(A,U))}}const y=new vn(d);return new rA(g,y,u.fieldTransforms)}function Rz(t,e,n,r=!1){return Zo(n,t.da(r?4:3,e))}function Zo(t,e){if(oA(t=at(t)))return Hy("Unsupported field value:",e,t),sA(t,e);if(t instanceof vl)return function(n,r){if(!iA(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const u of n){let c=Zo(u,r.aa(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=at(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return yB(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ot.fromDate(n);return{timestampValue:Gh(r.yt,i)}}if(n instanceof ot){const i=new ot(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gh(r.yt,i)}}if(n instanceof Vy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vo)return{bytesValue:Dk(r.yt,n._byteString)};if(n instanceof Ft){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Gf(n)}`)}(t,e)}function sA(t,e){const n={};return ek(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(t,(r,i)=>{const o=Zo(i,e.ra(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function oA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Vy||t instanceof Vo||t instanceof Ft||t instanceof vl)}function Hy(t,e,n){if(!oA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Gf(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function Km(t,e,n){if((e=at(e))instanceof Xf)return e._internalPath;if(typeof e=="string")return jy(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dz=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(Dz)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||u)&&(h+=" (found",o&&(h+=` in field ${r}`),u&&(h+=` in document ${i}`),h+=")"),new G(M.INVALID_ARGUMENT,c+t+h)}function aA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Lz extends uA{data(){return super.data()}}function qy(t,e){return typeof e=="string"?jy(t,e):e instanceof Xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class Oz extends Ky{}function Pz(t,e,...n){let r=[];e instanceof Ky&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Gy).length,u=i.filter(c=>c instanceof ed).length;if(o>1||o>0&&u>0)throw new G(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ed extends Oz{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ed(e,n,r)}_apply(e){const n=this._parse(e);return cA(e._query,n),new Ls(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=zy(e.firestore);return function(i,o,u,c,h,d,g){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ZE(g,d);const w=[];for(const A of g)w.push(JE(c,i,A));y={arrayValue:{values:w}}}else y=JE(c,i,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ZE(g,d),y=Rz(u,o,g,d==="in"||d==="not-in");return st.create(h,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mz(t,e,n){const r=e,i=qy("where",t);return ed._create(i,r,n)}class Gy extends Ky{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const u=i.getFlattenedFilters();for(const c of u)cA(o,c),o=Fm(o,c)}(e._query,n),new Ls(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new G(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hk(e)&&n.indexOf("/")!==-1)throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ee.isDocumentKey(r))throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return TE(t,new ee(r))}if(n instanceof Ft)return TE(t,n._key);throw new G(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(n)}.`)}function ZE(t,e){if(!Array.isArray(t)||t.length===0)throw new G(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new G(M.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cA(t,e){if(e.isInequality()){const r=Iy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new G(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=ck(t);o!==null&&$z(t,i,o)}const n=function(r,i){for(const o of r)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $z(t,e,n){if(!n.isEqual(e))throw new G(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Uz{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){const r={};return Rs(e.fields,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Vy(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nk(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){const n=$i(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Ue($k(r));const i=new Fu(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||jr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hA extends uA{constructor(e,n,r,i,o,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rh extends hA{data(e={}){return super.data(e)}}class fA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>{const c=new rh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qa(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const c=new rh(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Qa(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:Fz(u.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Fz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){t=Un(t,Ft);const e=Un(t.firestore,Ts);return yz(Yf(e),t._key).then(n=>gA(e,t,n))}class Qy extends Uz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Vz(t){t=Un(t,Ls);const e=Un(t.firestore,Ts),n=Yf(e),r=new Qy(e);return lA(t._query),wz(n,t._query).then(i=>new fA(e,r,t,i))}function Gm(t,e,n){t=Un(t,Ft);const r=Un(t.firestore,Ts),i=bz(t.converter,e,n);return pA(r,[Cz(zy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dr.none())])}function cu(t,e,n,...r){t=Un(t,Ft);const i=Un(t.firestore,Ts),o=zy(i);let u;return u=typeof(e=at(e))=="string"||e instanceof Xf?Nz(o,"updateDoc",t._key,e,n,r):xz(o,"updateDoc",t._key,e),pA(i,[u.toMutation(t._key,dr.exists(!0))])}function dA(t,...e){var n,r,i;t=at(t);let o={includeMetadataChanges:!1},u=0;typeof e[u]!="object"||XE(e[u])||(o=e[u],u++);const c={includeMetadataChanges:o.includeMetadataChanges};if(XE(e[u])){const y=e[u];e[u]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[u+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[u+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let h,d,g;if(t instanceof Ft)d=Un(t.firestore,Ts),g=Bf(t._key.path),h={next:y=>{e[u]&&e[u](gA(d,t,y))},error:e[u+1],complete:e[u+2]};else{const y=Un(t,Ls);d=Un(y.firestore,Ts),g=y._query;const w=new Qy(d);h={next:A=>{e[u]&&e[u](new fA(d,w,y,A))},error:e[u+1],complete:e[u+2]},lA(t._query)}return function(y,w,A,x){const N=new By(x),U=new by(w,N,A);return y.asyncQueue.enqueueAndForget(async()=>My(await Yh(y),U)),()=>{N.bc(),y.asyncQueue.enqueueAndForget(async()=>$y(await Yh(y),U))}}(Yf(d),g,c,h)}function pA(t,e){return function(n,r){const i=new Fr;return n.asyncQueue.enqueueAndForget(async()=>ZV(await vz(n),r,i)),i.promise}(Yf(t),e)}function gA(t,e,n){const r=n.docs.get(e._key),i=new Qy(t);return new hA(t,i,e._key,r,new Qa(n.hasPendingWrites,n.fromCache),e.converter)}function Jh(){return new Wy("serverTimestamp")}function zz(...t){return new Az("arrayUnion",t)}(function(t,e=!0){(function(n){Yo=n})(el),Lo(new _s("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new Ts(new W3(n.getProvider("auth-internal")),new K3(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fu(c.options.projectId,h)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),Ri(_E,"3.8.1",t),Ri(_E,"3.8.1","esm2017")})();var Wz="firebase",Hz="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(Wz,Hz,"app");function Yy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mA(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jz=mA,vA=new Ju("auth","Firebase",mA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Gv("@firebase/auth");function ih(t,...e){eS.logLevel<=Ae.ERROR&&eS.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Xy(t,...e)}function gr(t,...e){return Xy(t,...e)}function qz(t,e,n){const r=Object.assign(Object.assign({},jz()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function Xy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vA.create(t,...e)}function ie(t,e,...n){if(!t)throw Xy(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Gr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;function $r(t){Gr(t instanceof Function,"Expected a class definition");let e=tS.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tS.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(t,e){const n=Yv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Mh(o,e??{}))return i;nr(i,"already-initialized")}return n.initialize({options:e})}function Gz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Qz(){return nS()==="http:"||nS()==="https:"}function nS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qz()||Sb()||"connection"in navigator)?navigator.onLine:!0}function Xz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=Eb()||Ib()}get(){return Yz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new yl(3e4,6e4);function wl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ea(t,e,n,r,i={}){return wA(t,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Zu(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),yA.fetch()(_A(t,t.config.apiHost,n,c),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},o))})}async function wA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jz),e);try{const i=new e4(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw bc(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw bc(t,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qz(t,g,d);nr(t,g)}}catch(i){if(i instanceof Yr)throw i;nr(t,"network-request-failed")}}async function _l(t,e,n,r,i={}){const o=await ea(t,e,n,r,i);return"mfaPendingCredential"in o&&nr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _A(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Jy(t.config,i):`${t.config.apiScheme}://${i}`}class e4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),Zz.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){return ea(t,"POST","/v1/accounts:delete",e)}async function n4(t,e){return ea(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function r4(t,e=!1){const n=at(t),r=await n.getIdToken(e),i=Zy(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:hu(mg(i.auth_time)),issuedAtTime:hu(mg(i.iat)),expirationTime:hu(mg(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function Zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=VT(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function i4(t){const e=Zy(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Yr&&s4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zo(t,n4(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?l4(o.providerUserInfo):[],c=u4(t.providerData,u),h=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),g=h?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new EA(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function a4(t){const e=at(t);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function l4(t){return t.map(e=>{var{providerId:n}=e,r=Yy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e){const n=await wA(t,{},async()=>{const r=Zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=_A(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",yA.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await c4(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,u=new Hu;return r&&(ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Yy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new EA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zo(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return r4(this,e)}reload(){return a4(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zo(this,t4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,u,c,h,d,g;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,A=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,U=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:T,emailVerified:L,isAnonymous:B,providerData:j,stsTokenManager:W}=n;ie(T&&W,e,"internal-error");const Q=Hu.fromJSON(this.name,W);ie(typeof T=="string",e,"internal-error"),ai(y,e.name),ai(w,e.name),ie(typeof L=="boolean",e,"internal-error"),ie(typeof B=="boolean",e,"internal-error"),ai(A,e.name),ai(x,e.name),ai(N,e.name),ai(U,e.name),ai(I,e.name),ai(E,e.name);const Re=new ps({uid:T,auth:e,email:w,emailVerified:L,displayName:y,isAnonymous:B,photoURL:x,phoneNumber:A,tenantId:N,stsTokenManager:Q,createdAt:I,lastLoginAt:E});return j&&Array.isArray(j)&&(Re.providerData=j.map(ge=>Object.assign({},ge))),U&&(Re._redirectEventId=U),Re}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hu;i.updateFromServerResponse(n);const o=new ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zh(o),o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const rS=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,o),this.fullPersistenceKey=sh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io($r(rS),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||$r(rS);const u=sh(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const g=await d._get(u);if(g){const y=ps._fromJSON(e,g);d!==o&&(c=y),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Io(o,e,r):(o=h[0],c&&await o._set(u,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Io(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(xA(e))return"Webos";if(e0(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(kA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function IA(t=Vt()){return/firefox\//i.test(t)}function e0(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=Vt()){return/crios\//i.test(t)}function CA(t=Vt()){return/iemobile/i.test(t)}function kA(t=Vt()){return/android/i.test(t)}function AA(t=Vt()){return/blackberry/i.test(t)}function xA(t=Vt()){return/webos/i.test(t)}function td(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function h4(t=Vt()){var e;return td(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f4(){return Tb()&&document.documentMode===10}function NA(t=Vt()){return td(t)||kA(t)||xA(t)||AA(t)||/windows phone/i.test(t)||CA(t)}function d4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=[]){let n;switch(t){case"Browser":n=iS(Vt());break;case"Worker":n=`${iS(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,c)=>{try{const h=e(o);u(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sS(this),this.idTokenSubscription=new sS(this),this.beforeStateQueue=new p4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Xz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),u=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(u,this,"internal-error"),u.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function El(t){return at(t)}class sS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Db(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function m4(t,e,n){const r=El(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=DA(e),{host:u,port:c}=v4(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${u}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y4()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v4(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:oS(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:oS(u)}}}function oS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function w4(t,e){return ea(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}async function S4(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends t0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ju(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ju(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return _4(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return E4(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return w4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return S4(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="http://localhost";class Cs extends t0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Yy(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Cs(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:I4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C4(t){const e=Ha(ja(t)).link,n=e?Ha(ja(e)).deep_link_id:null,r=Ha(ja(t)).deep_link_id;return(r?Ha(ja(r)).link:null)||r||n||e||t}class n0{constructor(e){var n,r,i,o,u,c;const h=Ha(ja(e)),d=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,y=T4((i=h.mode)!==null&&i!==void 0?i:null);ie(d&&g&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=C4(e);try{return new n0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return ju._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=n0.parseLink(n);return ie(r,"argument-error"),ju._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends LA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Sl{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return di.credential(n,r)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Sl{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Sl{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gi.credential(n,r)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){return _l(t,"POST","/v1/accounts:signUp",wl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ps._fromIdTokenResponse(e,r,i),u=aS(r);return new ks({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=aS(r);return new ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function aS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends Yr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ef(e,n,r,i)}}function OA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,o,e,r):o})}async function A4(t,e,n=!1){const r=await zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await zo(t,OA(r,i,e,t),n);ie(o.idToken,r,"internal-error");const u=Zy(o.idToken);ie(u,r,"internal-error");const{sub:c}=u;return ie(t.uid===c,r,"user-mismatch"),ks._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e,n=!1){const r="signIn",i=await OA(t,r,e),o=await ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function N4(t,e){return PA(El(t),e)}async function R4(t,e,n){const r=El(t),i=await k4(r,{returnSecureToken:!0,email:e,password:n}),o=await ks._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function D4(t,e,n){return N4(at(t),ta.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){return ea(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=at(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await zo(r,L4(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function P4(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function M4(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function $4(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function U4(t){return at(t).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){const t=Vt();return e0(t)||td(t)}const F4=1e3,B4=10;class $A extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=b4()&&d4(),this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(r);if(e.newValue!==u)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);f4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,B4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},F4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$A.type="LOCAL";const V4=$A;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}UA.type="SESSION";const bA=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(u).map(async d=>d(n.origin,o)),h=await z4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((c,h)=>{const d=r0("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function H4(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function j4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K4(){return FA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebaseLocalStorageDb",G4=1,nf="firebaseLocalStorage",VA="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function Q4(){const t=indexedDB.deleteDatabase(BA);return new Il(t).toPromise()}function Ym(){const t=indexedDB.open(BA,G4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nf,{keyPath:VA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nf)?e(r):(r.close(),await Q4(),e(await Ym()))})})}async function uS(t,e,n){const r=rd(t,!0).put({[VA]:e,value:n});return new Il(r).toPromise()}async function Y4(t,e){const n=rd(t,!1).get(e),r=await new Il(n).toPromise();return r===void 0?null:r.value}function lS(t,e){const n=rd(t,!0).delete(e);return new Il(n).toPromise()}const X4=800,J4=3;class zA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(K4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await uS(e,tf,"1"),await lS(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Y4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=rd(i,!1).getAll();return new Il(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zA.type="LOCAL";const Z4=zA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tW(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",eW().appendChild(r)})}function nW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e){return e?$r(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends t0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iW(t){return PA(t.auth,new i0(t),t.bypassAuthState)}function sW(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),x4(n,new i0(t),t.bypassAuthState)}async function oW(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),A4(n,new i0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iW;case"linkViaPopup":case"linkViaRedirect":return oW;case"reauthViaPopup":case"reauthViaRedirect":return sW;default:nr(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=new yl(2e3,1e4);class po extends WA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=r0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,aW.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="pendingRedirect",oh=new Map;class lW extends WA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await cW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cW(t,e){const n=dW(e),r=fW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function hW(t,e){oh.set(t._key(),e)}function fW(t){return $r(t._redirectPersistence)}function dW(t){return sh(uW,t.config.apiKey,t.name)}async function pW(t,e,n=!1){const r=El(t),i=rW(r,e),u=await new lW(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW=10*60*1e3;class mW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gW&&this.cachedEventUids.clear(),this.cachedEventUids.has(cS(e))}saveEventToCache(e){this.cachedEventUids.add(cS(e)),this.lastProcessedEventTime=Date.now()}}function cS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e={}){return ea(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_W=/^https?/;async function EW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yW(t);for(const n of e)try{if(SW(n))return}catch{}nr(t,"unauthorized-domain")}function SW(t){const e=Qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!_W.test(n))return!1;if(wW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=new yl(3e4,6e4);function hS(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TW(t){return new Promise((e,n)=>{var r,i,o;function u(){hS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hS(),n(gr(t,"network-request-failed"))},timeout:IW.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mr().gapi)===null||o===void 0)&&o.load)u();else{const c=nW("iframefcb");return mr()[c]=()=>{gapi.load?u():n(gr(t,"network-request-failed"))},tW(`https://apis.google.com/js/api.js?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw ah=null,e})}let ah=null;function CW(t){return ah=ah||TW(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=new yl(5e3,15e3),AW="__/auth/iframe",xW="emulator/auth/iframe",NW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DW(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jy(e,xW):`https://${t.config.authDomain}/${AW}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=RW.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Zu(r).slice(1)}`}async function LW(t){const e=await CW(t),n=mr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:DW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NW,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=gr(t,"network-request-failed"),c=mr().setTimeout(()=>{o(u)},kW.get());function h(){mr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PW=500,MW=600,$W="_blank",UW="http://localhost";class fS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bW(t,e,n,r=PW,i=MW){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},OW),{width:r.toString(),height:i.toString(),top:o,left:u}),d=Vt().toLowerCase();n&&(c=TA(d)?$W:n),IA(d)&&(e=e||UW,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[A,x])=>`${w}${A}=${x},`,"");if(h4(d)&&c!=="_self")return FW(e||"",c),new fS(null);const y=window.open(e||"",c,g);ie(y,t,"popup-blocked");try{y.focus()}catch{}return new fS(y)}function FW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW="__/auth/handler",VW="emulator/auth/handler";function dS(t,e,n,r,i,o){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof LA){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Rb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries(o||{}))u[h]=d}if(e instanceof Sl){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(u.scopes=h.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];return`${zW(t)}?${Zu(c).slice(1)}`}function zW({config:t}){return t.emulator?Jy(t,VW):`https://${t.authDomain}/${BW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="webStorageSupport";class WW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=pW,this._overrideRedirectResult=hW}async _openPopup(e,n,r,i){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=dS(e,n,r,Qm(),i);return bW(e,u,r0())}async _openRedirect(e,n,r,i){return await this._originValidation(e),H4(dS(e,n,r,Qm(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LW(e),r=new mW(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vg,{type:vg},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[vg];u!==void 0&&n(!!u),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||e0()||td()}}const HW=WW;var pS="@firebase/auth",gS="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KW(t){Lo(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:o,authDomain:u}=r.options;return((c,h)=>{ie(o&&!o.includes(":"),"invalid-api-key",{appName:c.name}),ie(!(u!=null&&u.includes(":")),"argument-error",{appName:c.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},g=new g4(c,h,d);return Gz(g,n),g})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new _s("auth-internal",e=>{const n=El(e.getProvider("auth").getImmediate());return(r=>new jW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(pS,gS,qW(t)),Ri(pS,gS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=5*60,QW=WT("authIdTokenMaxAge")||GW;let mS=null;const YW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QW)return;const i=n==null?void 0:n.token;mS!==i&&(mS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XW(t=KT()){const e=Yv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Kz(t,{popupRedirectResolver:HW,persistence:[Z4,V4,bA]}),r=WT("authTokenSyncURL");if(r){const o=YW(r);M4(n,o,()=>o(n.currentUser)),P4(n,u=>o(u))}const i=zT("auth");return i&&m4(n,`http://${i}`),n}KW("Browser");const JW={apiKey:"AIzaSyAEIU6KgB-7bvMvLQz_QsG91somfd2paCY",authDomain:"react-chat-a40ed.firebaseapp.com",projectId:"react-chat-a40ed",storageBucket:"react-chat-a40ed.appspot.com",messagingSenderId:"994122803967",appId:"1:994122803967:web:be140dff281f55756a3aca"};qT(JW);const id=XW(),Pn=Ez(),jA=z.createContext({}),ZW=({children:t})=>{const[e,n]=z.useState({});return z.useEffect(()=>{const r=$4(id,i=>n(i));return()=>{r()}},[]),Y(jA.Provider,{value:{user:e},children:t})},na=()=>z.useContext(jA),qA=z.createContext({}),eH=({children:t})=>{const{user:e}=na(),n={chatId:"null",user:{}},r=(u,c)=>{switch(c.type){case"CHANGE_USER":return{user:c.payload,chatId:e.uid>c.payload.uid?e.uid+c.payload.uid:c.payload.uid+e.uid};case"CLOSE_CHAT":return{user:{},chatId:"null"};default:return u}},[i,o]=z.useReducer(r,n);return Y(qA.Provider,{value:{data:i,dispatch:o},children:t})},ra=()=>z.useContext(qA),tH="_page_1bcag_1",nH="_pageCentered_1bcag_6",rH="_form_1bcag_12",iH="_formWrapper_1bcag_17",sH="_formButton_1bcag_26",oH="_formInput_1bcag_35",aH="_formInputText_1bcag_38",uH="_formLabel_1bcag_51",lH="_title_1bcag_58",cH="_subtitle_1bcag_65",hH="_error_1bcag_71",Ie={page:tH,pageCentered:nH,form:rH,formWrapper:iH,formButton:sH,formInput:oH,formInputText:aH,formLabel:uH,title:lH,subtitle:cH,error:hH},fH="_userImage_1knuj_1",dH="_userCard_1knuj_7",pH="_userCardChat_1knuj_16",gH="_userCardTitle_1knuj_24",mH="_userCardSubtitle_1knuj_30",Dr={userImage:fH,userCard:dH,userCardChat:pH,userCardTitle:gH,userCardSubtitle:mH},vH="_search_21yt6_1",yH="_searchForm_21yt6_5",wH="_searchFormInput_21yt6_8",_H="_userCard_21yt6_12",Fc={search:vH,searchForm:yH,searchFormInput:wH,userCard:_H},EH=()=>{const[t,e]=z.useState(""),[n,r]=z.useState(null),{user:i}=na(),o=async c=>{if(c.code=="Enter"){r(null);const h=fz(Pn,"users"),d=Pz(h,Mz("email","==",t));try{(await Vz(d)).forEach(y=>r(y.data()))}catch{r(null)}}},u=async c=>{const h=i.uid>n.uid?i.uid+n.uid:n.uid+i.uid;try{(await Bz(Xn(Pn,"chats",h))).exists()||(await Gm(Xn(Pn,"chats",h),{messages:[]}),await cu(Xn(Pn,"userChats",i.uid),{[h+".userInfo"]:{uid:n.uid,name:n.name},[h+".date"]:Jh()}),await cu(Xn(Pn,"userChats",n.uid),{[h+".userInfo"]:{uid:i.uid,name:i.displayName},[h+".date"]:Jh()}))}catch(d){console.log(d)}r(null),e("")};return Me("div",{className:Fc.search,children:[Y("div",{className:Fc.searchForm,children:Y("input",{type:"text",placeholder:"Enter email and press return",onChange:c=>e(c.target.value),onKeyDown:o,value:t,className:`${Ie.formInputText} ${Fc.searchFormInput}`})}),n&&Me("div",{className:`${Dr.userCard} ${Fc.userCard}`,onClick:u,children:[Y("img",{className:Dr.userImage,alt:"Default-avatar",src:"https://upload.wikimedia.org/wikipedia/commons/1/1e/Default-avatar.jpg"}),Y("div",{className:Dr.userCardChat,children:Y("span",{className:Dr.userCardTitle,children:n.name})})]})]})},SH=t=>{const{userName:e,userChat:n,clickHandler:r}=t;return Me("div",{className:`${Dr.userCard}`,onClick:r,children:[Y("img",{className:Dr.userImage,alt:"Default-avatar",src:"https://upload.wikimedia.org/wikipedia/commons/1/1e/Default-avatar.jpg"}),Me("div",{className:Dr.userCardChat,children:[Y("span",{className:Dr.userCardTitle,children:e}),Me("span",{className:Dr.userCardSubtitle,children:[n," "]})]})]})},IH="_sidebar_18v6z_1",TH="_div_18v6z_20",vS={sidebar:IH,div:TH},CH=()=>{var o;const[t,e]=z.useState([]),{user:n}=na(),{dispatch:r}=ra();z.useEffect(()=>{const u=()=>{const c=dA(Xn(Pn,"userChats",n.uid),h=>{e(h.data())});return()=>{c()}};n.uid&&u()},[n.uid]);const i=u=>{r({type:"CHANGE_USER",payload:u})};return Me("div",{className:vS.sidebar,children:[Y(EH,{}),Y("div",{className:vS.div,children:(o=Object.entries(t))==null?void 0:o.sort((u,c)=>c[1].date-u[1].date).map(u=>{var c;return Y(SH,{userName:u[1].userInfo.name,userChat:(c=u[1].lastMessage)==null?void 0:c.text,clickHandler:()=>{i(u[1].userInfo)}},u[0])})})]})},kH="_other_1xev6_1",AH="_otherName_1xev6_7",xH="_otherMessage_1xev6_13",NH="_self_1xev6_20",RH="_selfName_1xev6_27",DH="_selfMessage_1xev6_33",Xs={other:kH,otherName:AH,otherMessage:xH,self:NH,selfName:RH,selfMessage:DH},LH=t=>{const{message:e}=t,{data:n}=ra(),{user:r}=na(),i=z.useRef();z.useEffect(()=>{var u;(u=i.current)==null||u.scrollIntoView({behavior:"instant"})},[e]);const o=r.uid==e.senderId?null:n.user.name;return Me("div",{className:o?Xs.other:Xs.self,ref:i,children:[Y("p",{className:o?Xs.otherName:Xs.selfName,children:o||"You"}),Y("p",{className:o?Xs.otherMessage:Xs.selfMessage,children:e.text})]})},OH="_container_1ncn8_1",PH="_icon_1ncn8_23",yg={container:OH,icon:PH};var KA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yS=Ur.createContext&&Ur.createContext(KA),Li=globalThis&&globalThis.__assign||function(){return Li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Li.apply(this,arguments)},MH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function GA(t){return t&&t.map(function(e,n){return Ur.createElement(e.tag,Li({key:n},e.attr),GA(e.child))})}function QA(t){return function(e){return Ur.createElement($H,Li({attr:Li({},t.attr)},e),GA(t.child))}}function $H(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,u=MH(t,["attr","size","title"]),c=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ur.createElement("svg",Li({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:h,style:Li(Li({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Ur.createElement("title",null,o),t.children)};return yS!==void 0?Ur.createElement(yS.Consumer,null,function(n){return e(n)}):e(KA)}function UH(t){return QA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}}]})(t)}function bH(t){return QA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}}]})(t)}let Bc;const FH=new Uint8Array(16);function BH(){if(!Bc&&(Bc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bc(FH)}const Et=[];for(let t=0;t<256;++t)Et.push((t+256).toString(16).slice(1));function VH(t,e=0){return(Et[t[e+0]]+Et[t[e+1]]+Et[t[e+2]]+Et[t[e+3]]+"-"+Et[t[e+4]]+Et[t[e+5]]+"-"+Et[t[e+6]]+Et[t[e+7]]+"-"+Et[t[e+8]]+Et[t[e+9]]+"-"+Et[t[e+10]]+Et[t[e+11]]+Et[t[e+12]]+Et[t[e+13]]+Et[t[e+14]]+Et[t[e+15]]).toLowerCase()}const zH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wS={randomUUID:zH};function WH(t,e,n){if(wS.randomUUID&&!e&&!t)return wS.randomUUID();t=t||{};const r=t.random||(t.rng||BH)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return VH(r)}const HH=t=>{const[e,n]=z.useState(""),{data:r}=ra(),{user:i}=na(),o=async()=>{await cu(Xn(Pn,"chats",r.chatId),{messages:zz({id:WH(),text:e,senderId:i.uid,date:ot.now()})}),await cu(Xn(Pn,"userChats",i.uid),{[r.chatId+".lastMessage"]:{text:e},[r.chatId+".date"]:Jh()}),n(""),await cu(Xn(Pn,"userChats",r.user.uid),{[r.chatId+".lastMessage"]:{text:e},[r.chatId+".date"]:Jh()})},u=async c=>{c.code=="Enter"&&o()};return Me("div",{className:yg.container,children:[Y("input",{type:"text",className:yg.input,placeholder:"Enter message",value:e,onChange:c=>n(c.target.value),onKeyDown:u}),Y(UH,{className:yg.icon,onClick:o})]})},jH="_chat_wpwsz_1",qH="_chatHeader_wpwsz_9",KH="_chatMessages_wpwsz_16",GH="_chatInput_wpwsz_34",Vc={chat:jH,chatHeader:qH,chatMessages:KH,chatInput:GH},QH=t=>{const[e,n]=z.useState([]),{data:r}=ra();return z.useEffect(()=>{const i=dA(Xn(Pn,"chats",r.chatId),o=>{o.exists()&&n(o.data().messages)});return()=>{i()}},[r.chatId]),Y("div",{className:Vc.chat,children:r&&r.chatId!="null"&&Me(uh,{children:[Y("div",{className:Vc.chatHeader,children:r.user.name}),Y("div",{className:Vc.chatMessages,children:e.map(i=>Y(LH,{message:i},i.id))}),Y("div",{className:Vc.chatInput,children:Y(HH,{})})]})})},YH="_navbar_iphet_1",XH="_title_iphet_9",JH="_button_iphet_16",ZH="_backButton_iphet_26",ba={navbar:YH,title:XH,button:JH,backButton:ZH},e6=t=>{const{width:e}=t,{data:n,dispatch:r}=ra(),i=()=>{r({type:"CLOSE_CHAT",payload:{}})};return Y("div",{className:ba.navbar,children:e<=550&&n.chatId!="null"?Me(uh,{children:[Y(bH,{onClick:i,className:ba.backButton}),Y("p",{className:ba.title,children:"React-Chat"})]}):Me(uh,{children:[Y("p",{className:ba.title,children:"React-Chat"}),Y("button",{className:ba.button,onClick:()=>U4(id),children:"Log Out"})]})})},t6="_home_otds5_1",n6="_homeContainer_otds5_7",_S={home:t6,homeContainer:n6};var rf={},r6={get exports(){return rf},set exports(t){rf=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",d=500,g="__lodash_placeholder__",y=1,w=2,A=4,x=1,N=2,U=1,I=2,E=4,T=8,L=16,B=32,j=64,W=128,Q=256,Re=512,ge=30,un="...",Hi=800,ji=16,ia=1,sd=2,sa=3,Bn=1/0,H=9007199254740991,ue=17976931348623157e292,le=0/0,Ce=4294967295,tt=Ce-1,Os=Ce>>>1,yr=[["ary",W],["bind",U],["bindKey",I],["curry",T],["curryRight",L],["flip",Re],["partial",B],["partialRight",j],["rearg",Q]],rr="[object Arguments]",In="[object Array]",Ps="[object AsyncFunction]",oa="[object Boolean]",aa="[object Date]",XA="[object DOMException]",Tl="[object Error]",Cl="[object Function]",s0="[object GeneratorFunction]",Vn="[object Map]",ua="[object Number]",JA="[object Null]",wr="[object Object]",o0="[object Promise]",ZA="[object Proxy]",la="[object RegExp]",zn="[object Set]",ca="[object String]",kl="[object Symbol]",ex="[object Undefined]",ha="[object WeakMap]",tx="[object WeakSet]",fa="[object ArrayBuffer]",Ms="[object DataView]",od="[object Float32Array]",ad="[object Float64Array]",ud="[object Int8Array]",ld="[object Int16Array]",cd="[object Int32Array]",hd="[object Uint8Array]",fd="[object Uint8ClampedArray]",dd="[object Uint16Array]",pd="[object Uint32Array]",nx=/\b__p \+= '';/g,rx=/\b(__p \+=) '' \+/g,ix=/(__e\(.*?\)|\b__t\)) \+\n'';/g,a0=/&(?:amp|lt|gt|quot|#39);/g,u0=/[&<>"']/g,sx=RegExp(a0.source),ox=RegExp(u0.source),ax=/<%-([\s\S]+?)%>/g,ux=/<%([\s\S]+?)%>/g,l0=/<%=([\s\S]+?)%>/g,lx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cx=/^\w*$/,hx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gd=/[\\^$.*+?()[\]{}|]/g,fx=RegExp(gd.source),md=/^\s+/,dx=/\s/,px=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gx=/\{\n\/\* \[wrapped with (.+)\] \*/,mx=/,? & /,vx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yx=/[()=,{}\[\]\/\s]/,wx=/\\(\\)?/g,_x=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,c0=/\w*$/,Ex=/^[-+]0x[0-9a-f]+$/i,Sx=/^0b[01]+$/i,Ix=/^\[object .+?Constructor\]$/,Tx=/^0o[0-7]+$/i,Cx=/^(?:0|[1-9]\d*)$/,kx=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Al=/($^)/,Ax=/['\n\r\u2028\u2029\\]/g,xl="\\ud800-\\udfff",xx="\\u0300-\\u036f",Nx="\\ufe20-\\ufe2f",Rx="\\u20d0-\\u20ff",h0=xx+Nx+Rx,f0="\\u2700-\\u27bf",d0="a-z\\xdf-\\xf6\\xf8-\\xff",Dx="\\xac\\xb1\\xd7\\xf7",Lx="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ox="\\u2000-\\u206f",Px=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p0="A-Z\\xc0-\\xd6\\xd8-\\xde",g0="\\ufe0e\\ufe0f",m0=Dx+Lx+Ox+Px,vd="[']",Mx="["+xl+"]",v0="["+m0+"]",Nl="["+h0+"]",y0="\\d+",$x="["+f0+"]",w0="["+d0+"]",_0="[^"+xl+m0+y0+f0+d0+p0+"]",yd="\\ud83c[\\udffb-\\udfff]",Ux="(?:"+Nl+"|"+yd+")",E0="[^"+xl+"]",wd="(?:\\ud83c[\\udde6-\\uddff]){2}",_d="[\\ud800-\\udbff][\\udc00-\\udfff]",$s="["+p0+"]",S0="\\u200d",I0="(?:"+w0+"|"+_0+")",bx="(?:"+$s+"|"+_0+")",T0="(?:"+vd+"(?:d|ll|m|re|s|t|ve))?",C0="(?:"+vd+"(?:D|LL|M|RE|S|T|VE))?",k0=Ux+"?",A0="["+g0+"]?",Fx="(?:"+S0+"(?:"+[E0,wd,_d].join("|")+")"+A0+k0+")*",Bx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Vx="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",x0=A0+k0+Fx,zx="(?:"+[$x,wd,_d].join("|")+")"+x0,Wx="(?:"+[E0+Nl+"?",Nl,wd,_d,Mx].join("|")+")",Hx=RegExp(vd,"g"),jx=RegExp(Nl,"g"),Ed=RegExp(yd+"(?="+yd+")|"+Wx+x0,"g"),qx=RegExp([$s+"?"+w0+"+"+T0+"(?="+[v0,$s,"$"].join("|")+")",bx+"+"+C0+"(?="+[v0,$s+I0,"$"].join("|")+")",$s+"?"+I0+"+"+T0,$s+"+"+C0,Vx,Bx,y0,zx].join("|"),"g"),Kx=RegExp("["+S0+xl+h0+g0+"]"),Gx=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yx=-1,be={};be[od]=be[ad]=be[ud]=be[ld]=be[cd]=be[hd]=be[fd]=be[dd]=be[pd]=!0,be[rr]=be[In]=be[fa]=be[oa]=be[Ms]=be[aa]=be[Tl]=be[Cl]=be[Vn]=be[ua]=be[wr]=be[la]=be[zn]=be[ca]=be[ha]=!1;var Pe={};Pe[rr]=Pe[In]=Pe[fa]=Pe[Ms]=Pe[oa]=Pe[aa]=Pe[od]=Pe[ad]=Pe[ud]=Pe[ld]=Pe[cd]=Pe[Vn]=Pe[ua]=Pe[wr]=Pe[la]=Pe[zn]=Pe[ca]=Pe[kl]=Pe[hd]=Pe[fd]=Pe[dd]=Pe[pd]=!0,Pe[Tl]=Pe[Cl]=Pe[ha]=!1;var Xx={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Jx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},eN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tN=parseFloat,nN=parseInt,N0=typeof xa=="object"&&xa&&xa.Object===Object&&xa,rN=typeof self=="object"&&self&&self.Object===Object&&self,wt=N0||rN||Function("return this")(),Sd=e&&!e.nodeType&&e,qi=Sd&&!0&&t&&!t.nodeType&&t,R0=qi&&qi.exports===Sd,Id=R0&&N0.process,Tn=function(){try{var C=qi&&qi.require&&qi.require("util").types;return C||Id&&Id.binding&&Id.binding("util")}catch{}}(),D0=Tn&&Tn.isArrayBuffer,L0=Tn&&Tn.isDate,O0=Tn&&Tn.isMap,P0=Tn&&Tn.isRegExp,M0=Tn&&Tn.isSet,$0=Tn&&Tn.isTypedArray;function ln(C,D,R){switch(R.length){case 0:return C.call(D);case 1:return C.call(D,R[0]);case 2:return C.call(D,R[0],R[1]);case 3:return C.call(D,R[0],R[1],R[2])}return C.apply(D,R)}function iN(C,D,R,q){for(var ae=-1,ke=C==null?0:C.length;++ae<ke;){var ut=C[ae];D(q,ut,R(ut),C)}return q}function Cn(C,D){for(var R=-1,q=C==null?0:C.length;++R<q&&D(C[R],R,C)!==!1;);return C}function sN(C,D){for(var R=C==null?0:C.length;R--&&D(C[R],R,C)!==!1;);return C}function U0(C,D){for(var R=-1,q=C==null?0:C.length;++R<q;)if(!D(C[R],R,C))return!1;return!0}function Xr(C,D){for(var R=-1,q=C==null?0:C.length,ae=0,ke=[];++R<q;){var ut=C[R];D(ut,R,C)&&(ke[ae++]=ut)}return ke}function Rl(C,D){var R=C==null?0:C.length;return!!R&&Us(C,D,0)>-1}function Td(C,D,R){for(var q=-1,ae=C==null?0:C.length;++q<ae;)if(R(D,C[q]))return!0;return!1}function ze(C,D){for(var R=-1,q=C==null?0:C.length,ae=Array(q);++R<q;)ae[R]=D(C[R],R,C);return ae}function Jr(C,D){for(var R=-1,q=D.length,ae=C.length;++R<q;)C[ae+R]=D[R];return C}function Cd(C,D,R,q){var ae=-1,ke=C==null?0:C.length;for(q&&ke&&(R=C[++ae]);++ae<ke;)R=D(R,C[ae],ae,C);return R}function oN(C,D,R,q){var ae=C==null?0:C.length;for(q&&ae&&(R=C[--ae]);ae--;)R=D(R,C[ae],ae,C);return R}function kd(C,D){for(var R=-1,q=C==null?0:C.length;++R<q;)if(D(C[R],R,C))return!0;return!1}var aN=Ad("length");function uN(C){return C.split("")}function lN(C){return C.match(vx)||[]}function b0(C,D,R){var q;return R(C,function(ae,ke,ut){if(D(ae,ke,ut))return q=ke,!1}),q}function Dl(C,D,R,q){for(var ae=C.length,ke=R+(q?1:-1);q?ke--:++ke<ae;)if(D(C[ke],ke,C))return ke;return-1}function Us(C,D,R){return D===D?EN(C,D,R):Dl(C,F0,R)}function cN(C,D,R,q){for(var ae=R-1,ke=C.length;++ae<ke;)if(q(C[ae],D))return ae;return-1}function F0(C){return C!==C}function B0(C,D){var R=C==null?0:C.length;return R?Nd(C,D)/R:le}function Ad(C){return function(D){return D==null?n:D[C]}}function xd(C){return function(D){return C==null?n:C[D]}}function V0(C,D,R,q,ae){return ae(C,function(ke,ut,Oe){R=q?(q=!1,ke):D(R,ke,ut,Oe)}),R}function hN(C,D){var R=C.length;for(C.sort(D);R--;)C[R]=C[R].value;return C}function Nd(C,D){for(var R,q=-1,ae=C.length;++q<ae;){var ke=D(C[q]);ke!==n&&(R=R===n?ke:R+ke)}return R}function Rd(C,D){for(var R=-1,q=Array(C);++R<C;)q[R]=D(R);return q}function fN(C,D){return ze(D,function(R){return[R,C[R]]})}function z0(C){return C&&C.slice(0,q0(C)+1).replace(md,"")}function cn(C){return function(D){return C(D)}}function Dd(C,D){return ze(D,function(R){return C[R]})}function da(C,D){return C.has(D)}function W0(C,D){for(var R=-1,q=C.length;++R<q&&Us(D,C[R],0)>-1;);return R}function H0(C,D){for(var R=C.length;R--&&Us(D,C[R],0)>-1;);return R}function dN(C,D){for(var R=C.length,q=0;R--;)C[R]===D&&++q;return q}var pN=xd(Xx),gN=xd(Jx);function mN(C){return"\\"+eN[C]}function vN(C,D){return C==null?n:C[D]}function bs(C){return Kx.test(C)}function yN(C){return Gx.test(C)}function wN(C){for(var D,R=[];!(D=C.next()).done;)R.push(D.value);return R}function Ld(C){var D=-1,R=Array(C.size);return C.forEach(function(q,ae){R[++D]=[ae,q]}),R}function j0(C,D){return function(R){return C(D(R))}}function Zr(C,D){for(var R=-1,q=C.length,ae=0,ke=[];++R<q;){var ut=C[R];(ut===D||ut===g)&&(C[R]=g,ke[ae++]=R)}return ke}function Ll(C){var D=-1,R=Array(C.size);return C.forEach(function(q){R[++D]=q}),R}function _N(C){var D=-1,R=Array(C.size);return C.forEach(function(q){R[++D]=[q,q]}),R}function EN(C,D,R){for(var q=R-1,ae=C.length;++q<ae;)if(C[q]===D)return q;return-1}function SN(C,D,R){for(var q=R+1;q--;)if(C[q]===D)return q;return q}function Fs(C){return bs(C)?TN(C):aN(C)}function Wn(C){return bs(C)?CN(C):uN(C)}function q0(C){for(var D=C.length;D--&&dx.test(C.charAt(D)););return D}var IN=xd(Zx);function TN(C){for(var D=Ed.lastIndex=0;Ed.test(C);)++D;return D}function CN(C){return C.match(Ed)||[]}function kN(C){return C.match(qx)||[]}var AN=function C(D){D=D==null?wt:Bs.defaults(wt.Object(),D,Bs.pick(wt,Qx));var R=D.Array,q=D.Date,ae=D.Error,ke=D.Function,ut=D.Math,Oe=D.Object,Od=D.RegExp,xN=D.String,kn=D.TypeError,Ol=R.prototype,NN=ke.prototype,Vs=Oe.prototype,Pl=D["__core-js_shared__"],Ml=NN.toString,De=Vs.hasOwnProperty,RN=0,K0=function(){var s=/[^.]+$/.exec(Pl&&Pl.keys&&Pl.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),$l=Vs.toString,DN=Ml.call(Oe),LN=wt._,ON=Od("^"+Ml.call(De).replace(gd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ul=R0?D.Buffer:n,ei=D.Symbol,bl=D.Uint8Array,G0=Ul?Ul.allocUnsafe:n,Fl=j0(Oe.getPrototypeOf,Oe),Q0=Oe.create,Y0=Vs.propertyIsEnumerable,Bl=Ol.splice,X0=ei?ei.isConcatSpreadable:n,pa=ei?ei.iterator:n,Ki=ei?ei.toStringTag:n,Vl=function(){try{var s=Ji(Oe,"defineProperty");return s({},"",{}),s}catch{}}(),PN=D.clearTimeout!==wt.clearTimeout&&D.clearTimeout,MN=q&&q.now!==wt.Date.now&&q.now,$N=D.setTimeout!==wt.setTimeout&&D.setTimeout,zl=ut.ceil,Wl=ut.floor,Pd=Oe.getOwnPropertySymbols,UN=Ul?Ul.isBuffer:n,J0=D.isFinite,bN=Ol.join,FN=j0(Oe.keys,Oe),lt=ut.max,xt=ut.min,BN=q.now,VN=D.parseInt,Z0=ut.random,zN=Ol.reverse,Md=Ji(D,"DataView"),ga=Ji(D,"Map"),$d=Ji(D,"Promise"),zs=Ji(D,"Set"),ma=Ji(D,"WeakMap"),va=Ji(Oe,"create"),Hl=ma&&new ma,Ws={},WN=Zi(Md),HN=Zi(ga),jN=Zi($d),qN=Zi(zs),KN=Zi(ma),jl=ei?ei.prototype:n,ya=jl?jl.valueOf:n,e1=jl?jl.toString:n;function m(s){if(Qe(s)&&!ce(s)&&!(s instanceof ye)){if(s instanceof An)return s;if(De.call(s,"__wrapped__"))return tw(s)}return new An(s)}var Hs=function(){function s(){}return function(a){if(!je(a))return{};if(Q0)return Q0(a);s.prototype=a;var l=new s;return s.prototype=n,l}}();function ql(){}function An(s,a){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}m.templateSettings={escape:ax,evaluate:ux,interpolate:l0,variable:"",imports:{_:m}},m.prototype=ql.prototype,m.prototype.constructor=m,An.prototype=Hs(ql.prototype),An.prototype.constructor=An;function ye(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ce,this.__views__=[]}function GN(){var s=new ye(this.__wrapped__);return s.__actions__=Xt(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Xt(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Xt(this.__views__),s}function QN(){if(this.__filtered__){var s=new ye(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function YN(){var s=this.__wrapped__.value(),a=this.__dir__,l=ce(s),f=a<0,p=l?s.length:0,v=uD(0,p,this.__views__),_=v.start,S=v.end,k=S-_,O=f?S:_-1,P=this.__iteratees__,$=P.length,V=0,X=xt(k,this.__takeCount__);if(!l||!f&&p==k&&X==k)return T1(s,this.__actions__);var ne=[];e:for(;k--&&V<X;){O+=a;for(var pe=-1,re=s[O];++pe<$;){var ve=P[pe],Ee=ve.iteratee,dn=ve.type,jt=Ee(re);if(dn==sd)re=jt;else if(!jt){if(dn==ia)continue e;break e}}ne[V++]=re}return ne}ye.prototype=Hs(ql.prototype),ye.prototype.constructor=ye;function Gi(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var f=s[a];this.set(f[0],f[1])}}function XN(){this.__data__=va?va(null):{},this.size=0}function JN(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}function ZN(s){var a=this.__data__;if(va){var l=a[s];return l===h?n:l}return De.call(a,s)?a[s]:n}function eR(s){var a=this.__data__;return va?a[s]!==n:De.call(a,s)}function tR(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=va&&a===n?h:a,this}Gi.prototype.clear=XN,Gi.prototype.delete=JN,Gi.prototype.get=ZN,Gi.prototype.has=eR,Gi.prototype.set=tR;function _r(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var f=s[a];this.set(f[0],f[1])}}function nR(){this.__data__=[],this.size=0}function rR(s){var a=this.__data__,l=Kl(a,s);if(l<0)return!1;var f=a.length-1;return l==f?a.pop():Bl.call(a,l,1),--this.size,!0}function iR(s){var a=this.__data__,l=Kl(a,s);return l<0?n:a[l][1]}function sR(s){return Kl(this.__data__,s)>-1}function oR(s,a){var l=this.__data__,f=Kl(l,s);return f<0?(++this.size,l.push([s,a])):l[f][1]=a,this}_r.prototype.clear=nR,_r.prototype.delete=rR,_r.prototype.get=iR,_r.prototype.has=sR,_r.prototype.set=oR;function Er(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var f=s[a];this.set(f[0],f[1])}}function aR(){this.size=0,this.__data__={hash:new Gi,map:new(ga||_r),string:new Gi}}function uR(s){var a=sc(this,s).delete(s);return this.size-=a?1:0,a}function lR(s){return sc(this,s).get(s)}function cR(s){return sc(this,s).has(s)}function hR(s,a){var l=sc(this,s),f=l.size;return l.set(s,a),this.size+=l.size==f?0:1,this}Er.prototype.clear=aR,Er.prototype.delete=uR,Er.prototype.get=lR,Er.prototype.has=cR,Er.prototype.set=hR;function Qi(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new Er;++a<l;)this.add(s[a])}function fR(s){return this.__data__.set(s,h),this}function dR(s){return this.__data__.has(s)}Qi.prototype.add=Qi.prototype.push=fR,Qi.prototype.has=dR;function Hn(s){var a=this.__data__=new _r(s);this.size=a.size}function pR(){this.__data__=new _r,this.size=0}function gR(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}function mR(s){return this.__data__.get(s)}function vR(s){return this.__data__.has(s)}function yR(s,a){var l=this.__data__;if(l instanceof _r){var f=l.__data__;if(!ga||f.length<i-1)return f.push([s,a]),this.size=++l.size,this;l=this.__data__=new Er(f)}return l.set(s,a),this.size=l.size,this}Hn.prototype.clear=pR,Hn.prototype.delete=gR,Hn.prototype.get=mR,Hn.prototype.has=vR,Hn.prototype.set=yR;function t1(s,a){var l=ce(s),f=!l&&es(s),p=!l&&!f&&si(s),v=!l&&!f&&!p&&Gs(s),_=l||f||p||v,S=_?Rd(s.length,xN):[],k=S.length;for(var O in s)(a||De.call(s,O))&&!(_&&(O=="length"||p&&(O=="offset"||O=="parent")||v&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Cr(O,k)))&&S.push(O);return S}function n1(s){var a=s.length;return a?s[Kd(0,a-1)]:n}function wR(s,a){return oc(Xt(s),Yi(a,0,s.length))}function _R(s){return oc(Xt(s))}function Ud(s,a,l){(l!==n&&!jn(s[a],l)||l===n&&!(a in s))&&Sr(s,a,l)}function wa(s,a,l){var f=s[a];(!(De.call(s,a)&&jn(f,l))||l===n&&!(a in s))&&Sr(s,a,l)}function Kl(s,a){for(var l=s.length;l--;)if(jn(s[l][0],a))return l;return-1}function ER(s,a,l,f){return ti(s,function(p,v,_){a(f,p,l(p),_)}),f}function r1(s,a){return s&&sr(a,pt(a),s)}function SR(s,a){return s&&sr(a,Zt(a),s)}function Sr(s,a,l){a=="__proto__"&&Vl?Vl(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}function bd(s,a){for(var l=-1,f=a.length,p=R(f),v=s==null;++l<f;)p[l]=v?n:yp(s,a[l]);return p}function Yi(s,a,l){return s===s&&(l!==n&&(s=s<=l?s:l),a!==n&&(s=s>=a?s:a)),s}function xn(s,a,l,f,p,v){var _,S=a&y,k=a&w,O=a&A;if(l&&(_=p?l(s,f,p,v):l(s)),_!==n)return _;if(!je(s))return s;var P=ce(s);if(P){if(_=cD(s),!S)return Xt(s,_)}else{var $=Nt(s),V=$==Cl||$==s0;if(si(s))return A1(s,S);if($==wr||$==rr||V&&!p){if(_=k||V?{}:q1(s),!S)return k?ZR(s,SR(_,s)):JR(s,r1(_,s))}else{if(!Pe[$])return p?s:{};_=hD(s,$,S)}}v||(v=new Hn);var X=v.get(s);if(X)return X;v.set(s,_),Ew(s)?s.forEach(function(re){_.add(xn(re,a,l,re,s,v))}):ww(s)&&s.forEach(function(re,ve){_.set(ve,xn(re,a,l,ve,s,v))});var ne=O?k?ip:rp:k?Zt:pt,pe=P?n:ne(s);return Cn(pe||s,function(re,ve){pe&&(ve=re,re=s[ve]),wa(_,ve,xn(re,a,l,ve,s,v))}),_}function IR(s){var a=pt(s);return function(l){return i1(l,s,a)}}function i1(s,a,l){var f=l.length;if(s==null)return!f;for(s=Oe(s);f--;){var p=l[f],v=a[p],_=s[p];if(_===n&&!(p in s)||!v(_))return!1}return!0}function s1(s,a,l){if(typeof s!="function")throw new kn(u);return ka(function(){s.apply(n,l)},a)}function _a(s,a,l,f){var p=-1,v=Rl,_=!0,S=s.length,k=[],O=a.length;if(!S)return k;l&&(a=ze(a,cn(l))),f?(v=Td,_=!1):a.length>=i&&(v=da,_=!1,a=new Qi(a));e:for(;++p<S;){var P=s[p],$=l==null?P:l(P);if(P=f||P!==0?P:0,_&&$===$){for(var V=O;V--;)if(a[V]===$)continue e;k.push(P)}else v(a,$,f)||k.push(P)}return k}var ti=L1(ir),o1=L1(Bd,!0);function TR(s,a){var l=!0;return ti(s,function(f,p,v){return l=!!a(f,p,v),l}),l}function Gl(s,a,l){for(var f=-1,p=s.length;++f<p;){var v=s[f],_=a(v);if(_!=null&&(S===n?_===_&&!fn(_):l(_,S)))var S=_,k=v}return k}function CR(s,a,l,f){var p=s.length;for(l=de(l),l<0&&(l=-l>p?0:p+l),f=f===n||f>p?p:de(f),f<0&&(f+=p),f=l>f?0:Iw(f);l<f;)s[l++]=a;return s}function a1(s,a){var l=[];return ti(s,function(f,p,v){a(f,p,v)&&l.push(f)}),l}function _t(s,a,l,f,p){var v=-1,_=s.length;for(l||(l=dD),p||(p=[]);++v<_;){var S=s[v];a>0&&l(S)?a>1?_t(S,a-1,l,f,p):Jr(p,S):f||(p[p.length]=S)}return p}var Fd=O1(),u1=O1(!0);function ir(s,a){return s&&Fd(s,a,pt)}function Bd(s,a){return s&&u1(s,a,pt)}function Ql(s,a){return Xr(a,function(l){return kr(s[l])})}function Xi(s,a){a=ri(a,s);for(var l=0,f=a.length;s!=null&&l<f;)s=s[or(a[l++])];return l&&l==f?s:n}function l1(s,a,l){var f=a(s);return ce(s)?f:Jr(f,l(s))}function Wt(s){return s==null?s===n?ex:JA:Ki&&Ki in Oe(s)?aD(s):_D(s)}function Vd(s,a){return s>a}function kR(s,a){return s!=null&&De.call(s,a)}function AR(s,a){return s!=null&&a in Oe(s)}function xR(s,a,l){return s>=xt(a,l)&&s<lt(a,l)}function zd(s,a,l){for(var f=l?Td:Rl,p=s[0].length,v=s.length,_=v,S=R(v),k=1/0,O=[];_--;){var P=s[_];_&&a&&(P=ze(P,cn(a))),k=xt(P.length,k),S[_]=!l&&(a||p>=120&&P.length>=120)?new Qi(_&&P):n}P=s[0];var $=-1,V=S[0];e:for(;++$<p&&O.length<k;){var X=P[$],ne=a?a(X):X;if(X=l||X!==0?X:0,!(V?da(V,ne):f(O,ne,l))){for(_=v;--_;){var pe=S[_];if(!(pe?da(pe,ne):f(s[_],ne,l)))continue e}V&&V.push(ne),O.push(X)}}return O}function NR(s,a,l,f){return ir(s,function(p,v,_){a(f,l(p),v,_)}),f}function Ea(s,a,l){a=ri(a,s),s=Y1(s,a);var f=s==null?s:s[or(Rn(a))];return f==null?n:ln(f,s,l)}function c1(s){return Qe(s)&&Wt(s)==rr}function RR(s){return Qe(s)&&Wt(s)==fa}function DR(s){return Qe(s)&&Wt(s)==aa}function Sa(s,a,l,f,p){return s===a?!0:s==null||a==null||!Qe(s)&&!Qe(a)?s!==s&&a!==a:LR(s,a,l,f,Sa,p)}function LR(s,a,l,f,p,v){var _=ce(s),S=ce(a),k=_?In:Nt(s),O=S?In:Nt(a);k=k==rr?wr:k,O=O==rr?wr:O;var P=k==wr,$=O==wr,V=k==O;if(V&&si(s)){if(!si(a))return!1;_=!0,P=!1}if(V&&!P)return v||(v=new Hn),_||Gs(s)?W1(s,a,l,f,p,v):sD(s,a,k,l,f,p,v);if(!(l&x)){var X=P&&De.call(s,"__wrapped__"),ne=$&&De.call(a,"__wrapped__");if(X||ne){var pe=X?s.value():s,re=ne?a.value():a;return v||(v=new Hn),p(pe,re,l,f,v)}}return V?(v||(v=new Hn),oD(s,a,l,f,p,v)):!1}function OR(s){return Qe(s)&&Nt(s)==Vn}function Wd(s,a,l,f){var p=l.length,v=p,_=!f;if(s==null)return!v;for(s=Oe(s);p--;){var S=l[p];if(_&&S[2]?S[1]!==s[S[0]]:!(S[0]in s))return!1}for(;++p<v;){S=l[p];var k=S[0],O=s[k],P=S[1];if(_&&S[2]){if(O===n&&!(k in s))return!1}else{var $=new Hn;if(f)var V=f(O,P,k,s,a,$);if(!(V===n?Sa(P,O,x|N,f,$):V))return!1}}return!0}function h1(s){if(!je(s)||gD(s))return!1;var a=kr(s)?ON:Ix;return a.test(Zi(s))}function PR(s){return Qe(s)&&Wt(s)==la}function MR(s){return Qe(s)&&Nt(s)==zn}function $R(s){return Qe(s)&&fc(s.length)&&!!be[Wt(s)]}function f1(s){return typeof s=="function"?s:s==null?en:typeof s=="object"?ce(s)?g1(s[0],s[1]):p1(s):Pw(s)}function Hd(s){if(!Ca(s))return FN(s);var a=[];for(var l in Oe(s))De.call(s,l)&&l!="constructor"&&a.push(l);return a}function UR(s){if(!je(s))return wD(s);var a=Ca(s),l=[];for(var f in s)f=="constructor"&&(a||!De.call(s,f))||l.push(f);return l}function jd(s,a){return s<a}function d1(s,a){var l=-1,f=Jt(s)?R(s.length):[];return ti(s,function(p,v,_){f[++l]=a(p,v,_)}),f}function p1(s){var a=op(s);return a.length==1&&a[0][2]?G1(a[0][0],a[0][1]):function(l){return l===s||Wd(l,s,a)}}function g1(s,a){return up(s)&&K1(a)?G1(or(s),a):function(l){var f=yp(l,s);return f===n&&f===a?wp(l,s):Sa(a,f,x|N)}}function Yl(s,a,l,f,p){s!==a&&Fd(a,function(v,_){if(p||(p=new Hn),je(v))bR(s,a,_,l,Yl,f,p);else{var S=f?f(cp(s,_),v,_+"",s,a,p):n;S===n&&(S=v),Ud(s,_,S)}},Zt)}function bR(s,a,l,f,p,v,_){var S=cp(s,l),k=cp(a,l),O=_.get(k);if(O){Ud(s,l,O);return}var P=v?v(S,k,l+"",s,a,_):n,$=P===n;if($){var V=ce(k),X=!V&&si(k),ne=!V&&!X&&Gs(k);P=k,V||X||ne?ce(S)?P=S:Je(S)?P=Xt(S):X?($=!1,P=A1(k,!0)):ne?($=!1,P=x1(k,!0)):P=[]:Aa(k)||es(k)?(P=S,es(S)?P=Tw(S):(!je(S)||kr(S))&&(P=q1(k))):$=!1}$&&(_.set(k,P),p(P,k,f,v,_),_.delete(k)),Ud(s,l,P)}function m1(s,a){var l=s.length;if(l)return a+=a<0?l:0,Cr(a,l)?s[a]:n}function v1(s,a,l){a.length?a=ze(a,function(v){return ce(v)?function(_){return Xi(_,v.length===1?v[0]:v)}:v}):a=[en];var f=-1;a=ze(a,cn(te()));var p=d1(s,function(v,_,S){var k=ze(a,function(O){return O(v)});return{criteria:k,index:++f,value:v}});return hN(p,function(v,_){return XR(v,_,l)})}function FR(s,a){return y1(s,a,function(l,f){return wp(s,f)})}function y1(s,a,l){for(var f=-1,p=a.length,v={};++f<p;){var _=a[f],S=Xi(s,_);l(S,_)&&Ia(v,ri(_,s),S)}return v}function BR(s){return function(a){return Xi(a,s)}}function qd(s,a,l,f){var p=f?cN:Us,v=-1,_=a.length,S=s;for(s===a&&(a=Xt(a)),l&&(S=ze(s,cn(l)));++v<_;)for(var k=0,O=a[v],P=l?l(O):O;(k=p(S,P,k,f))>-1;)S!==s&&Bl.call(S,k,1),Bl.call(s,k,1);return s}function w1(s,a){for(var l=s?a.length:0,f=l-1;l--;){var p=a[l];if(l==f||p!==v){var v=p;Cr(p)?Bl.call(s,p,1):Yd(s,p)}}return s}function Kd(s,a){return s+Wl(Z0()*(a-s+1))}function VR(s,a,l,f){for(var p=-1,v=lt(zl((a-s)/(l||1)),0),_=R(v);v--;)_[f?v:++p]=s,s+=l;return _}function Gd(s,a){var l="";if(!s||a<1||a>H)return l;do a%2&&(l+=s),a=Wl(a/2),a&&(s+=s);while(a);return l}function me(s,a){return hp(Q1(s,a,en),s+"")}function zR(s){return n1(Qs(s))}function WR(s,a){var l=Qs(s);return oc(l,Yi(a,0,l.length))}function Ia(s,a,l,f){if(!je(s))return s;a=ri(a,s);for(var p=-1,v=a.length,_=v-1,S=s;S!=null&&++p<v;){var k=or(a[p]),O=l;if(k==="__proto__"||k==="constructor"||k==="prototype")return s;if(p!=_){var P=S[k];O=f?f(P,k,S):n,O===n&&(O=je(P)?P:Cr(a[p+1])?[]:{})}wa(S,k,O),S=S[k]}return s}var _1=Hl?function(s,a){return Hl.set(s,a),s}:en,HR=Vl?function(s,a){return Vl(s,"toString",{configurable:!0,enumerable:!1,value:Ep(a),writable:!0})}:en;function jR(s){return oc(Qs(s))}function Nn(s,a,l){var f=-1,p=s.length;a<0&&(a=-a>p?0:p+a),l=l>p?p:l,l<0&&(l+=p),p=a>l?0:l-a>>>0,a>>>=0;for(var v=R(p);++f<p;)v[f]=s[f+a];return v}function qR(s,a){var l;return ti(s,function(f,p,v){return l=a(f,p,v),!l}),!!l}function Xl(s,a,l){var f=0,p=s==null?f:s.length;if(typeof a=="number"&&a===a&&p<=Os){for(;f<p;){var v=f+p>>>1,_=s[v];_!==null&&!fn(_)&&(l?_<=a:_<a)?f=v+1:p=v}return p}return Qd(s,a,en,l)}function Qd(s,a,l,f){var p=0,v=s==null?0:s.length;if(v===0)return 0;a=l(a);for(var _=a!==a,S=a===null,k=fn(a),O=a===n;p<v;){var P=Wl((p+v)/2),$=l(s[P]),V=$!==n,X=$===null,ne=$===$,pe=fn($);if(_)var re=f||ne;else O?re=ne&&(f||V):S?re=ne&&V&&(f||!X):k?re=ne&&V&&!X&&(f||!pe):X||pe?re=!1:re=f?$<=a:$<a;re?p=P+1:v=P}return xt(v,tt)}function E1(s,a){for(var l=-1,f=s.length,p=0,v=[];++l<f;){var _=s[l],S=a?a(_):_;if(!l||!jn(S,k)){var k=S;v[p++]=_===0?0:_}}return v}function S1(s){return typeof s=="number"?s:fn(s)?le:+s}function hn(s){if(typeof s=="string")return s;if(ce(s))return ze(s,hn)+"";if(fn(s))return e1?e1.call(s):"";var a=s+"";return a=="0"&&1/s==-Bn?"-0":a}function ni(s,a,l){var f=-1,p=Rl,v=s.length,_=!0,S=[],k=S;if(l)_=!1,p=Td;else if(v>=i){var O=a?null:rD(s);if(O)return Ll(O);_=!1,p=da,k=new Qi}else k=a?[]:S;e:for(;++f<v;){var P=s[f],$=a?a(P):P;if(P=l||P!==0?P:0,_&&$===$){for(var V=k.length;V--;)if(k[V]===$)continue e;a&&k.push($),S.push(P)}else p(k,$,l)||(k!==S&&k.push($),S.push(P))}return S}function Yd(s,a){return a=ri(a,s),s=Y1(s,a),s==null||delete s[or(Rn(a))]}function I1(s,a,l,f){return Ia(s,a,l(Xi(s,a)),f)}function Jl(s,a,l,f){for(var p=s.length,v=f?p:-1;(f?v--:++v<p)&&a(s[v],v,s););return l?Nn(s,f?0:v,f?v+1:p):Nn(s,f?v+1:0,f?p:v)}function T1(s,a){var l=s;return l instanceof ye&&(l=l.value()),Cd(a,function(f,p){return p.func.apply(p.thisArg,Jr([f],p.args))},l)}function Xd(s,a,l){var f=s.length;if(f<2)return f?ni(s[0]):[];for(var p=-1,v=R(f);++p<f;)for(var _=s[p],S=-1;++S<f;)S!=p&&(v[p]=_a(v[p]||_,s[S],a,l));return ni(_t(v,1),a,l)}function C1(s,a,l){for(var f=-1,p=s.length,v=a.length,_={};++f<p;){var S=f<v?a[f]:n;l(_,s[f],S)}return _}function Jd(s){return Je(s)?s:[]}function Zd(s){return typeof s=="function"?s:en}function ri(s,a){return ce(s)?s:up(s,a)?[s]:ew(xe(s))}var KR=me;function ii(s,a,l){var f=s.length;return l=l===n?f:l,!a&&l>=f?s:Nn(s,a,l)}var k1=PN||function(s){return wt.clearTimeout(s)};function A1(s,a){if(a)return s.slice();var l=s.length,f=G0?G0(l):new s.constructor(l);return s.copy(f),f}function ep(s){var a=new s.constructor(s.byteLength);return new bl(a).set(new bl(s)),a}function GR(s,a){var l=a?ep(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.byteLength)}function QR(s){var a=new s.constructor(s.source,c0.exec(s));return a.lastIndex=s.lastIndex,a}function YR(s){return ya?Oe(ya.call(s)):{}}function x1(s,a){var l=a?ep(s.buffer):s.buffer;return new s.constructor(l,s.byteOffset,s.length)}function N1(s,a){if(s!==a){var l=s!==n,f=s===null,p=s===s,v=fn(s),_=a!==n,S=a===null,k=a===a,O=fn(a);if(!S&&!O&&!v&&s>a||v&&_&&k&&!S&&!O||f&&_&&k||!l&&k||!p)return 1;if(!f&&!v&&!O&&s<a||O&&l&&p&&!f&&!v||S&&l&&p||!_&&p||!k)return-1}return 0}function XR(s,a,l){for(var f=-1,p=s.criteria,v=a.criteria,_=p.length,S=l.length;++f<_;){var k=N1(p[f],v[f]);if(k){if(f>=S)return k;var O=l[f];return k*(O=="desc"?-1:1)}}return s.index-a.index}function R1(s,a,l,f){for(var p=-1,v=s.length,_=l.length,S=-1,k=a.length,O=lt(v-_,0),P=R(k+O),$=!f;++S<k;)P[S]=a[S];for(;++p<_;)($||p<v)&&(P[l[p]]=s[p]);for(;O--;)P[S++]=s[p++];return P}function D1(s,a,l,f){for(var p=-1,v=s.length,_=-1,S=l.length,k=-1,O=a.length,P=lt(v-S,0),$=R(P+O),V=!f;++p<P;)$[p]=s[p];for(var X=p;++k<O;)$[X+k]=a[k];for(;++_<S;)(V||p<v)&&($[X+l[_]]=s[p++]);return $}function Xt(s,a){var l=-1,f=s.length;for(a||(a=R(f));++l<f;)a[l]=s[l];return a}function sr(s,a,l,f){var p=!l;l||(l={});for(var v=-1,_=a.length;++v<_;){var S=a[v],k=f?f(l[S],s[S],S,l,s):n;k===n&&(k=s[S]),p?Sr(l,S,k):wa(l,S,k)}return l}function JR(s,a){return sr(s,ap(s),a)}function ZR(s,a){return sr(s,H1(s),a)}function Zl(s,a){return function(l,f){var p=ce(l)?iN:ER,v=a?a():{};return p(l,s,te(f,2),v)}}function js(s){return me(function(a,l){var f=-1,p=l.length,v=p>1?l[p-1]:n,_=p>2?l[2]:n;for(v=s.length>3&&typeof v=="function"?(p--,v):n,_&&Ht(l[0],l[1],_)&&(v=p<3?n:v,p=1),a=Oe(a);++f<p;){var S=l[f];S&&s(a,S,f,v)}return a})}function L1(s,a){return function(l,f){if(l==null)return l;if(!Jt(l))return s(l,f);for(var p=l.length,v=a?p:-1,_=Oe(l);(a?v--:++v<p)&&f(_[v],v,_)!==!1;);return l}}function O1(s){return function(a,l,f){for(var p=-1,v=Oe(a),_=f(a),S=_.length;S--;){var k=_[s?S:++p];if(l(v[k],k,v)===!1)break}return a}}function eD(s,a,l){var f=a&U,p=Ta(s);function v(){var _=this&&this!==wt&&this instanceof v?p:s;return _.apply(f?l:this,arguments)}return v}function P1(s){return function(a){a=xe(a);var l=bs(a)?Wn(a):n,f=l?l[0]:a.charAt(0),p=l?ii(l,1).join(""):a.slice(1);return f[s]()+p}}function qs(s){return function(a){return Cd(Lw(Dw(a).replace(Hx,"")),s,"")}}function Ta(s){return function(){var a=arguments;switch(a.length){case 0:return new s;case 1:return new s(a[0]);case 2:return new s(a[0],a[1]);case 3:return new s(a[0],a[1],a[2]);case 4:return new s(a[0],a[1],a[2],a[3]);case 5:return new s(a[0],a[1],a[2],a[3],a[4]);case 6:return new s(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new s(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var l=Hs(s.prototype),f=s.apply(l,a);return je(f)?f:l}}function tD(s,a,l){var f=Ta(s);function p(){for(var v=arguments.length,_=R(v),S=v,k=Ks(p);S--;)_[S]=arguments[S];var O=v<3&&_[0]!==k&&_[v-1]!==k?[]:Zr(_,k);if(v-=O.length,v<l)return F1(s,a,ec,p.placeholder,n,_,O,n,n,l-v);var P=this&&this!==wt&&this instanceof p?f:s;return ln(P,this,_)}return p}function M1(s){return function(a,l,f){var p=Oe(a);if(!Jt(a)){var v=te(l,3);a=pt(a),l=function(S){return v(p[S],S,p)}}var _=s(a,l,f);return _>-1?p[v?a[_]:_]:n}}function $1(s){return Tr(function(a){var l=a.length,f=l,p=An.prototype.thru;for(s&&a.reverse();f--;){var v=a[f];if(typeof v!="function")throw new kn(u);if(p&&!_&&ic(v)=="wrapper")var _=new An([],!0)}for(f=_?f:l;++f<l;){v=a[f];var S=ic(v),k=S=="wrapper"?sp(v):n;k&&lp(k[0])&&k[1]==(W|T|B|Q)&&!k[4].length&&k[9]==1?_=_[ic(k[0])].apply(_,k[3]):_=v.length==1&&lp(v)?_[S]():_.thru(v)}return function(){var O=arguments,P=O[0];if(_&&O.length==1&&ce(P))return _.plant(P).value();for(var $=0,V=l?a[$].apply(this,O):P;++$<l;)V=a[$].call(this,V);return V}})}function ec(s,a,l,f,p,v,_,S,k,O){var P=a&W,$=a&U,V=a&I,X=a&(T|L),ne=a&Re,pe=V?n:Ta(s);function re(){for(var ve=arguments.length,Ee=R(ve),dn=ve;dn--;)Ee[dn]=arguments[dn];if(X)var jt=Ks(re),pn=dN(Ee,jt);if(f&&(Ee=R1(Ee,f,p,X)),v&&(Ee=D1(Ee,v,_,X)),ve-=pn,X&&ve<O){var Ze=Zr(Ee,jt);return F1(s,a,ec,re.placeholder,l,Ee,Ze,S,k,O-ve)}var qn=$?l:this,xr=V?qn[s]:s;return ve=Ee.length,S?Ee=ED(Ee,S):ne&&ve>1&&Ee.reverse(),P&&k<ve&&(Ee.length=k),this&&this!==wt&&this instanceof re&&(xr=pe||Ta(xr)),xr.apply(qn,Ee)}return re}function U1(s,a){return function(l,f){return NR(l,s,a(f),{})}}function tc(s,a){return function(l,f){var p;if(l===n&&f===n)return a;if(l!==n&&(p=l),f!==n){if(p===n)return f;typeof l=="string"||typeof f=="string"?(l=hn(l),f=hn(f)):(l=S1(l),f=S1(f)),p=s(l,f)}return p}}function tp(s){return Tr(function(a){return a=ze(a,cn(te())),me(function(l){var f=this;return s(a,function(p){return ln(p,f,l)})})})}function nc(s,a){a=a===n?" ":hn(a);var l=a.length;if(l<2)return l?Gd(a,s):a;var f=Gd(a,zl(s/Fs(a)));return bs(a)?ii(Wn(f),0,s).join(""):f.slice(0,s)}function nD(s,a,l,f){var p=a&U,v=Ta(s);function _(){for(var S=-1,k=arguments.length,O=-1,P=f.length,$=R(P+k),V=this&&this!==wt&&this instanceof _?v:s;++O<P;)$[O]=f[O];for(;k--;)$[O++]=arguments[++S];return ln(V,p?l:this,$)}return _}function b1(s){return function(a,l,f){return f&&typeof f!="number"&&Ht(a,l,f)&&(l=f=n),a=Ar(a),l===n?(l=a,a=0):l=Ar(l),f=f===n?a<l?1:-1:Ar(f),VR(a,l,f,s)}}function rc(s){return function(a,l){return typeof a=="string"&&typeof l=="string"||(a=Dn(a),l=Dn(l)),s(a,l)}}function F1(s,a,l,f,p,v,_,S,k,O){var P=a&T,$=P?_:n,V=P?n:_,X=P?v:n,ne=P?n:v;a|=P?B:j,a&=~(P?j:B),a&E||(a&=~(U|I));var pe=[s,a,p,X,$,ne,V,S,k,O],re=l.apply(n,pe);return lp(s)&&X1(re,pe),re.placeholder=f,J1(re,s,a)}function np(s){var a=ut[s];return function(l,f){if(l=Dn(l),f=f==null?0:xt(de(f),292),f&&J0(l)){var p=(xe(l)+"e").split("e"),v=a(p[0]+"e"+(+p[1]+f));return p=(xe(v)+"e").split("e"),+(p[0]+"e"+(+p[1]-f))}return a(l)}}var rD=zs&&1/Ll(new zs([,-0]))[1]==Bn?function(s){return new zs(s)}:Tp;function B1(s){return function(a){var l=Nt(a);return l==Vn?Ld(a):l==zn?_N(a):fN(a,s(a))}}function Ir(s,a,l,f,p,v,_,S){var k=a&I;if(!k&&typeof s!="function")throw new kn(u);var O=f?f.length:0;if(O||(a&=~(B|j),f=p=n),_=_===n?_:lt(de(_),0),S=S===n?S:de(S),O-=p?p.length:0,a&j){var P=f,$=p;f=p=n}var V=k?n:sp(s),X=[s,a,l,f,p,P,$,v,_,S];if(V&&yD(X,V),s=X[0],a=X[1],l=X[2],f=X[3],p=X[4],S=X[9]=X[9]===n?k?0:s.length:lt(X[9]-O,0),!S&&a&(T|L)&&(a&=~(T|L)),!a||a==U)var ne=eD(s,a,l);else a==T||a==L?ne=tD(s,a,S):(a==B||a==(U|B))&&!p.length?ne=nD(s,a,l,f):ne=ec.apply(n,X);var pe=V?_1:X1;return J1(pe(ne,X),s,a)}function V1(s,a,l,f){return s===n||jn(s,Vs[l])&&!De.call(f,l)?a:s}function z1(s,a,l,f,p,v){return je(s)&&je(a)&&(v.set(a,s),Yl(s,a,n,z1,v),v.delete(a)),s}function iD(s){return Aa(s)?n:s}function W1(s,a,l,f,p,v){var _=l&x,S=s.length,k=a.length;if(S!=k&&!(_&&k>S))return!1;var O=v.get(s),P=v.get(a);if(O&&P)return O==a&&P==s;var $=-1,V=!0,X=l&N?new Qi:n;for(v.set(s,a),v.set(a,s);++$<S;){var ne=s[$],pe=a[$];if(f)var re=_?f(pe,ne,$,a,s,v):f(ne,pe,$,s,a,v);if(re!==n){if(re)continue;V=!1;break}if(X){if(!kd(a,function(ve,Ee){if(!da(X,Ee)&&(ne===ve||p(ne,ve,l,f,v)))return X.push(Ee)})){V=!1;break}}else if(!(ne===pe||p(ne,pe,l,f,v))){V=!1;break}}return v.delete(s),v.delete(a),V}function sD(s,a,l,f,p,v,_){switch(l){case Ms:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case fa:return!(s.byteLength!=a.byteLength||!v(new bl(s),new bl(a)));case oa:case aa:case ua:return jn(+s,+a);case Tl:return s.name==a.name&&s.message==a.message;case la:case ca:return s==a+"";case Vn:var S=Ld;case zn:var k=f&x;if(S||(S=Ll),s.size!=a.size&&!k)return!1;var O=_.get(s);if(O)return O==a;f|=N,_.set(s,a);var P=W1(S(s),S(a),f,p,v,_);return _.delete(s),P;case kl:if(ya)return ya.call(s)==ya.call(a)}return!1}function oD(s,a,l,f,p,v){var _=l&x,S=rp(s),k=S.length,O=rp(a),P=O.length;if(k!=P&&!_)return!1;for(var $=k;$--;){var V=S[$];if(!(_?V in a:De.call(a,V)))return!1}var X=v.get(s),ne=v.get(a);if(X&&ne)return X==a&&ne==s;var pe=!0;v.set(s,a),v.set(a,s);for(var re=_;++$<k;){V=S[$];var ve=s[V],Ee=a[V];if(f)var dn=_?f(Ee,ve,V,a,s,v):f(ve,Ee,V,s,a,v);if(!(dn===n?ve===Ee||p(ve,Ee,l,f,v):dn)){pe=!1;break}re||(re=V=="constructor")}if(pe&&!re){var jt=s.constructor,pn=a.constructor;jt!=pn&&"constructor"in s&&"constructor"in a&&!(typeof jt=="function"&&jt instanceof jt&&typeof pn=="function"&&pn instanceof pn)&&(pe=!1)}return v.delete(s),v.delete(a),pe}function Tr(s){return hp(Q1(s,n,iw),s+"")}function rp(s){return l1(s,pt,ap)}function ip(s){return l1(s,Zt,H1)}var sp=Hl?function(s){return Hl.get(s)}:Tp;function ic(s){for(var a=s.name+"",l=Ws[a],f=De.call(Ws,a)?l.length:0;f--;){var p=l[f],v=p.func;if(v==null||v==s)return p.name}return a}function Ks(s){var a=De.call(m,"placeholder")?m:s;return a.placeholder}function te(){var s=m.iteratee||Sp;return s=s===Sp?f1:s,arguments.length?s(arguments[0],arguments[1]):s}function sc(s,a){var l=s.__data__;return pD(a)?l[typeof a=="string"?"string":"hash"]:l.map}function op(s){for(var a=pt(s),l=a.length;l--;){var f=a[l],p=s[f];a[l]=[f,p,K1(p)]}return a}function Ji(s,a){var l=vN(s,a);return h1(l)?l:n}function aD(s){var a=De.call(s,Ki),l=s[Ki];try{s[Ki]=n;var f=!0}catch{}var p=$l.call(s);return f&&(a?s[Ki]=l:delete s[Ki]),p}var ap=Pd?function(s){return s==null?[]:(s=Oe(s),Xr(Pd(s),function(a){return Y0.call(s,a)}))}:Cp,H1=Pd?function(s){for(var a=[];s;)Jr(a,ap(s)),s=Fl(s);return a}:Cp,Nt=Wt;(Md&&Nt(new Md(new ArrayBuffer(1)))!=Ms||ga&&Nt(new ga)!=Vn||$d&&Nt($d.resolve())!=o0||zs&&Nt(new zs)!=zn||ma&&Nt(new ma)!=ha)&&(Nt=function(s){var a=Wt(s),l=a==wr?s.constructor:n,f=l?Zi(l):"";if(f)switch(f){case WN:return Ms;case HN:return Vn;case jN:return o0;case qN:return zn;case KN:return ha}return a});function uD(s,a,l){for(var f=-1,p=l.length;++f<p;){var v=l[f],_=v.size;switch(v.type){case"drop":s+=_;break;case"dropRight":a-=_;break;case"take":a=xt(a,s+_);break;case"takeRight":s=lt(s,a-_);break}}return{start:s,end:a}}function lD(s){var a=s.match(gx);return a?a[1].split(mx):[]}function j1(s,a,l){a=ri(a,s);for(var f=-1,p=a.length,v=!1;++f<p;){var _=or(a[f]);if(!(v=s!=null&&l(s,_)))break;s=s[_]}return v||++f!=p?v:(p=s==null?0:s.length,!!p&&fc(p)&&Cr(_,p)&&(ce(s)||es(s)))}function cD(s){var a=s.length,l=new s.constructor(a);return a&&typeof s[0]=="string"&&De.call(s,"index")&&(l.index=s.index,l.input=s.input),l}function q1(s){return typeof s.constructor=="function"&&!Ca(s)?Hs(Fl(s)):{}}function hD(s,a,l){var f=s.constructor;switch(a){case fa:return ep(s);case oa:case aa:return new f(+s);case Ms:return GR(s,l);case od:case ad:case ud:case ld:case cd:case hd:case fd:case dd:case pd:return x1(s,l);case Vn:return new f;case ua:case ca:return new f(s);case la:return QR(s);case zn:return new f;case kl:return YR(s)}}function fD(s,a){var l=a.length;if(!l)return s;var f=l-1;return a[f]=(l>1?"& ":"")+a[f],a=a.join(l>2?", ":" "),s.replace(px,`{
/* [wrapped with `+a+`] */
`)}function dD(s){return ce(s)||es(s)||!!(X0&&s&&s[X0])}function Cr(s,a){var l=typeof s;return a=a??H,!!a&&(l=="number"||l!="symbol"&&Cx.test(s))&&s>-1&&s%1==0&&s<a}function Ht(s,a,l){if(!je(l))return!1;var f=typeof a;return(f=="number"?Jt(l)&&Cr(a,l.length):f=="string"&&a in l)?jn(l[a],s):!1}function up(s,a){if(ce(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||fn(s)?!0:cx.test(s)||!lx.test(s)||a!=null&&s in Oe(a)}function pD(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}function lp(s){var a=ic(s),l=m[a];if(typeof l!="function"||!(a in ye.prototype))return!1;if(s===l)return!0;var f=sp(l);return!!f&&s===f[0]}function gD(s){return!!K0&&K0 in s}var mD=Pl?kr:kp;function Ca(s){var a=s&&s.constructor,l=typeof a=="function"&&a.prototype||Vs;return s===l}function K1(s){return s===s&&!je(s)}function G1(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==n||s in Oe(l))}}function vD(s){var a=cc(s,function(f){return l.size===d&&l.clear(),f}),l=a.cache;return a}function yD(s,a){var l=s[1],f=a[1],p=l|f,v=p<(U|I|W),_=f==W&&l==T||f==W&&l==Q&&s[7].length<=a[8]||f==(W|Q)&&a[7].length<=a[8]&&l==T;if(!(v||_))return s;f&U&&(s[2]=a[2],p|=l&U?0:E);var S=a[3];if(S){var k=s[3];s[3]=k?R1(k,S,a[4]):S,s[4]=k?Zr(s[3],g):a[4]}return S=a[5],S&&(k=s[5],s[5]=k?D1(k,S,a[6]):S,s[6]=k?Zr(s[5],g):a[6]),S=a[7],S&&(s[7]=S),f&W&&(s[8]=s[8]==null?a[8]:xt(s[8],a[8])),s[9]==null&&(s[9]=a[9]),s[0]=a[0],s[1]=p,s}function wD(s){var a=[];if(s!=null)for(var l in Oe(s))a.push(l);return a}function _D(s){return $l.call(s)}function Q1(s,a,l){return a=lt(a===n?s.length-1:a,0),function(){for(var f=arguments,p=-1,v=lt(f.length-a,0),_=R(v);++p<v;)_[p]=f[a+p];p=-1;for(var S=R(a+1);++p<a;)S[p]=f[p];return S[a]=l(_),ln(s,this,S)}}function Y1(s,a){return a.length<2?s:Xi(s,Nn(a,0,-1))}function ED(s,a){for(var l=s.length,f=xt(a.length,l),p=Xt(s);f--;){var v=a[f];s[f]=Cr(v,l)?p[v]:n}return s}function cp(s,a){if(!(a==="constructor"&&typeof s[a]=="function")&&a!="__proto__")return s[a]}var X1=Z1(_1),ka=$N||function(s,a){return wt.setTimeout(s,a)},hp=Z1(HR);function J1(s,a,l){var f=a+"";return hp(s,fD(f,SD(lD(f),l)))}function Z1(s){var a=0,l=0;return function(){var f=BN(),p=ji-(f-l);if(l=f,p>0){if(++a>=Hi)return arguments[0]}else a=0;return s.apply(n,arguments)}}function oc(s,a){var l=-1,f=s.length,p=f-1;for(a=a===n?f:a;++l<a;){var v=Kd(l,p),_=s[v];s[v]=s[l],s[l]=_}return s.length=a,s}var ew=vD(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(hx,function(l,f,p,v){a.push(p?v.replace(wx,"$1"):f||l)}),a});function or(s){if(typeof s=="string"||fn(s))return s;var a=s+"";return a=="0"&&1/s==-Bn?"-0":a}function Zi(s){if(s!=null){try{return Ml.call(s)}catch{}try{return s+""}catch{}}return""}function SD(s,a){return Cn(yr,function(l){var f="_."+l[0];a&l[1]&&!Rl(s,f)&&s.push(f)}),s.sort()}function tw(s){if(s instanceof ye)return s.clone();var a=new An(s.__wrapped__,s.__chain__);return a.__actions__=Xt(s.__actions__),a.__index__=s.__index__,a.__values__=s.__values__,a}function ID(s,a,l){(l?Ht(s,a,l):a===n)?a=1:a=lt(de(a),0);var f=s==null?0:s.length;if(!f||a<1)return[];for(var p=0,v=0,_=R(zl(f/a));p<f;)_[v++]=Nn(s,p,p+=a);return _}function TD(s){for(var a=-1,l=s==null?0:s.length,f=0,p=[];++a<l;){var v=s[a];v&&(p[f++]=v)}return p}function CD(){var s=arguments.length;if(!s)return[];for(var a=R(s-1),l=arguments[0],f=s;f--;)a[f-1]=arguments[f];return Jr(ce(l)?Xt(l):[l],_t(a,1))}var kD=me(function(s,a){return Je(s)?_a(s,_t(a,1,Je,!0)):[]}),AD=me(function(s,a){var l=Rn(a);return Je(l)&&(l=n),Je(s)?_a(s,_t(a,1,Je,!0),te(l,2)):[]}),xD=me(function(s,a){var l=Rn(a);return Je(l)&&(l=n),Je(s)?_a(s,_t(a,1,Je,!0),n,l):[]});function ND(s,a,l){var f=s==null?0:s.length;return f?(a=l||a===n?1:de(a),Nn(s,a<0?0:a,f)):[]}function RD(s,a,l){var f=s==null?0:s.length;return f?(a=l||a===n?1:de(a),a=f-a,Nn(s,0,a<0?0:a)):[]}function DD(s,a){return s&&s.length?Jl(s,te(a,3),!0,!0):[]}function LD(s,a){return s&&s.length?Jl(s,te(a,3),!0):[]}function OD(s,a,l,f){var p=s==null?0:s.length;return p?(l&&typeof l!="number"&&Ht(s,a,l)&&(l=0,f=p),CR(s,a,l,f)):[]}function nw(s,a,l){var f=s==null?0:s.length;if(!f)return-1;var p=l==null?0:de(l);return p<0&&(p=lt(f+p,0)),Dl(s,te(a,3),p)}function rw(s,a,l){var f=s==null?0:s.length;if(!f)return-1;var p=f-1;return l!==n&&(p=de(l),p=l<0?lt(f+p,0):xt(p,f-1)),Dl(s,te(a,3),p,!0)}function iw(s){var a=s==null?0:s.length;return a?_t(s,1):[]}function PD(s){var a=s==null?0:s.length;return a?_t(s,Bn):[]}function MD(s,a){var l=s==null?0:s.length;return l?(a=a===n?1:de(a),_t(s,a)):[]}function $D(s){for(var a=-1,l=s==null?0:s.length,f={};++a<l;){var p=s[a];f[p[0]]=p[1]}return f}function sw(s){return s&&s.length?s[0]:n}function UD(s,a,l){var f=s==null?0:s.length;if(!f)return-1;var p=l==null?0:de(l);return p<0&&(p=lt(f+p,0)),Us(s,a,p)}function bD(s){var a=s==null?0:s.length;return a?Nn(s,0,-1):[]}var FD=me(function(s){var a=ze(s,Jd);return a.length&&a[0]===s[0]?zd(a):[]}),BD=me(function(s){var a=Rn(s),l=ze(s,Jd);return a===Rn(l)?a=n:l.pop(),l.length&&l[0]===s[0]?zd(l,te(a,2)):[]}),VD=me(function(s){var a=Rn(s),l=ze(s,Jd);return a=typeof a=="function"?a:n,a&&l.pop(),l.length&&l[0]===s[0]?zd(l,n,a):[]});function zD(s,a){return s==null?"":bN.call(s,a)}function Rn(s){var a=s==null?0:s.length;return a?s[a-1]:n}function WD(s,a,l){var f=s==null?0:s.length;if(!f)return-1;var p=f;return l!==n&&(p=de(l),p=p<0?lt(f+p,0):xt(p,f-1)),a===a?SN(s,a,p):Dl(s,F0,p,!0)}function HD(s,a){return s&&s.length?m1(s,de(a)):n}var jD=me(ow);function ow(s,a){return s&&s.length&&a&&a.length?qd(s,a):s}function qD(s,a,l){return s&&s.length&&a&&a.length?qd(s,a,te(l,2)):s}function KD(s,a,l){return s&&s.length&&a&&a.length?qd(s,a,n,l):s}var GD=Tr(function(s,a){var l=s==null?0:s.length,f=bd(s,a);return w1(s,ze(a,function(p){return Cr(p,l)?+p:p}).sort(N1)),f});function QD(s,a){var l=[];if(!(s&&s.length))return l;var f=-1,p=[],v=s.length;for(a=te(a,3);++f<v;){var _=s[f];a(_,f,s)&&(l.push(_),p.push(f))}return w1(s,p),l}function fp(s){return s==null?s:zN.call(s)}function YD(s,a,l){var f=s==null?0:s.length;return f?(l&&typeof l!="number"&&Ht(s,a,l)?(a=0,l=f):(a=a==null?0:de(a),l=l===n?f:de(l)),Nn(s,a,l)):[]}function XD(s,a){return Xl(s,a)}function JD(s,a,l){return Qd(s,a,te(l,2))}function ZD(s,a){var l=s==null?0:s.length;if(l){var f=Xl(s,a);if(f<l&&jn(s[f],a))return f}return-1}function eL(s,a){return Xl(s,a,!0)}function tL(s,a,l){return Qd(s,a,te(l,2),!0)}function nL(s,a){var l=s==null?0:s.length;if(l){var f=Xl(s,a,!0)-1;if(jn(s[f],a))return f}return-1}function rL(s){return s&&s.length?E1(s):[]}function iL(s,a){return s&&s.length?E1(s,te(a,2)):[]}function sL(s){var a=s==null?0:s.length;return a?Nn(s,1,a):[]}function oL(s,a,l){return s&&s.length?(a=l||a===n?1:de(a),Nn(s,0,a<0?0:a)):[]}function aL(s,a,l){var f=s==null?0:s.length;return f?(a=l||a===n?1:de(a),a=f-a,Nn(s,a<0?0:a,f)):[]}function uL(s,a){return s&&s.length?Jl(s,te(a,3),!1,!0):[]}function lL(s,a){return s&&s.length?Jl(s,te(a,3)):[]}var cL=me(function(s){return ni(_t(s,1,Je,!0))}),hL=me(function(s){var a=Rn(s);return Je(a)&&(a=n),ni(_t(s,1,Je,!0),te(a,2))}),fL=me(function(s){var a=Rn(s);return a=typeof a=="function"?a:n,ni(_t(s,1,Je,!0),n,a)});function dL(s){return s&&s.length?ni(s):[]}function pL(s,a){return s&&s.length?ni(s,te(a,2)):[]}function gL(s,a){return a=typeof a=="function"?a:n,s&&s.length?ni(s,n,a):[]}function dp(s){if(!(s&&s.length))return[];var a=0;return s=Xr(s,function(l){if(Je(l))return a=lt(l.length,a),!0}),Rd(a,function(l){return ze(s,Ad(l))})}function aw(s,a){if(!(s&&s.length))return[];var l=dp(s);return a==null?l:ze(l,function(f){return ln(a,n,f)})}var mL=me(function(s,a){return Je(s)?_a(s,a):[]}),vL=me(function(s){return Xd(Xr(s,Je))}),yL=me(function(s){var a=Rn(s);return Je(a)&&(a=n),Xd(Xr(s,Je),te(a,2))}),wL=me(function(s){var a=Rn(s);return a=typeof a=="function"?a:n,Xd(Xr(s,Je),n,a)}),_L=me(dp);function EL(s,a){return C1(s||[],a||[],wa)}function SL(s,a){return C1(s||[],a||[],Ia)}var IL=me(function(s){var a=s.length,l=a>1?s[a-1]:n;return l=typeof l=="function"?(s.pop(),l):n,aw(s,l)});function uw(s){var a=m(s);return a.__chain__=!0,a}function TL(s,a){return a(s),s}function ac(s,a){return a(s)}var CL=Tr(function(s){var a=s.length,l=a?s[0]:0,f=this.__wrapped__,p=function(v){return bd(v,s)};return a>1||this.__actions__.length||!(f instanceof ye)||!Cr(l)?this.thru(p):(f=f.slice(l,+l+(a?1:0)),f.__actions__.push({func:ac,args:[p],thisArg:n}),new An(f,this.__chain__).thru(function(v){return a&&!v.length&&v.push(n),v}))});function kL(){return uw(this)}function AL(){return new An(this.value(),this.__chain__)}function xL(){this.__values__===n&&(this.__values__=Sw(this.value()));var s=this.__index__>=this.__values__.length,a=s?n:this.__values__[this.__index__++];return{done:s,value:a}}function NL(){return this}function RL(s){for(var a,l=this;l instanceof ql;){var f=tw(l);f.__index__=0,f.__values__=n,a?p.__wrapped__=f:a=f;var p=f;l=l.__wrapped__}return p.__wrapped__=s,a}function DL(){var s=this.__wrapped__;if(s instanceof ye){var a=s;return this.__actions__.length&&(a=new ye(this)),a=a.reverse(),a.__actions__.push({func:ac,args:[fp],thisArg:n}),new An(a,this.__chain__)}return this.thru(fp)}function LL(){return T1(this.__wrapped__,this.__actions__)}var OL=Zl(function(s,a,l){De.call(s,l)?++s[l]:Sr(s,l,1)});function PL(s,a,l){var f=ce(s)?U0:TR;return l&&Ht(s,a,l)&&(a=n),f(s,te(a,3))}function ML(s,a){var l=ce(s)?Xr:a1;return l(s,te(a,3))}var $L=M1(nw),UL=M1(rw);function bL(s,a){return _t(uc(s,a),1)}function FL(s,a){return _t(uc(s,a),Bn)}function BL(s,a,l){return l=l===n?1:de(l),_t(uc(s,a),l)}function lw(s,a){var l=ce(s)?Cn:ti;return l(s,te(a,3))}function cw(s,a){var l=ce(s)?sN:o1;return l(s,te(a,3))}var VL=Zl(function(s,a,l){De.call(s,l)?s[l].push(a):Sr(s,l,[a])});function zL(s,a,l,f){s=Jt(s)?s:Qs(s),l=l&&!f?de(l):0;var p=s.length;return l<0&&(l=lt(p+l,0)),dc(s)?l<=p&&s.indexOf(a,l)>-1:!!p&&Us(s,a,l)>-1}var WL=me(function(s,a,l){var f=-1,p=typeof a=="function",v=Jt(s)?R(s.length):[];return ti(s,function(_){v[++f]=p?ln(a,_,l):Ea(_,a,l)}),v}),HL=Zl(function(s,a,l){Sr(s,l,a)});function uc(s,a){var l=ce(s)?ze:d1;return l(s,te(a,3))}function jL(s,a,l,f){return s==null?[]:(ce(a)||(a=a==null?[]:[a]),l=f?n:l,ce(l)||(l=l==null?[]:[l]),v1(s,a,l))}var qL=Zl(function(s,a,l){s[l?0:1].push(a)},function(){return[[],[]]});function KL(s,a,l){var f=ce(s)?Cd:V0,p=arguments.length<3;return f(s,te(a,4),l,p,ti)}function GL(s,a,l){var f=ce(s)?oN:V0,p=arguments.length<3;return f(s,te(a,4),l,p,o1)}function QL(s,a){var l=ce(s)?Xr:a1;return l(s,hc(te(a,3)))}function YL(s){var a=ce(s)?n1:zR;return a(s)}function XL(s,a,l){(l?Ht(s,a,l):a===n)?a=1:a=de(a);var f=ce(s)?wR:WR;return f(s,a)}function JL(s){var a=ce(s)?_R:jR;return a(s)}function ZL(s){if(s==null)return 0;if(Jt(s))return dc(s)?Fs(s):s.length;var a=Nt(s);return a==Vn||a==zn?s.size:Hd(s).length}function eO(s,a,l){var f=ce(s)?kd:qR;return l&&Ht(s,a,l)&&(a=n),f(s,te(a,3))}var tO=me(function(s,a){if(s==null)return[];var l=a.length;return l>1&&Ht(s,a[0],a[1])?a=[]:l>2&&Ht(a[0],a[1],a[2])&&(a=[a[0]]),v1(s,_t(a,1),[])}),lc=MN||function(){return wt.Date.now()};function nO(s,a){if(typeof a!="function")throw new kn(u);return s=de(s),function(){if(--s<1)return a.apply(this,arguments)}}function hw(s,a,l){return a=l?n:a,a=s&&a==null?s.length:a,Ir(s,W,n,n,n,n,a)}function fw(s,a){var l;if(typeof a!="function")throw new kn(u);return s=de(s),function(){return--s>0&&(l=a.apply(this,arguments)),s<=1&&(a=n),l}}var pp=me(function(s,a,l){var f=U;if(l.length){var p=Zr(l,Ks(pp));f|=B}return Ir(s,f,a,l,p)}),dw=me(function(s,a,l){var f=U|I;if(l.length){var p=Zr(l,Ks(dw));f|=B}return Ir(a,f,s,l,p)});function pw(s,a,l){a=l?n:a;var f=Ir(s,T,n,n,n,n,n,a);return f.placeholder=pw.placeholder,f}function gw(s,a,l){a=l?n:a;var f=Ir(s,L,n,n,n,n,n,a);return f.placeholder=gw.placeholder,f}function mw(s,a,l){var f,p,v,_,S,k,O=0,P=!1,$=!1,V=!0;if(typeof s!="function")throw new kn(u);a=Dn(a)||0,je(l)&&(P=!!l.leading,$="maxWait"in l,v=$?lt(Dn(l.maxWait)||0,a):v,V="trailing"in l?!!l.trailing:V);function X(Ze){var qn=f,xr=p;return f=p=n,O=Ze,_=s.apply(xr,qn),_}function ne(Ze){return O=Ze,S=ka(ve,a),P?X(Ze):_}function pe(Ze){var qn=Ze-k,xr=Ze-O,Mw=a-qn;return $?xt(Mw,v-xr):Mw}function re(Ze){var qn=Ze-k,xr=Ze-O;return k===n||qn>=a||qn<0||$&&xr>=v}function ve(){var Ze=lc();if(re(Ze))return Ee(Ze);S=ka(ve,pe(Ze))}function Ee(Ze){return S=n,V&&f?X(Ze):(f=p=n,_)}function dn(){S!==n&&k1(S),O=0,f=k=p=S=n}function jt(){return S===n?_:Ee(lc())}function pn(){var Ze=lc(),qn=re(Ze);if(f=arguments,p=this,k=Ze,qn){if(S===n)return ne(k);if($)return k1(S),S=ka(ve,a),X(k)}return S===n&&(S=ka(ve,a)),_}return pn.cancel=dn,pn.flush=jt,pn}var rO=me(function(s,a){return s1(s,1,a)}),iO=me(function(s,a,l){return s1(s,Dn(a)||0,l)});function sO(s){return Ir(s,Re)}function cc(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new kn(u);var l=function(){var f=arguments,p=a?a.apply(this,f):f[0],v=l.cache;if(v.has(p))return v.get(p);var _=s.apply(this,f);return l.cache=v.set(p,_)||v,_};return l.cache=new(cc.Cache||Er),l}cc.Cache=Er;function hc(s){if(typeof s!="function")throw new kn(u);return function(){var a=arguments;switch(a.length){case 0:return!s.call(this);case 1:return!s.call(this,a[0]);case 2:return!s.call(this,a[0],a[1]);case 3:return!s.call(this,a[0],a[1],a[2])}return!s.apply(this,a)}}function oO(s){return fw(2,s)}var aO=KR(function(s,a){a=a.length==1&&ce(a[0])?ze(a[0],cn(te())):ze(_t(a,1),cn(te()));var l=a.length;return me(function(f){for(var p=-1,v=xt(f.length,l);++p<v;)f[p]=a[p].call(this,f[p]);return ln(s,this,f)})}),gp=me(function(s,a){var l=Zr(a,Ks(gp));return Ir(s,B,n,a,l)}),vw=me(function(s,a){var l=Zr(a,Ks(vw));return Ir(s,j,n,a,l)}),uO=Tr(function(s,a){return Ir(s,Q,n,n,n,a)});function lO(s,a){if(typeof s!="function")throw new kn(u);return a=a===n?a:de(a),me(s,a)}function cO(s,a){if(typeof s!="function")throw new kn(u);return a=a==null?0:lt(de(a),0),me(function(l){var f=l[a],p=ii(l,0,a);return f&&Jr(p,f),ln(s,this,p)})}function hO(s,a,l){var f=!0,p=!0;if(typeof s!="function")throw new kn(u);return je(l)&&(f="leading"in l?!!l.leading:f,p="trailing"in l?!!l.trailing:p),mw(s,a,{leading:f,maxWait:a,trailing:p})}function fO(s){return hw(s,1)}function dO(s,a){return gp(Zd(a),s)}function pO(){if(!arguments.length)return[];var s=arguments[0];return ce(s)?s:[s]}function gO(s){return xn(s,A)}function mO(s,a){return a=typeof a=="function"?a:n,xn(s,A,a)}function vO(s){return xn(s,y|A)}function yO(s,a){return a=typeof a=="function"?a:n,xn(s,y|A,a)}function wO(s,a){return a==null||i1(s,a,pt(a))}function jn(s,a){return s===a||s!==s&&a!==a}var _O=rc(Vd),EO=rc(function(s,a){return s>=a}),es=c1(function(){return arguments}())?c1:function(s){return Qe(s)&&De.call(s,"callee")&&!Y0.call(s,"callee")},ce=R.isArray,SO=D0?cn(D0):RR;function Jt(s){return s!=null&&fc(s.length)&&!kr(s)}function Je(s){return Qe(s)&&Jt(s)}function IO(s){return s===!0||s===!1||Qe(s)&&Wt(s)==oa}var si=UN||kp,TO=L0?cn(L0):DR;function CO(s){return Qe(s)&&s.nodeType===1&&!Aa(s)}function kO(s){if(s==null)return!0;if(Jt(s)&&(ce(s)||typeof s=="string"||typeof s.splice=="function"||si(s)||Gs(s)||es(s)))return!s.length;var a=Nt(s);if(a==Vn||a==zn)return!s.size;if(Ca(s))return!Hd(s).length;for(var l in s)if(De.call(s,l))return!1;return!0}function AO(s,a){return Sa(s,a)}function xO(s,a,l){l=typeof l=="function"?l:n;var f=l?l(s,a):n;return f===n?Sa(s,a,n,l):!!f}function mp(s){if(!Qe(s))return!1;var a=Wt(s);return a==Tl||a==XA||typeof s.message=="string"&&typeof s.name=="string"&&!Aa(s)}function NO(s){return typeof s=="number"&&J0(s)}function kr(s){if(!je(s))return!1;var a=Wt(s);return a==Cl||a==s0||a==Ps||a==ZA}function yw(s){return typeof s=="number"&&s==de(s)}function fc(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=H}function je(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}function Qe(s){return s!=null&&typeof s=="object"}var ww=O0?cn(O0):OR;function RO(s,a){return s===a||Wd(s,a,op(a))}function DO(s,a,l){return l=typeof l=="function"?l:n,Wd(s,a,op(a),l)}function LO(s){return _w(s)&&s!=+s}function OO(s){if(mD(s))throw new ae(o);return h1(s)}function PO(s){return s===null}function MO(s){return s==null}function _w(s){return typeof s=="number"||Qe(s)&&Wt(s)==ua}function Aa(s){if(!Qe(s)||Wt(s)!=wr)return!1;var a=Fl(s);if(a===null)return!0;var l=De.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&Ml.call(l)==DN}var vp=P0?cn(P0):PR;function $O(s){return yw(s)&&s>=-H&&s<=H}var Ew=M0?cn(M0):MR;function dc(s){return typeof s=="string"||!ce(s)&&Qe(s)&&Wt(s)==ca}function fn(s){return typeof s=="symbol"||Qe(s)&&Wt(s)==kl}var Gs=$0?cn($0):$R;function UO(s){return s===n}function bO(s){return Qe(s)&&Nt(s)==ha}function FO(s){return Qe(s)&&Wt(s)==tx}var BO=rc(jd),VO=rc(function(s,a){return s<=a});function Sw(s){if(!s)return[];if(Jt(s))return dc(s)?Wn(s):Xt(s);if(pa&&s[pa])return wN(s[pa]());var a=Nt(s),l=a==Vn?Ld:a==zn?Ll:Qs;return l(s)}function Ar(s){if(!s)return s===0?s:0;if(s=Dn(s),s===Bn||s===-Bn){var a=s<0?-1:1;return a*ue}return s===s?s:0}function de(s){var a=Ar(s),l=a%1;return a===a?l?a-l:a:0}function Iw(s){return s?Yi(de(s),0,Ce):0}function Dn(s){if(typeof s=="number")return s;if(fn(s))return le;if(je(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=je(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=z0(s);var l=Sx.test(s);return l||Tx.test(s)?nN(s.slice(2),l?2:8):Ex.test(s)?le:+s}function Tw(s){return sr(s,Zt(s))}function zO(s){return s?Yi(de(s),-H,H):s===0?s:0}function xe(s){return s==null?"":hn(s)}var WO=js(function(s,a){if(Ca(a)||Jt(a)){sr(a,pt(a),s);return}for(var l in a)De.call(a,l)&&wa(s,l,a[l])}),Cw=js(function(s,a){sr(a,Zt(a),s)}),pc=js(function(s,a,l,f){sr(a,Zt(a),s,f)}),HO=js(function(s,a,l,f){sr(a,pt(a),s,f)}),jO=Tr(bd);function qO(s,a){var l=Hs(s);return a==null?l:r1(l,a)}var KO=me(function(s,a){s=Oe(s);var l=-1,f=a.length,p=f>2?a[2]:n;for(p&&Ht(a[0],a[1],p)&&(f=1);++l<f;)for(var v=a[l],_=Zt(v),S=-1,k=_.length;++S<k;){var O=_[S],P=s[O];(P===n||jn(P,Vs[O])&&!De.call(s,O))&&(s[O]=v[O])}return s}),GO=me(function(s){return s.push(n,z1),ln(kw,n,s)});function QO(s,a){return b0(s,te(a,3),ir)}function YO(s,a){return b0(s,te(a,3),Bd)}function XO(s,a){return s==null?s:Fd(s,te(a,3),Zt)}function JO(s,a){return s==null?s:u1(s,te(a,3),Zt)}function ZO(s,a){return s&&ir(s,te(a,3))}function eP(s,a){return s&&Bd(s,te(a,3))}function tP(s){return s==null?[]:Ql(s,pt(s))}function nP(s){return s==null?[]:Ql(s,Zt(s))}function yp(s,a,l){var f=s==null?n:Xi(s,a);return f===n?l:f}function rP(s,a){return s!=null&&j1(s,a,kR)}function wp(s,a){return s!=null&&j1(s,a,AR)}var iP=U1(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=$l.call(a)),s[a]=l},Ep(en)),sP=U1(function(s,a,l){a!=null&&typeof a.toString!="function"&&(a=$l.call(a)),De.call(s,a)?s[a].push(l):s[a]=[l]},te),oP=me(Ea);function pt(s){return Jt(s)?t1(s):Hd(s)}function Zt(s){return Jt(s)?t1(s,!0):UR(s)}function aP(s,a){var l={};return a=te(a,3),ir(s,function(f,p,v){Sr(l,a(f,p,v),f)}),l}function uP(s,a){var l={};return a=te(a,3),ir(s,function(f,p,v){Sr(l,p,a(f,p,v))}),l}var lP=js(function(s,a,l){Yl(s,a,l)}),kw=js(function(s,a,l,f){Yl(s,a,l,f)}),cP=Tr(function(s,a){var l={};if(s==null)return l;var f=!1;a=ze(a,function(v){return v=ri(v,s),f||(f=v.length>1),v}),sr(s,ip(s),l),f&&(l=xn(l,y|w|A,iD));for(var p=a.length;p--;)Yd(l,a[p]);return l});function hP(s,a){return Aw(s,hc(te(a)))}var fP=Tr(function(s,a){return s==null?{}:FR(s,a)});function Aw(s,a){if(s==null)return{};var l=ze(ip(s),function(f){return[f]});return a=te(a),y1(s,l,function(f,p){return a(f,p[0])})}function dP(s,a,l){a=ri(a,s);var f=-1,p=a.length;for(p||(p=1,s=n);++f<p;){var v=s==null?n:s[or(a[f])];v===n&&(f=p,v=l),s=kr(v)?v.call(s):v}return s}function pP(s,a,l){return s==null?s:Ia(s,a,l)}function gP(s,a,l,f){return f=typeof f=="function"?f:n,s==null?s:Ia(s,a,l,f)}var xw=B1(pt),Nw=B1(Zt);function mP(s,a,l){var f=ce(s),p=f||si(s)||Gs(s);if(a=te(a,4),l==null){var v=s&&s.constructor;p?l=f?new v:[]:je(s)?l=kr(v)?Hs(Fl(s)):{}:l={}}return(p?Cn:ir)(s,function(_,S,k){return a(l,_,S,k)}),l}function vP(s,a){return s==null?!0:Yd(s,a)}function yP(s,a,l){return s==null?s:I1(s,a,Zd(l))}function wP(s,a,l,f){return f=typeof f=="function"?f:n,s==null?s:I1(s,a,Zd(l),f)}function Qs(s){return s==null?[]:Dd(s,pt(s))}function _P(s){return s==null?[]:Dd(s,Zt(s))}function EP(s,a,l){return l===n&&(l=a,a=n),l!==n&&(l=Dn(l),l=l===l?l:0),a!==n&&(a=Dn(a),a=a===a?a:0),Yi(Dn(s),a,l)}function SP(s,a,l){return a=Ar(a),l===n?(l=a,a=0):l=Ar(l),s=Dn(s),xR(s,a,l)}function IP(s,a,l){if(l&&typeof l!="boolean"&&Ht(s,a,l)&&(a=l=n),l===n&&(typeof a=="boolean"?(l=a,a=n):typeof s=="boolean"&&(l=s,s=n)),s===n&&a===n?(s=0,a=1):(s=Ar(s),a===n?(a=s,s=0):a=Ar(a)),s>a){var f=s;s=a,a=f}if(l||s%1||a%1){var p=Z0();return xt(s+p*(a-s+tN("1e-"+((p+"").length-1))),a)}return Kd(s,a)}var TP=qs(function(s,a,l){return a=a.toLowerCase(),s+(l?Rw(a):a)});function Rw(s){return _p(xe(s).toLowerCase())}function Dw(s){return s=xe(s),s&&s.replace(kx,pN).replace(jx,"")}function CP(s,a,l){s=xe(s),a=hn(a);var f=s.length;l=l===n?f:Yi(de(l),0,f);var p=l;return l-=a.length,l>=0&&s.slice(l,p)==a}function kP(s){return s=xe(s),s&&ox.test(s)?s.replace(u0,gN):s}function AP(s){return s=xe(s),s&&fx.test(s)?s.replace(gd,"\\$&"):s}var xP=qs(function(s,a,l){return s+(l?"-":"")+a.toLowerCase()}),NP=qs(function(s,a,l){return s+(l?" ":"")+a.toLowerCase()}),RP=P1("toLowerCase");function DP(s,a,l){s=xe(s),a=de(a);var f=a?Fs(s):0;if(!a||f>=a)return s;var p=(a-f)/2;return nc(Wl(p),l)+s+nc(zl(p),l)}function LP(s,a,l){s=xe(s),a=de(a);var f=a?Fs(s):0;return a&&f<a?s+nc(a-f,l):s}function OP(s,a,l){s=xe(s),a=de(a);var f=a?Fs(s):0;return a&&f<a?nc(a-f,l)+s:s}function PP(s,a,l){return l||a==null?a=0:a&&(a=+a),VN(xe(s).replace(md,""),a||0)}function MP(s,a,l){return(l?Ht(s,a,l):a===n)?a=1:a=de(a),Gd(xe(s),a)}function $P(){var s=arguments,a=xe(s[0]);return s.length<3?a:a.replace(s[1],s[2])}var UP=qs(function(s,a,l){return s+(l?"_":"")+a.toLowerCase()});function bP(s,a,l){return l&&typeof l!="number"&&Ht(s,a,l)&&(a=l=n),l=l===n?Ce:l>>>0,l?(s=xe(s),s&&(typeof a=="string"||a!=null&&!vp(a))&&(a=hn(a),!a&&bs(s))?ii(Wn(s),0,l):s.split(a,l)):[]}var FP=qs(function(s,a,l){return s+(l?" ":"")+_p(a)});function BP(s,a,l){return s=xe(s),l=l==null?0:Yi(de(l),0,s.length),a=hn(a),s.slice(l,l+a.length)==a}function VP(s,a,l){var f=m.templateSettings;l&&Ht(s,a,l)&&(a=n),s=xe(s),a=pc({},a,f,V1);var p=pc({},a.imports,f.imports,V1),v=pt(p),_=Dd(p,v),S,k,O=0,P=a.interpolate||Al,$="__p += '",V=Od((a.escape||Al).source+"|"+P.source+"|"+(P===l0?_x:Al).source+"|"+(a.evaluate||Al).source+"|$","g"),X="//# sourceURL="+(De.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yx+"]")+`
`;s.replace(V,function(re,ve,Ee,dn,jt,pn){return Ee||(Ee=dn),$+=s.slice(O,pn).replace(Ax,mN),ve&&(S=!0,$+=`' +
__e(`+ve+`) +
'`),jt&&(k=!0,$+=`';
`+jt+`;
__p += '`),Ee&&($+=`' +
((__t = (`+Ee+`)) == null ? '' : __t) +
'`),O=pn+re.length,re}),$+=`';
`;var ne=De.call(a,"variable")&&a.variable;if(!ne)$=`with (obj) {
`+$+`
}
`;else if(yx.test(ne))throw new ae(c);$=(k?$.replace(nx,""):$).replace(rx,"$1").replace(ix,"$1;"),$="function("+(ne||"obj")+`) {
`+(ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var pe=Ow(function(){return ke(v,X+"return "+$).apply(n,_)});if(pe.source=$,mp(pe))throw pe;return pe}function zP(s){return xe(s).toLowerCase()}function WP(s){return xe(s).toUpperCase()}function HP(s,a,l){if(s=xe(s),s&&(l||a===n))return z0(s);if(!s||!(a=hn(a)))return s;var f=Wn(s),p=Wn(a),v=W0(f,p),_=H0(f,p)+1;return ii(f,v,_).join("")}function jP(s,a,l){if(s=xe(s),s&&(l||a===n))return s.slice(0,q0(s)+1);if(!s||!(a=hn(a)))return s;var f=Wn(s),p=H0(f,Wn(a))+1;return ii(f,0,p).join("")}function qP(s,a,l){if(s=xe(s),s&&(l||a===n))return s.replace(md,"");if(!s||!(a=hn(a)))return s;var f=Wn(s),p=W0(f,Wn(a));return ii(f,p).join("")}function KP(s,a){var l=ge,f=un;if(je(a)){var p="separator"in a?a.separator:p;l="length"in a?de(a.length):l,f="omission"in a?hn(a.omission):f}s=xe(s);var v=s.length;if(bs(s)){var _=Wn(s);v=_.length}if(l>=v)return s;var S=l-Fs(f);if(S<1)return f;var k=_?ii(_,0,S).join(""):s.slice(0,S);if(p===n)return k+f;if(_&&(S+=k.length-S),vp(p)){if(s.slice(S).search(p)){var O,P=k;for(p.global||(p=Od(p.source,xe(c0.exec(p))+"g")),p.lastIndex=0;O=p.exec(P);)var $=O.index;k=k.slice(0,$===n?S:$)}}else if(s.indexOf(hn(p),S)!=S){var V=k.lastIndexOf(p);V>-1&&(k=k.slice(0,V))}return k+f}function GP(s){return s=xe(s),s&&sx.test(s)?s.replace(a0,IN):s}var QP=qs(function(s,a,l){return s+(l?" ":"")+a.toUpperCase()}),_p=P1("toUpperCase");function Lw(s,a,l){return s=xe(s),a=l?n:a,a===n?yN(s)?kN(s):lN(s):s.match(a)||[]}var Ow=me(function(s,a){try{return ln(s,n,a)}catch(l){return mp(l)?l:new ae(l)}}),YP=Tr(function(s,a){return Cn(a,function(l){l=or(l),Sr(s,l,pp(s[l],s))}),s});function XP(s){var a=s==null?0:s.length,l=te();return s=a?ze(s,function(f){if(typeof f[1]!="function")throw new kn(u);return[l(f[0]),f[1]]}):[],me(function(f){for(var p=-1;++p<a;){var v=s[p];if(ln(v[0],this,f))return ln(v[1],this,f)}})}function JP(s){return IR(xn(s,y))}function Ep(s){return function(){return s}}function ZP(s,a){return s==null||s!==s?a:s}var eM=$1(),tM=$1(!0);function en(s){return s}function Sp(s){return f1(typeof s=="function"?s:xn(s,y))}function nM(s){return p1(xn(s,y))}function rM(s,a){return g1(s,xn(a,y))}var iM=me(function(s,a){return function(l){return Ea(l,s,a)}}),sM=me(function(s,a){return function(l){return Ea(s,l,a)}});function Ip(s,a,l){var f=pt(a),p=Ql(a,f);l==null&&!(je(a)&&(p.length||!f.length))&&(l=a,a=s,s=this,p=Ql(a,pt(a)));var v=!(je(l)&&"chain"in l)||!!l.chain,_=kr(s);return Cn(p,function(S){var k=a[S];s[S]=k,_&&(s.prototype[S]=function(){var O=this.__chain__;if(v||O){var P=s(this.__wrapped__),$=P.__actions__=Xt(this.__actions__);return $.push({func:k,args:arguments,thisArg:s}),P.__chain__=O,P}return k.apply(s,Jr([this.value()],arguments))})}),s}function oM(){return wt._===this&&(wt._=LN),this}function Tp(){}function aM(s){return s=de(s),me(function(a){return m1(a,s)})}var uM=tp(ze),lM=tp(U0),cM=tp(kd);function Pw(s){return up(s)?Ad(or(s)):BR(s)}function hM(s){return function(a){return s==null?n:Xi(s,a)}}var fM=b1(),dM=b1(!0);function Cp(){return[]}function kp(){return!1}function pM(){return{}}function gM(){return""}function mM(){return!0}function vM(s,a){if(s=de(s),s<1||s>H)return[];var l=Ce,f=xt(s,Ce);a=te(a),s-=Ce;for(var p=Rd(f,a);++l<s;)a(l);return p}function yM(s){return ce(s)?ze(s,or):fn(s)?[s]:Xt(ew(xe(s)))}function wM(s){var a=++RN;return xe(s)+a}var _M=tc(function(s,a){return s+a},0),EM=np("ceil"),SM=tc(function(s,a){return s/a},1),IM=np("floor");function TM(s){return s&&s.length?Gl(s,en,Vd):n}function CM(s,a){return s&&s.length?Gl(s,te(a,2),Vd):n}function kM(s){return B0(s,en)}function AM(s,a){return B0(s,te(a,2))}function xM(s){return s&&s.length?Gl(s,en,jd):n}function NM(s,a){return s&&s.length?Gl(s,te(a,2),jd):n}var RM=tc(function(s,a){return s*a},1),DM=np("round"),LM=tc(function(s,a){return s-a},0);function OM(s){return s&&s.length?Nd(s,en):0}function PM(s,a){return s&&s.length?Nd(s,te(a,2)):0}return m.after=nO,m.ary=hw,m.assign=WO,m.assignIn=Cw,m.assignInWith=pc,m.assignWith=HO,m.at=jO,m.before=fw,m.bind=pp,m.bindAll=YP,m.bindKey=dw,m.castArray=pO,m.chain=uw,m.chunk=ID,m.compact=TD,m.concat=CD,m.cond=XP,m.conforms=JP,m.constant=Ep,m.countBy=OL,m.create=qO,m.curry=pw,m.curryRight=gw,m.debounce=mw,m.defaults=KO,m.defaultsDeep=GO,m.defer=rO,m.delay=iO,m.difference=kD,m.differenceBy=AD,m.differenceWith=xD,m.drop=ND,m.dropRight=RD,m.dropRightWhile=DD,m.dropWhile=LD,m.fill=OD,m.filter=ML,m.flatMap=bL,m.flatMapDeep=FL,m.flatMapDepth=BL,m.flatten=iw,m.flattenDeep=PD,m.flattenDepth=MD,m.flip=sO,m.flow=eM,m.flowRight=tM,m.fromPairs=$D,m.functions=tP,m.functionsIn=nP,m.groupBy=VL,m.initial=bD,m.intersection=FD,m.intersectionBy=BD,m.intersectionWith=VD,m.invert=iP,m.invertBy=sP,m.invokeMap=WL,m.iteratee=Sp,m.keyBy=HL,m.keys=pt,m.keysIn=Zt,m.map=uc,m.mapKeys=aP,m.mapValues=uP,m.matches=nM,m.matchesProperty=rM,m.memoize=cc,m.merge=lP,m.mergeWith=kw,m.method=iM,m.methodOf=sM,m.mixin=Ip,m.negate=hc,m.nthArg=aM,m.omit=cP,m.omitBy=hP,m.once=oO,m.orderBy=jL,m.over=uM,m.overArgs=aO,m.overEvery=lM,m.overSome=cM,m.partial=gp,m.partialRight=vw,m.partition=qL,m.pick=fP,m.pickBy=Aw,m.property=Pw,m.propertyOf=hM,m.pull=jD,m.pullAll=ow,m.pullAllBy=qD,m.pullAllWith=KD,m.pullAt=GD,m.range=fM,m.rangeRight=dM,m.rearg=uO,m.reject=QL,m.remove=QD,m.rest=lO,m.reverse=fp,m.sampleSize=XL,m.set=pP,m.setWith=gP,m.shuffle=JL,m.slice=YD,m.sortBy=tO,m.sortedUniq=rL,m.sortedUniqBy=iL,m.split=bP,m.spread=cO,m.tail=sL,m.take=oL,m.takeRight=aL,m.takeRightWhile=uL,m.takeWhile=lL,m.tap=TL,m.throttle=hO,m.thru=ac,m.toArray=Sw,m.toPairs=xw,m.toPairsIn=Nw,m.toPath=yM,m.toPlainObject=Tw,m.transform=mP,m.unary=fO,m.union=cL,m.unionBy=hL,m.unionWith=fL,m.uniq=dL,m.uniqBy=pL,m.uniqWith=gL,m.unset=vP,m.unzip=dp,m.unzipWith=aw,m.update=yP,m.updateWith=wP,m.values=Qs,m.valuesIn=_P,m.without=mL,m.words=Lw,m.wrap=dO,m.xor=vL,m.xorBy=yL,m.xorWith=wL,m.zip=_L,m.zipObject=EL,m.zipObjectDeep=SL,m.zipWith=IL,m.entries=xw,m.entriesIn=Nw,m.extend=Cw,m.extendWith=pc,Ip(m,m),m.add=_M,m.attempt=Ow,m.camelCase=TP,m.capitalize=Rw,m.ceil=EM,m.clamp=EP,m.clone=gO,m.cloneDeep=vO,m.cloneDeepWith=yO,m.cloneWith=mO,m.conformsTo=wO,m.deburr=Dw,m.defaultTo=ZP,m.divide=SM,m.endsWith=CP,m.eq=jn,m.escape=kP,m.escapeRegExp=AP,m.every=PL,m.find=$L,m.findIndex=nw,m.findKey=QO,m.findLast=UL,m.findLastIndex=rw,m.findLastKey=YO,m.floor=IM,m.forEach=lw,m.forEachRight=cw,m.forIn=XO,m.forInRight=JO,m.forOwn=ZO,m.forOwnRight=eP,m.get=yp,m.gt=_O,m.gte=EO,m.has=rP,m.hasIn=wp,m.head=sw,m.identity=en,m.includes=zL,m.indexOf=UD,m.inRange=SP,m.invoke=oP,m.isArguments=es,m.isArray=ce,m.isArrayBuffer=SO,m.isArrayLike=Jt,m.isArrayLikeObject=Je,m.isBoolean=IO,m.isBuffer=si,m.isDate=TO,m.isElement=CO,m.isEmpty=kO,m.isEqual=AO,m.isEqualWith=xO,m.isError=mp,m.isFinite=NO,m.isFunction=kr,m.isInteger=yw,m.isLength=fc,m.isMap=ww,m.isMatch=RO,m.isMatchWith=DO,m.isNaN=LO,m.isNative=OO,m.isNil=MO,m.isNull=PO,m.isNumber=_w,m.isObject=je,m.isObjectLike=Qe,m.isPlainObject=Aa,m.isRegExp=vp,m.isSafeInteger=$O,m.isSet=Ew,m.isString=dc,m.isSymbol=fn,m.isTypedArray=Gs,m.isUndefined=UO,m.isWeakMap=bO,m.isWeakSet=FO,m.join=zD,m.kebabCase=xP,m.last=Rn,m.lastIndexOf=WD,m.lowerCase=NP,m.lowerFirst=RP,m.lt=BO,m.lte=VO,m.max=TM,m.maxBy=CM,m.mean=kM,m.meanBy=AM,m.min=xM,m.minBy=NM,m.stubArray=Cp,m.stubFalse=kp,m.stubObject=pM,m.stubString=gM,m.stubTrue=mM,m.multiply=RM,m.nth=HD,m.noConflict=oM,m.noop=Tp,m.now=lc,m.pad=DP,m.padEnd=LP,m.padStart=OP,m.parseInt=PP,m.random=IP,m.reduce=KL,m.reduceRight=GL,m.repeat=MP,m.replace=$P,m.result=dP,m.round=DM,m.runInContext=C,m.sample=YL,m.size=ZL,m.snakeCase=UP,m.some=eO,m.sortedIndex=XD,m.sortedIndexBy=JD,m.sortedIndexOf=ZD,m.sortedLastIndex=eL,m.sortedLastIndexBy=tL,m.sortedLastIndexOf=nL,m.startCase=FP,m.startsWith=BP,m.subtract=LM,m.sum=OM,m.sumBy=PM,m.template=VP,m.times=vM,m.toFinite=Ar,m.toInteger=de,m.toLength=Iw,m.toLower=zP,m.toNumber=Dn,m.toSafeInteger=zO,m.toString=xe,m.toUpper=WP,m.trim=HP,m.trimEnd=jP,m.trimStart=qP,m.truncate=KP,m.unescape=GP,m.uniqueId=wM,m.upperCase=QP,m.upperFirst=_p,m.each=lw,m.eachRight=cw,m.first=sw,Ip(m,function(){var s={};return ir(m,function(a,l){De.call(m.prototype,l)||(s[l]=a)}),s}(),{chain:!1}),m.VERSION=r,Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){m[s].placeholder=m}),Cn(["drop","take"],function(s,a){ye.prototype[s]=function(l){l=l===n?1:lt(de(l),0);var f=this.__filtered__&&!a?new ye(this):this.clone();return f.__filtered__?f.__takeCount__=xt(l,f.__takeCount__):f.__views__.push({size:xt(l,Ce),type:s+(f.__dir__<0?"Right":"")}),f},ye.prototype[s+"Right"]=function(l){return this.reverse()[s](l).reverse()}}),Cn(["filter","map","takeWhile"],function(s,a){var l=a+1,f=l==ia||l==sa;ye.prototype[s]=function(p){var v=this.clone();return v.__iteratees__.push({iteratee:te(p,3),type:l}),v.__filtered__=v.__filtered__||f,v}}),Cn(["head","last"],function(s,a){var l="take"+(a?"Right":"");ye.prototype[s]=function(){return this[l](1).value()[0]}}),Cn(["initial","tail"],function(s,a){var l="drop"+(a?"":"Right");ye.prototype[s]=function(){return this.__filtered__?new ye(this):this[l](1)}}),ye.prototype.compact=function(){return this.filter(en)},ye.prototype.find=function(s){return this.filter(s).head()},ye.prototype.findLast=function(s){return this.reverse().find(s)},ye.prototype.invokeMap=me(function(s,a){return typeof s=="function"?new ye(this):this.map(function(l){return Ea(l,s,a)})}),ye.prototype.reject=function(s){return this.filter(hc(te(s)))},ye.prototype.slice=function(s,a){s=de(s);var l=this;return l.__filtered__&&(s>0||a<0)?new ye(l):(s<0?l=l.takeRight(-s):s&&(l=l.drop(s)),a!==n&&(a=de(a),l=a<0?l.dropRight(-a):l.take(a-s)),l)},ye.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},ye.prototype.toArray=function(){return this.take(Ce)},ir(ye.prototype,function(s,a){var l=/^(?:filter|find|map|reject)|While$/.test(a),f=/^(?:head|last)$/.test(a),p=m[f?"take"+(a=="last"?"Right":""):a],v=f||/^find/.test(a);p&&(m.prototype[a]=function(){var _=this.__wrapped__,S=f?[1]:arguments,k=_ instanceof ye,O=S[0],P=k||ce(_),$=function(ve){var Ee=p.apply(m,Jr([ve],S));return f&&V?Ee[0]:Ee};P&&l&&typeof O=="function"&&O.length!=1&&(k=P=!1);var V=this.__chain__,X=!!this.__actions__.length,ne=v&&!V,pe=k&&!X;if(!v&&P){_=pe?_:new ye(this);var re=s.apply(_,S);return re.__actions__.push({func:ac,args:[$],thisArg:n}),new An(re,V)}return ne&&pe?s.apply(this,S):(re=this.thru($),ne?f?re.value()[0]:re.value():re)})}),Cn(["pop","push","shift","sort","splice","unshift"],function(s){var a=Ol[s],l=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",f=/^(?:pop|shift)$/.test(s);m.prototype[s]=function(){var p=arguments;if(f&&!this.__chain__){var v=this.value();return a.apply(ce(v)?v:[],p)}return this[l](function(_){return a.apply(ce(_)?_:[],p)})}}),ir(ye.prototype,function(s,a){var l=m[a];if(l){var f=l.name+"";De.call(Ws,f)||(Ws[f]=[]),Ws[f].push({name:a,func:l})}}),Ws[ec(n,I).name]=[{name:"wrapper",func:n}],ye.prototype.clone=GN,ye.prototype.reverse=QN,ye.prototype.value=YN,m.prototype.at=CL,m.prototype.chain=kL,m.prototype.commit=AL,m.prototype.next=xL,m.prototype.plant=RL,m.prototype.reverse=DL,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=LL,m.prototype.first=m.prototype.head,pa&&(m.prototype[pa]=NL),m},Bs=AN();qi?((qi.exports=Bs)._=Bs,Sd._=Bs):wt._=Bs}).call(xa)})(r6,rf);const i6=rf,s6=()=>{const[t,e]=z.useState(window.screen.availWidth),{data:n}=ra();return z.useEffect(()=>{const r=i6.debounce(()=>e(window.screen.availWidth),100);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),Me("div",{className:_S.home,children:[Y(e6,{width:t}),Me("div",{className:_S.homeContainer,children:[(t>550||n.chatId=="null")&&Y(CH,{}),(t>550||n.chatId!="null")&&Y(QH,{})]})]})},o6="_flashmessage_14ruk_1",a6="_status_14ruk_10",u6="_statusSuccess_14ruk_24",l6="_statusFailure_14ruk_27",Fa={flashmessage:o6,status:a6,statusSuccess:u6,statusFailure:l6},YA=({status:t})=>Y("div",{className:Fa.flashmessage,children:Y("strong",{className:t.status?`${Fa.status} ${Fa.statusSuccess}`:`${Fa.status} ${Fa.statusFailure}`,children:t.value})}),c6=()=>{const[t,e]=z.useState({showStatus:!1}),[n,r]=z.useState(!1),i=qv(),o=(c,h="Something went wrong")=>{e({showStatus:!0,status:c,value:c?"Signed up successfully.":h}),setTimeout(()=>{e({showStatus:!1})},5e3)},u=async c=>{c.preventDefault();const h=c.target[0].value,d=c.target[1].value,g=c.target[2].value;r(!0);try{const y=await R4(id,d,g);await O4(y.user,{displayName:h}),await Gm(Xn(Pn,"users",y.user.uid),{uid:y.user.uid,name:h,email:d}),await Gm(Xn(Pn,"userChats",y.user.uid),{}),o(!0),i("/")}catch(y){console.log(y),o(!1,y.message),r(!1)}r(!1)};return Me("div",{className:`${Ie.page} ${Ie.pageCentered}`,children:[t.showStatus&&Y(YA,{status:t}),Y("div",{className:Ie.center,children:Me("div",{className:Ie.formWrapper,children:[Y("p",{className:Ie.title,children:"Hello!"}),Y("p",{className:Ie.subtitle,style:{marginBottom:"16px"},children:"Please enter your details."}),Me("form",{className:Ie.form,onSubmit:u,children:[Me("label",{className:Ie.formLabel,children:["Name",Y("input",{type:"text",required:!0,placeholder:"Enter your name",className:`${Ie.formInput} ${Ie.formInputText}`,disabled:n})]}),Me("label",{className:Ie.formLabel,children:["Email",Y("input",{type:"email",required:!0,placeholder:"Enter your email",className:`${Ie.formInput} ${Ie.formInputText}`,disabled:n})]}),Me("label",{className:Ie.formLabel,children:["Password",Y("input",{type:"password",minLength:6,required:!0,placeholder:"Enter your password",className:`${Ie.formInput} ${Ie.formInputText}`,disabled:n})]}),Y("button",{className:Ie.formButton,disabled:n,children:n?"Signing Up":"Sign Up"})]}),Me("p",{className:Ie.subtitle,style:{marginTop:"12px",fontSize:"12px"},children:["Already have an account?"," ",Y(bT,{to:"/login",children:Y("strong",{style:{color:"#229954"},children:"Login!"})})]})]})})]})},ES=()=>{const[t,e]=z.useState({showStatus:!1}),[n,r]=z.useState(!1),i=qv(),o=(c,h="Something went wrong")=>{e({showStatus:!c,status:c,value:c?"Logged In":h}),setTimeout(()=>{e({showStatus:!1})},5e3)},u=async c=>{c.preventDefault();const h=c.target[0].value,d=c.target[1].value;r(!0);try{const g=await D4(id,h,d);o(!0),i("/")}catch(g){o(!1,g.message),r(!1)}r(!1)};return Me("div",{className:`${Ie.page} ${Ie.pageCentered}`,children:[t.showStatus&&Y(YA,{status:t}),Y("div",{className:Ie.center,children:Me("div",{className:Ie.formWrapper,children:[Y("p",{className:Ie.title,children:"Welcome!"}),Y("p",{className:Ie.subtitle,style:{marginBottom:"16px"},children:"Please enter your details."}),Me("form",{className:Ie.form,onSubmit:u,children:[Me("label",{className:Ie.formLabel,children:["Email",Y("input",{disabled:n,type:"email",minLength:3,required:!0,placeholder:"Enter your email",className:`${Ie.formInput} ${Ie.formInputText}`})]}),Me("label",{className:Ie.formLabel,children:["Password",Y("input",{disabled:n,type:"password",minLength:6,required:!0,placeholder:"Enter your password",className:`${Ie.formInput} ${Ie.formInputText}`})]}),Y("button",{className:Ie.formButton,children:n?"Logging in":"Login"})]}),Me("p",{className:Ie.subtitle,style:{marginTop:"12px",fontSize:"12px"},children:["Don't have an account?"," ",Y(bT,{to:"/signup",children:Y("strong",{style:{color:"#229954"},children:"Sign Up!"})})]})]})})]})};function h6(){const{user:t}=na(),n=GU((r=>[{path:"/",element:r?Y(s6,{}):Y(ES,{})},{path:"/login",element:Y(ES,{})},{path:"/signup",element:Y(c6,{})}])(t));return Y(uh,{children:n})}_g.createRoot(document.getElementById("root")).render(Y(Ur.StrictMode,{children:Y(ZW,{children:Y(eH,{children:Y(ub,{children:Y(h6,{})})})})}));
